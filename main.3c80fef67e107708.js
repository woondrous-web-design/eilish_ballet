"use strict";var AO=Object.defineProperty,SO=Object.defineProperties,xO=Object.getOwnPropertyDescriptors,MM=Object.getOwnPropertySymbols,MO=Object.prototype.hasOwnProperty,RO=Object.prototype.propertyIsEnumerable,RM=(nt,Ee,N)=>Ee in nt?AO(nt,Ee,{enumerable:!0,configurable:!0,writable:!0,value:N}):nt[Ee]=N,XC=(nt,Ee)=>{for(var N in Ee||(Ee={}))MO.call(Ee,N)&&RM(nt,N,Ee[N]);if(MM)for(var N of MM(Ee))RO.call(Ee,N)&&RM(nt,N,Ee[N]);return nt},eD=(nt,Ee)=>SO(nt,xO(Ee));(self.webpackChunkeilish_ballet=self.webpackChunkeilish_ballet||[]).push([[179],{2011:(nt,Ee,N)=>{N.d(Ee,{Dh:()=>he,GT:()=>ge,cc:()=>xe,hO:()=>Ke,on:()=>j,pX:()=>oe,xv:()=>fe});var f=N(5e3),Q=N(9260),k=N(4976);nt=N.hmd(nt);const ie=["ngOnDestroy"],oe=(ve,je,$e,Fe={})=>new Proxy(ve,{get:(tt,Me)=>$e.runOutsideAngular(()=>{var rt;if(ve[Me])return(null===(rt=null==Fe?void 0:Fe.spy)||void 0===rt?void 0:rt.get)&&Fe.spy.get(Me,ve[Me]),ve[Me];if(ie.indexOf(Me)>-1)return()=>{};const We=je.toPromise().then(_t=>{const Y=_t&&_t[Me];return"function"==typeof Y?Y.bind(_t):Y&&Y.then?Y.then(pe=>$e.run(()=>pe)):$e.run(()=>Y)});return new Proxy(()=>{},{get:(_t,Y)=>We[Y],apply:(_t,Y,pe)=>We.then(we=>{var De;const Ue=we&&we(...pe);return(null===(De=null==Fe?void 0:Fe.spy)||void 0===De?void 0:De.apply)&&Fe.spy.apply(Me,pe,Ue),Ue})})})}),ge=(ve,je)=>{je.forEach($e=>{Object.getOwnPropertyNames($e.prototype||$e).forEach(Fe=>{Object.defineProperty(ve.prototype,Fe,Object.getOwnPropertyDescriptor($e.prototype||$e,Fe))})})};class ae{constructor(je){return je}}const he=new f.OlP("angularfire2.app.options"),fe=new f.OlP("angularfire2.app.name");function j(ve,je,$e){const tt="object"==typeof $e&&$e||{};tt.name=tt.name||"string"==typeof $e&&$e||"[DEFAULT]";const rt=Q.Z.apps.filter(We=>We&&We.name===tt.name)[0]||je.runOutsideAngular(()=>Q.Z.initializeApp(ve,tt));try{JSON.stringify(ve)!==JSON.stringify(rt.options)&&q("error",`${rt.name} Firebase App already initialized with different options${nt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(We){}return new ae(rt)}const q=(ve,...je)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[ve](...je)},te={provide:ae,useFactory:j,deps:[he,f.R0b,[new f.FiY,fe]]};let Ke=(()=>{class ve{constructor($e){Q.Z.registerVersion("angularfire",k.q4.full,"core"),Q.Z.registerVersion("angularfire",k.q4.full,"app-compat"),Q.Z.registerVersion("angular",f.q4F.full,$e.toString())}static initializeApp($e,Fe){return{ngModule:ve,providers:[{provide:he,useValue:$e},{provide:fe,useValue:Fe}]}}}return ve.\u0275fac=function($e){return new($e||ve)(f.LFG(f.Lbi))},ve.\u0275mod=f.oAB({type:ve}),ve.\u0275inj=f.cJS({providers:[te]}),ve})();function xe(ve,je,$e,Fe,tt){const[,Me,rt]=globalThis.\u0275AngularfireInstanceCache.find(We=>We[0]===ve)||[];if(Me)return function ke(ve,je){try{return ve.toString()===je.toString()}catch($e){return ve===je}}(tt,rt)||(le("error",`${je} was already initialized on the ${$e} Firebase App with different settings.${Ze?" You may need to reload as Firebase is not HMR aware.":""}`),le("warn",{is:tt,was:rt})),Me;{const We=Fe();return globalThis.\u0275AngularfireInstanceCache.push([ve,We,tt]),We}}const Ze=!!nt.hot,le=(ve,...je)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[ve](...je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(nt,Ee,N)=>{N.d(Ee,{q4:()=>Ia,iC:()=>Sc,HU:()=>Ao,vb:()=>dl,JM:()=>cl});var f=N(5e3),Q=N(259),k=N(5861),ie=N(6881),oe=N(2090),ge=N(4859),ae=N(1877);let fe,j;const Ke=new WeakMap,xe=new WeakMap,ke=new WeakMap,Ze=new WeakMap,le=new WeakMap;let $e={get(E,C,x){if(E instanceof IDBTransaction){if("done"===C)return xe.get(E);if("objectStoreNames"===C)return E.objectStoreNames||ke.get(E);if("store"===C)return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return rt(E[C])},set:(E,C,x)=>(E[C]=x,!0),has:(E,C)=>E instanceof IDBTransaction&&("done"===C||"store"===C)||C in E};function Me(E){return"function"==typeof E?function tt(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return j||(j=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...C){return E.apply(We(this),C),rt(Ke.get(this))}:function(...C){return rt(E.apply(We(this),C))}:function(C,...x){const O=E.call(We(this),C,...x);return ke.set(O,C.sort?C.sort():[C]),rt(O)}}(E):(E instanceof IDBTransaction&&function je(E){if(xe.has(E))return;const C=new Promise((x,O)=>{const $=()=>{E.removeEventListener("complete",W),E.removeEventListener("error",se),E.removeEventListener("abort",se)},W=()=>{x(),$()},se=()=>{O(E.error||new DOMException("AbortError","AbortError")),$()};E.addEventListener("complete",W),E.addEventListener("error",se),E.addEventListener("abort",se)});xe.set(E,C)}(E),((E,C)=>C.some(x=>E instanceof x))(E,function q(){return fe||(fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,$e):E)}function rt(E){if(E instanceof IDBRequest)return function ve(E){const C=new Promise((x,O)=>{const $=()=>{E.removeEventListener("success",W),E.removeEventListener("error",se)},W=()=>{x(rt(E.result)),$()},se=()=>{O(E.error),$()};E.addEventListener("success",W),E.addEventListener("error",se)});return C.then(x=>{x instanceof IDBCursor&&Ke.set(x,E)}).catch(()=>{}),le.set(C,E),C}(E);if(Ze.has(E))return Ze.get(E);const C=Me(E);return C!==E&&(Ze.set(E,C),le.set(C,E)),C}const We=E=>le.get(E),pe=["get","getKey","getAll","getAllKeys","count"],we=["put","add","delete","clear"],De=new Map;function Ue(E,C){if(!(E instanceof IDBDatabase)||C in E||"string"!=typeof C)return;if(De.get(C))return De.get(C);const x=C.replace(/FromIndex$/,""),O=C!==x,$=we.includes(x);if(!(x in(O?IDBIndex:IDBObjectStore).prototype)||!$&&!pe.includes(x))return;const W=function(){var se=(0,k.Z)(function*(qe,...Le){const et=this.transaction(qe,$?"readwrite":"readonly");let It=et.store;return O&&(It=It.index(Le.shift())),(yield Promise.all([It[x](...Le),$&&et.done]))[0]});return function(Le){return se.apply(this,arguments)}}();return De.set(C,W),W}!function Fe(E){$e=E($e)}(E=>eD(XC({},E),{get:(C,x,O)=>Ue(C,x)||E.get(C,x,O),has:(C,x)=>!!Ue(C,x)||E.has(C,x)}));const ce="@firebase/installations",Ar="w:0.6.4",ft="FIS_v2",wr=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function pr(E){return E instanceof oe.ZR&&E.code.includes("request-failed")}function Pn({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function _s(E){return{token:E.token,requestStatus:2,expiresIn:co(E.expiresIn),creationTime:Date.now()}}function vs(E,C){return ja.apply(this,arguments)}function ja(){return(ja=(0,k.Z)(function*(E,C){const O=(yield C.json()).error;return wr.create("request-failed",{requestName:E,serverCode:O.code,serverMessage:O.message,serverStatus:O.status})})).apply(this,arguments)}function Zo({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function lo(E,{refreshToken:C}){const x=Zo(E);return x.append("Authorization",function ot(E){return`${ft} ${E}`}(C)),x}function Li(E){return ws.apply(this,arguments)}function ws(){return(ws=(0,k.Z)(function*(E){const C=yield E();return C.status>=500&&C.status<600?E():C})).apply(this,arguments)}function co(E){return Number(E.replace("s","000"))}function On(E,C){return jn.apply(this,arguments)}function jn(){return(jn=(0,k.Z)(function*({appConfig:E,heartbeatServiceProvider:C},{fid:x}){const O=Pn(E),$=Zo(E),W=C.getImmediate({optional:!0});if(W){const et=yield W.getHeartbeatsHeader();et&&$.append("x-firebase-client",et)}const qe={method:"POST",headers:$,body:JSON.stringify({fid:x,authVersion:ft,appId:E.appId,sdkVersion:Ar})},Le=yield Li(()=>fetch(O,qe));if(Le.ok){const et=yield Le.json();return{fid:et.fid||x,registrationStatus:2,refreshToken:et.refreshToken,authToken:_s(et.authToken)}}throw yield vs("Create Installation",Le)})).apply(this,arguments)}function Nn(E){return new Promise(C=>{setTimeout(C,E)})}const Oe=/^[cdef][\w-]{21}$/;function pn(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const x=function nr(E){return function ho(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Oe.test(x)?x:""}catch(E){return""}}function Sr(E){return`${E.appName}!${E.appId}`}const Bt=new Map;function pt(E,C){const x=Sr(E);Es(x,C),function $t(E,C){const x=function An(){return!fi&&"BroadcastChannel"in self&&(fi=new BroadcastChannel("[Firebase] FID Change"),fi.onmessage=E=>{Es(E.data.key,E.data.fid)}),fi}();x&&x.postMessage({key:E,fid:C}),function Wt(){0===Bt.size&&fi&&(fi.close(),fi=null)}()}(x,C)}function Es(E,C){const x=Bt.get(E);if(x)for(const O of x)O(C)}let fi=null;const jt="firebase-installations-store";let Vi=null;function zn(){return Vi||(Vi=function _t(E,C,{blocked:x,upgrade:O,blocking:$,terminated:W}={}){const se=indexedDB.open(E,C),qe=rt(se);return O&&se.addEventListener("upgradeneeded",Le=>{O(rt(se.result),Le.oldVersion,Le.newVersion,rt(se.transaction))}),x&&se.addEventListener("blocked",()=>x()),qe.then(Le=>{W&&Le.addEventListener("close",()=>W()),$&&Le.addEventListener("versionchange",()=>$())}).catch(()=>{}),qe}("firebase-installations-database",1,{upgrade:(E,C)=>{0===C&&E.createObjectStore(jt)}})),Vi}function $n(E,C){return rr.apply(this,arguments)}function rr(){return(rr=(0,k.Z)(function*(E,C){const x=Sr(E),$=(yield zn()).transaction(jt,"readwrite"),W=$.objectStore(jt),se=yield W.get(x);return yield W.put(C,x),yield $.done,(!se||se.fid!==C.fid)&&pt(E,C.fid),C})).apply(this,arguments)}function fo(E){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,k.Z)(function*(E){const C=Sr(E),O=(yield zn()).transaction(jt,"readwrite");yield O.objectStore(jt).delete(C),yield O.done})).apply(this,arguments)}function Ui(E,C){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,k.Z)(function*(E,C){const x=Sr(E),$=(yield zn()).transaction(jt,"readwrite"),W=$.objectStore(jt),se=yield W.get(x),qe=C(se);return void 0===qe?yield W.delete(x):yield W.put(qe,x),yield $.done,qe&&(!se||se.fid!==qe.fid)&&pt(E,qe.fid),qe})).apply(this,arguments)}function U(E){return V.apply(this,arguments)}function V(){return(V=(0,k.Z)(function*(E){let C;const x=yield Ui(E.appConfig,O=>{const $=Z(O),W=Ie(E,$);return C=W.registrationPromise,W.installationEntry});return""===x.fid?{installationEntry:yield C}:{installationEntry:x,registrationPromise:C}})).apply(this,arguments)}function Z(E){return sn(E||{fid:pn(),registrationStatus:0})}function Ie(E,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(wr.create("app-offline"))};const x={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},O=function X(E,C){return it.apply(this,arguments)}(E,x);return{installationEntry:x,registrationPromise:O}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:Rt(E)}:{installationEntry:C}}function it(){return(it=(0,k.Z)(function*(E,C){try{const x=yield On(E,C);return $n(E.appConfig,x)}catch(x){throw pr(x)&&409===x.customData.serverCode?yield fo(E.appConfig):yield $n(E.appConfig,{fid:C.fid,registrationStatus:0}),x}})).apply(this,arguments)}function Rt(E){return St.apply(this,arguments)}function St(){return(St=(0,k.Z)(function*(E){let C=yield gn(E.appConfig);for(;1===C.registrationStatus;)yield Nn(100),C=yield gn(E.appConfig);if(0===C.registrationStatus){const{installationEntry:x,registrationPromise:O}=yield U(E);return O||x}return C})).apply(this,arguments)}function gn(E){return Ui(E,C=>{if(!C)throw wr.create("installation-not-found");return sn(C)})}function sn(E){return function dn(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function Dt(E,C){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,k.Z)(function*({appConfig:E,heartbeatServiceProvider:C},x){const O=pi(E,x),$=lo(E,x),W=C.getImmediate({optional:!0});if(W){const et=yield W.getHeartbeatsHeader();et&&$.append("x-firebase-client",et)}const qe={method:"POST",headers:$,body:JSON.stringify({installation:{sdkVersion:Ar,appId:E.appId}})},Le=yield Li(()=>fetch(O,qe));if(Le.ok)return _s(yield Le.json());throw yield vs("Generate Auth Token",Le)})).apply(this,arguments)}function pi(E,{fid:C}){return`${Pn(E)}/${C}/authTokens:generate`}function Xr(E){return ei.apply(this,arguments)}function ei(){return(ei=(0,k.Z)(function*(E,C=!1){let x;const O=yield Ui(E.appConfig,W=>{if(!at(W))throw wr.create("not-registered");const se=W.authToken;if(!C&&Ft(se))return W;if(1===se.requestStatus)return x=ne(E,C),W;{if(!navigator.onLine)throw wr.create("app-offline");const qe=Lt(W);return x=ue(E,qe),qe}});return x?yield x:O.authToken})).apply(this,arguments)}function ne(E,C){return J.apply(this,arguments)}function J(){return(J=(0,k.Z)(function*(E,C){let x=yield Te(E.appConfig);for(;1===x.authToken.requestStatus;)yield Nn(100),x=yield Te(E.appConfig);const O=x.authToken;return 0===O.requestStatus?Xr(E,C):O})).apply(this,arguments)}function Te(E){return Ui(E,C=>{if(!at(C))throw wr.create("not-registered");return function Dn(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function ue(E,C){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,k.Z)(function*(E,C){try{const x=yield Dt(E,C),O=Object.assign(Object.assign({},C),{authToken:x});return yield $n(E.appConfig,O),x}catch(x){if(!pr(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const O=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield $n(E.appConfig,O)}else yield fo(E.appConfig);throw x}})).apply(this,arguments)}function at(E){return void 0!==E&&2===E.registrationStatus}function Ft(E){return 2===E.requestStatus&&!function _n(E){const C=Date.now();return C<E.creationTime||E.creationTime+E.expiresIn<C+36e5}(E)}function Lt(E){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:C})}function Is(){return(Is=(0,k.Z)(function*(E){const C=E,{installationEntry:x,registrationPromise:O}=yield U(C);return O?O.catch(console.error):Xr(C).catch(console.error),x.fid})).apply(this,arguments)}function kt(){return(kt=(0,k.Z)(function*(E,C=!1){const x=E;return yield Cs(x),(yield Xr(x,C)).token})).apply(this,arguments)}function Cs(E){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,k.Z)(function*(E){const{registrationPromise:C}=yield U(E);C&&(yield C)})).apply(this,arguments)}function zo(E){return wr.create("missing-app-config-values",{valueName:E})}const sr="installations",rc=E=>{const C=E.getProvider("app").getImmediate(),x=function nc(E){if(!E||!E.options)throw zo("App Configuration");if(!E.name)throw zo("App Name");const C=["projectId","apiKey","appId"];for(const x of C)if(!E.options[x])throw zo(x);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(C);return{app:C,appConfig:x,heartbeatServiceProvider:(0,ie._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},ic=E=>{const C=E.getProvider("app").getImmediate(),x=(0,ie._getProvider)(C,sr).getImmediate();return{getId:()=>function zt(E){return Is.apply(this,arguments)}(x),getToken:$=>function ir(E){return kt.apply(this,arguments)}(x,$)}};(function Wo(){(0,ie._registerComponent)(new ge.wA(sr,rc,"PUBLIC")),(0,ie._registerComponent)(new ge.wA("installations-internal",ic,"PRIVATE"))})(),(0,ie.registerVersion)(ce,"0.6.4"),(0,ie.registerVersion)(ce,"0.6.4","esm2017");const ti="@firebase/remote-config",Mr=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Cd{constructor(C,x,O,$){this.client=C,this.storage=x,this.storageCache=O,this.logger=$}isCachedDataFresh(C,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const O=Date.now()-x,$=O<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${O}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${$}.`),$}fetch(C){var x=this;return(0,k.Z)(function*(){const[O,$]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if($&&x.isCachedDataFresh(C.cacheMaxAgeMillis,O))return $;C.eTag=$&&$.eTag;const W=yield x.client.fetch(C),se=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===W.status&&se.push(x.storage.setLastSuccessfulFetchResponse(W)),yield Promise.all(se),W})()}}function $a(E=navigator){return E.languages&&E.languages[0]||E.language}class Ha{constructor(C,x,O,$,W,se){this.firebaseInstallations=C,this.sdkVersion=x,this.namespace=O,this.projectId=$,this.apiKey=W,this.appId=se}fetch(C){var x=this;return(0,k.Z)(function*(){const[O,$]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),se=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,qe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},Le={sdk_version:x.sdkVersion,app_instance_id:O,app_instance_id_token:$,app_id:x.appId,language_code:$a()},et={method:"POST",headers:qe,body:JSON.stringify(Le)},It=fetch(se,et),Tt=new Promise((Xn,Ai)=>{C.signal.addEventListener(()=>{const Ff=new Error("The operation was aborted.");Ff.name="AbortError",Ai(Ff)})});let oi;try{yield Promise.race([It,Tt]),oi=yield It}catch(Xn){let Ai="fetch-client-network";throw"AbortError"===(null==Xn?void 0:Xn.name)&&(Ai="fetch-timeout"),Mr.create(Ai,{originalErrorMessage:null==Xn?void 0:Xn.message})}let yr=oi.status;const xo=oi.headers.get("ETag")||void 0;let Os,Mo;if(200===oi.status){let Xn;try{Xn=yield oi.json()}catch(Ai){throw Mr.create("fetch-client-parse",{originalErrorMessage:null==Ai?void 0:Ai.message})}Os=Xn.entries,Mo=Xn.state}if("INSTANCE_STATE_UNSPECIFIED"===Mo?yr=500:"NO_CHANGE"===Mo?yr=304:("NO_TEMPLATE"===Mo||"EMPTY_CONFIG"===Mo)&&(Os={}),304!==yr&&200!==yr)throw Mr.create("fetch-status",{httpStatus:yr});return{status:yr,eTag:xo,config:Os}})()}}class uc{constructor(C,x){this.client=C,this.storage=x}fetch(C){var x=this;return(0,k.Z)(function*(){const O=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(C,O)})()}attemptFetch(C,{throttleEndTimeMillis:x,backoffCount:O}){var $=this;return(0,k.Z)(function*(){yield function vf(E,C){return new Promise((x,O)=>{const $=Math.max(C-Date.now(),0),W=setTimeout(x,$);E.addEventListener(()=>{clearTimeout(W),O(Mr.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,x);try{const W=yield $.client.fetch(C);return yield $.storage.deleteThrottleMetadata(),W}catch(W){if(!function Ga(E){if(!(E instanceof oe.ZR&&E.customData))return!1;const C=Number(E.customData.httpStatus);return 429===C||500===C||503===C||504===C}(W))throw W;const se={throttleEndTimeMillis:Date.now()+(0,oe.$s)(O),backoffCount:O+1};return yield $.storage.setThrottleMetadata(se),$.attemptFetch(C,se)}})()}}class Za{constructor(C,x,O,$,W){this.app=C,this._client=x,this._storageCache=O,this._storage=$,this._logger=W,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Vu(E,C){const x=E.target.error||void 0;return Mr.create(C,{originalErrorMessage:x&&(null==x?void 0:x.message)})}const Kn="app_namespace_store";class bd{constructor(C,x,O,$=function Wa(){return new Promise((E,C)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=O=>{C(Vu(O,"storage-open"))},x.onsuccess=O=>{E(O.target.result)},x.onupgradeneeded=O=>{0===O.oldVersion&&O.target.result.createObjectStore(Kn,{keyPath:"compositeKey"})}}catch(x){C(Mr.create("storage-open",{originalErrorMessage:null==x?void 0:x.message}))}})}()){this.appId=C,this.appName=x,this.namespace=O,this.openDbPromise=$}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var x=this;return(0,k.Z)(function*(){const O=yield x.openDbPromise;return new Promise(($,W)=>{const qe=O.transaction([Kn],"readonly").objectStore(Kn),Le=x.createCompositeKey(C);try{const et=qe.get(Le);et.onerror=It=>{W(Vu(It,"storage-get"))},et.onsuccess=It=>{const Tt=It.target.result;$(Tt?Tt.value:void 0)}}catch(et){W(Mr.create("storage-get",{originalErrorMessage:null==et?void 0:et.message}))}})})()}set(C,x){var O=this;return(0,k.Z)(function*(){const $=yield O.openDbPromise;return new Promise((W,se)=>{const Le=$.transaction([Kn],"readwrite").objectStore(Kn),et=O.createCompositeKey(C);try{const It=Le.put({compositeKey:et,value:x});It.onerror=Tt=>{se(Vu(Tt,"storage-set"))},It.onsuccess=()=>{W()}}catch(It){se(Mr.create("storage-set",{originalErrorMessage:null==It?void 0:It.message}))}})})()}delete(C){var x=this;return(0,k.Z)(function*(){const O=yield x.openDbPromise;return new Promise(($,W)=>{const qe=O.transaction([Kn],"readwrite").objectStore(Kn),Le=x.createCompositeKey(C);try{const et=qe.delete(Le);et.onerror=It=>{W(Vu(It,"storage-delete"))},et.onsuccess=()=>{$()}}catch(et){W(Mr.create("storage-delete",{originalErrorMessage:null==et?void 0:et.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class Uu{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,k.Z)(function*(){const x=C.storage.getLastFetchStatus(),O=C.storage.getLastSuccessfulFetchTimestampMillis(),$=C.storage.getActiveConfig(),W=yield x;W&&(C.lastFetchStatus=W);const se=yield O;se&&(C.lastSuccessfulFetchTimestampMillis=se);const qe=yield $;qe&&(C.activeConfig=qe)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function Ad(){return wn.apply(this,arguments)}function wn(){return(wn=(0,k.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(E){return!1}})).apply(this,arguments)}let Ka,bs;!function Td(){(0,ie._registerComponent)(new ge.wA("remote-config",function E(C,{instanceIdentifier:x}){const O=C.getProvider("app").getImmediate(),$=C.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Mr.create("registration-window");if(!(0,oe.hl)())throw Mr.create("indexed-db-unavailable");const{projectId:W,apiKey:se,appId:qe}=O.options;if(!W)throw Mr.create("registration-project-id");if(!se)throw Mr.create("registration-api-key");if(!qe)throw Mr.create("registration-app-id");const Le=new bd(qe,O.name,x=x||"firebase"),et=new Uu(Le),It=new ae.Yd(ti);It.logLevel=ae.in.ERROR;const Tt=new Ha($,ie.SDK_VERSION,x,W,se,qe),oi=new uc(Tt,Le),yr=new Cd(oi,Le,et,It),xo=new Za(O,yr,et,Le,It);return function yf(E){const C=(0,oe.m9)(E);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(xo),xo},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(ti,"0.4.4"),(0,ie.registerVersion)(ti,"0.4.4","esm2017")}();const Yo=new WeakMap,ni=new WeakMap,Sn=new WeakMap,Qo=new WeakMap,mo=new WeakMap;let Ts={get(E,C,x){if(E instanceof IDBTransaction){if("done"===C)return ni.get(E);if("objectStoreNames"===C)return E.objectStoreNames||Sn.get(E);if("store"===C)return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return yi(E[C])},set:(E,C,x)=>(E[C]=x,!0),has:(E,C)=>E instanceof IDBTransaction&&("done"===C||"store"===C)||C in E};function $u(E){return"function"==typeof E?function Et(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Bu(){return bs||(bs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...C){return E.apply(Ya(this),C),yi(Yo.get(this))}:function(...C){return yi(E.apply(Ya(this),C))}:function(C,...x){const O=E.call(Ya(this),C,...x);return Sn.set(O,C.sort?C.sort():[C]),yi(O)}}(E):(E instanceof IDBTransaction&&function ji(E){if(ni.has(E))return;const C=new Promise((x,O)=>{const $=()=>{E.removeEventListener("complete",W),E.removeEventListener("error",se),E.removeEventListener("abort",se)},W=()=>{x(),$()},se=()=>{O(E.error||new DOMException("AbortError","AbortError")),$()};E.addEventListener("complete",W),E.addEventListener("error",se),E.addEventListener("abort",se)});ni.set(E,C)}(E),((E,C)=>C.some(x=>E instanceof x))(E,function Ur(){return Ka||(Ka=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Ts):E)}function yi(E){if(E instanceof IDBRequest)return function Xi(E){const C=new Promise((x,O)=>{const $=()=>{E.removeEventListener("success",W),E.removeEventListener("error",se)},W=()=>{x(yi(E.result)),$()},se=()=>{O(E.error),$()};E.addEventListener("success",W),E.addEventListener("error",se)});return C.then(x=>{x instanceof IDBCursor&&Yo.set(x,E)}).catch(()=>{}),mo.set(C,E),C}(E);if(Qo.has(E))return Qo.get(E);const C=$u(E);return C!==E&&(Qo.set(E,C),mo.set(C,E)),C}const Ya=E=>mo.get(E);function Hu(E,C,{blocked:x,upgrade:O,blocking:$,terminated:W}={}){const se=indexedDB.open(E,C),qe=yi(se);return O&&se.addEventListener("upgradeneeded",Le=>{O(yi(se.result),Le.oldVersion,Le.newVersion,yi(se.transaction))}),x&&se.addEventListener("blocked",()=>x()),qe.then(Le=>{W&&Le.addEventListener("close",()=>W()),$&&Le.addEventListener("versionchange",()=>$())}).catch(()=>{}),qe}function yo(E,{blocked:C}={}){const x=indexedDB.deleteDatabase(E);return C&&x.addEventListener("blocked",()=>C()),yi(x).then(()=>{})}const qs=["get","getKey","getAll","getAllKeys","count"],Ef=["put","add","delete","clear"],Se=new Map;function Ut(E,C){if(!(E instanceof IDBDatabase)||C in E||"string"!=typeof C)return;if(Se.get(C))return Se.get(C);const x=C.replace(/FromIndex$/,""),O=C!==x,$=Ef.includes(x);if(!(x in(O?IDBIndex:IDBObjectStore).prototype)||!$&&!qs.includes(x))return;const W=function(){var se=(0,k.Z)(function*(qe,...Le){const et=this.transaction(qe,$?"readwrite":"readonly");let It=et.store;return O&&(It=It.index(Le.shift())),(yield Promise.all([It[x](...Le),$&&et.done]))[0]});return function(Le){return se.apply(this,arguments)}}();return Se.set(C,W),W}!function ju(E){Ts=E(Ts)}(E=>eD(XC({},E),{get:(C,x,O)=>Ut(C,x)||E.get(C,x,O),has:(C,x)=>!!Ut(C,x)||E.has(C,x)}));const Og="/firebase-messaging-sw.js",En="/firebase-cloud-messaging-push-scope",_i="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",or="google.c.a.c_id",Jo="google.c.a.c_l",Gu="google.c.a.ts",Sd="google.c.a.e";var Br=(()=>{return(E=Br||(Br={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",Br;var E})();function vi(E){const C=new Uint8Array(E);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Yn(E){const x=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),O=atob(x),$=new Uint8Array(O.length);for(let W=0;W<O.length;++W)$[W]=O.charCodeAt(W);return $}const wi="fcm_token_details_db",es="fcm_token_object_Store";function Hn(E){return qu.apply(this,arguments)}function qu(){return qu=(0,k.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(W=>W.name).includes(wi))return null;let C=null;return(yield Hu(wi,5,{upgrade:(O=(0,k.Z)(function*($,W,se,qe){var Le;if(W<2||!$.objectStoreNames.contains(es))return;const et=qe.objectStore(es),It=yield et.index("fcmSenderId").get(E);if(yield et.clear(),It)if(2===W){const Tt=It;if(!Tt.auth||!Tt.p256dh||!Tt.endpoint)return;C={token:Tt.fcmToken,createTime:null!==(Le=Tt.createTime)&&void 0!==Le?Le:Date.now(),subscriptionOptions:{auth:Tt.auth,p256dh:Tt.p256dh,endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:"string"==typeof Tt.vapidKey?Tt.vapidKey:vi(Tt.vapidKey)}}}else if(3===W){const Tt=It;C={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:vi(Tt.auth),p256dh:vi(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:vi(Tt.vapidKey)}}}else if(4===W){const Tt=It;C={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:vi(Tt.auth),p256dh:vi(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:vi(Tt.vapidKey)}}}}),function(W,se,qe,Le){return O.apply(this,arguments)})})).close(),yield yo(wi),yield yo("fcm_vapid_details_db"),yield yo("undefined"),xd(C)?C:null;var O}),qu.apply(this,arguments)}function xd(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:C}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}const ts="firebase-messaging-store";let Xo=null;function zu(){return Xo||(Xo=Hu("firebase-messaging-database",1,{upgrade:(E,C)=>{0===C&&E.createObjectStore(ts)}})),Xo}function ea(E){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,k.Z)(function*(E){const C=ta(E),O=yield(yield zu()).transaction(ts).objectStore(ts).get(C);if(O)return O;{const $=yield Hn(E.appConfig.senderId);if($)return yield Xa(E,$),$}})).apply(this,arguments)}function Xa(E,C){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,k.Z)(function*(E,C){const x=ta(E),$=(yield zu()).transaction(ts,"readwrite");return yield $.objectStore(ts).put(C,x),yield $.done,C})).apply(this,arguments)}function dc(E){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,k.Z)(function*(E){const C=ta(E),O=(yield zu()).transaction(ts,"readwrite");yield O.objectStore(ts).delete(C),yield O.done})).apply(this,arguments)}function ta({appConfig:E}){return E.appId}const xn=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fc(E,C){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,k.Z)(function*(E,C){const x=yield na(E),O=pc(C),$={method:"POST",headers:x,body:JSON.stringify(O)};let W;try{W=yield(yield fetch(tu(E.appConfig),$)).json()}catch(se){throw xn.create("token-subscribe-failed",{errorInfo:null==se?void 0:se.toString()})}if(W.error)throw xn.create("token-subscribe-failed",{errorInfo:W.error.message});if(!W.token)throw xn.create("token-subscribe-no-token");return W.token})).apply(this,arguments)}function gr(E,C){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,k.Z)(function*(E,C){const x=yield na(E),O=pc(C.subscriptionOptions),$={method:"PATCH",headers:x,body:JSON.stringify(O)};let W;try{W=yield(yield fetch(`${tu(E.appConfig)}/${C.token}`,$)).json()}catch(se){throw xn.create("token-update-failed",{errorInfo:null==se?void 0:se.toString()})}if(W.error)throw xn.create("token-update-failed",{errorInfo:W.error.message});if(!W.token)throw xn.create("token-update-no-token");return W.token})).apply(this,arguments)}function In(E,C){return eu.apply(this,arguments)}function eu(){return(eu=(0,k.Z)(function*(E,C){const O={method:"DELETE",headers:yield na(E)};try{const W=yield(yield fetch(`${tu(E.appConfig)}/${C}`,O)).json();if(W.error)throw xn.create("token-unsubscribe-failed",{errorInfo:W.error.message})}catch($){throw xn.create("token-unsubscribe-failed",{errorInfo:null==$?void 0:$.toString()})}})).apply(this,arguments)}function tu({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function na(E){return Md.apply(this,arguments)}function Md(){return(Md=(0,k.Z)(function*({appConfig:E,installations:C}){const x=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function pc({p256dh:E,auth:C,endpoint:x,vapidKey:O}){const $={web:{endpoint:x,auth:C,p256dh:E}};return O!==_i&&($.web.applicationPubKey=O),$}const Yu=6048e5;function ra(E){return _o.apply(this,arguments)}function _o(){return(_o=(0,k.Z)(function*(E){const C=yield Pd(E.swRegistration,E.vapidKey),x={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:C.endpoint,auth:vi(C.getKey("auth")),p256dh:vi(C.getKey("p256dh"))},O=yield ea(E.firebaseDependencies);if(O){if(sa(O.subscriptionOptions,x))return Date.now()>=O.createTime+Yu?gc(E,{token:O.token,createTime:Date.now(),subscriptionOptions:x}):O.token;try{yield In(E.firebaseDependencies,O.token)}catch($){console.warn($)}return $i(E.firebaseDependencies,x)}return $i(E.firebaseDependencies,x)})).apply(this,arguments)}function ns(E){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,k.Z)(function*(E){const C=yield ea(E.firebaseDependencies);C&&(yield In(E.firebaseDependencies,C.token),yield dc(E.firebaseDependencies));const x=yield E.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function gc(E,C){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,k.Z)(function*(E,C){try{const x=yield gr(E.firebaseDependencies,C),O=Object.assign(Object.assign({},C),{token:x,createTime:Date.now()});return yield Xa(E.firebaseDependencies,O),x}catch(x){throw yield ns(E),x}})).apply(this,arguments)}function $i(E,C){return ia.apply(this,arguments)}function ia(){return(ia=(0,k.Z)(function*(E,C){const O={token:yield fc(E,C),createTime:Date.now(),subscriptionOptions:C};return yield Xa(E,O),O.token})).apply(this,arguments)}function Pd(E,C){return mc.apply(this,arguments)}function mc(){return(mc=(0,k.Z)(function*(E,C){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Yn(C)})})).apply(this,arguments)}function sa(E,C){return C.vapidKey===E.vapidKey&&C.endpoint===E.endpoint&&C.auth===E.auth&&C.p256dh===E.p256dh}function yc(E){const C={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Od(E,C){if(!C.notification)return;E.notification={};const x=C.notification.title;x&&(E.notification.title=x);const O=C.notification.body;O&&(E.notification.body=O);const $=C.notification.image;$&&(E.notification.image=$);const W=C.notification.icon;W&&(E.notification.icon=W)}(C,E),function kg(E,C){!C.data||(E.data=C.data)}(C,E),function If(E,C){var x,O,$,W,se;if(!C.fcmOptions&&!(null===(x=C.notification)||void 0===x?void 0:x.click_action))return;E.fcmOptions={};const qe=null!==($=null===(O=C.fcmOptions)||void 0===O?void 0:O.link)&&void 0!==$?$:null===(W=C.notification)||void 0===W?void 0:W.click_action;qe&&(E.fcmOptions.link=qe);const Le=null===(se=C.fcmOptions)||void 0===se?void 0:se.analytics_label;Le&&(E.fcmOptions.analyticsLabel=Le)}(C,E),C}function Fg(E){return"object"==typeof E&&!!E&&or in E}function Ju(E,C){const x=[];for(let O=0;O<E.length;O++)x.push(E.charAt(O)),O<C.length&&x.push(C.charAt(O));return x.join("")}function rs(E){return xn.create("missing-app-config-values",{valueName:E})}Ju("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ju("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class vt{constructor(C,x,O){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const $=function mn(E){if(!E||!E.options)throw rs("App Configuration Object");if(!E.name)throw rs("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:x}=E;for(const O of C)if(!x[O])throw rs(O);return{appName:E.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:$,installations:x,analyticsProvider:O}}_delete(){return Promise.resolve()}}function Ei(E){return jr.apply(this,arguments)}function jr(){return(jr=(0,k.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Og,{scope:En}),E.swRegistration.update().catch(()=>{})}catch(C){throw xn.create("failed-service-worker-registration",{browserErrorMessage:null==C?void 0:C.message})}})).apply(this,arguments)}function Jn(E,C){return _c.apply(this,arguments)}function _c(){return(_c=(0,k.Z)(function*(E,C){if(!C&&!E.swRegistration&&(yield Ei(E)),C||!E.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw xn.create("invalid-sw-registration");E.swRegistration=C}})).apply(this,arguments)}function Zs(E,C){return nu.apply(this,arguments)}function nu(){return(nu=(0,k.Z)(function*(E,C){C?E.vapidKey=C:E.vapidKey||(E.vapidKey=_i)})).apply(this,arguments)}function vc(){return(vc=(0,k.Z)(function*(E,C){if(!navigator)throw xn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw xn.create("permission-blocked");return yield Zs(E,null==C?void 0:C.vapidKey),yield Jn(E,null==C?void 0:C.serviceWorkerRegistration),ra(E)})).apply(this,arguments)}function Xu(E,C,x){return zs.apply(this,arguments)}function zs(){return(zs=(0,k.Z)(function*(E,C,x){const O=Vt(C);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(O,{message_id:x[or],message_name:x[Jo],message_time:x[Gu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Vt(E){switch(E){case Br.NOTIFICATION_CLICKED:return"notification_open";case Br.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function xs(){return(xs=(0,k.Z)(function*(E,C){const x=C.data;if(!x.isFirebaseMessaging)return;E.onMessageHandler&&x.messageType===Br.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(yc(x)):E.onMessageHandler.next(yc(x)));const O=x.data;Fg(O)&&"1"===O[Sd]&&(yield Xu(E,x.messageType,O))})).apply(this,arguments)}const ru="@firebase/messaging",ar=E=>{const C=new vt(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function Cf(E,C){return xs.apply(this,arguments)}(C,x)),C},oa=E=>{const C=E.getProvider("messaging").getImmediate();return{getToken:O=>function vo(E,C){return vc.apply(this,arguments)}(C,O)}};function Ws(){return aa.apply(this,arguments)}function aa(){return(aa=(0,k.Z)(function*(){try{yield(0,oe.eu)()}catch(E){return!1}return"undefined"!=typeof window&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Df(){(0,ie._registerComponent)(new ge.wA("messaging",ar,"PUBLIC")),(0,ie._registerComponent)(new ge.wA("messaging-internal",oa,"PRIVATE")),(0,ie.registerVersion)(ru,"0.12.4"),(0,ie.registerVersion)(ru,"0.12.4","esm2017")}();const la="analytics",mr="firebase_id",Er="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Rs="https://www.googletagmanager.com/gtag/js",on=new ae.Yd("@firebase/analytics"),Mn=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Hi(E){if(!E.startsWith(Rs)){const C=Mn.create("invalid-gtag-resource",{gtagURL:E});return on.warn(C.message),""}return E}function $r(E){return Promise.all(E.map(C=>C.catch(x=>x)))}function bf(E,C){const x=function Rr(E,C){let x;return window.trustedTypes&&(x=window.trustedTypes.createPolicy(E,C)),x}("firebase-js-sdk-policy",{createScriptURL:Hi}),O=document.createElement("script"),$=`${Rs}?l=${E}&id=${C}`;O.src=x?null==x?void 0:x.createScriptURL($):$,O.async=!0,document.head.appendChild(O)}function wc(E,C,x,O,$,W){return ou.apply(this,arguments)}function ou(){return(ou=(0,k.Z)(function*(E,C,x,O,$,W){const se=O[$];try{if(se)yield C[se];else{const Le=(yield $r(x)).find(et=>et.measurementId===$);Le&&(yield C[Le.appId])}}catch(qe){on.error(qe)}E("config",$,W)})).apply(this,arguments)}function Ld(E,C,x,O,$){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,k.Z)(function*(E,C,x,O,$){try{let W=[];if($&&$.send_to){let se=$.send_to;Array.isArray(se)||(se=[se]);const qe=yield $r(x);for(const Le of se){const et=qe.find(Tt=>Tt.measurementId===Le),It=et&&C[et.appId];if(!It){W=[];break}W.push(It)}}0===W.length&&(W=Object.values(C)),yield Promise.all(W),E("event",O,$||{})}catch(W){on.error(W)}})).apply(this,arguments)}function Ci(E){const C=window.document.getElementsByTagName("script");for(const x of Object.values(C))if(x.src&&x.src.includes(Rs)&&x.src.includes(E))return x;return null}const Gi=new class Gn{constructor(C={},x=1e3){this.throttleMetadata=C,this.intervalMillis=x}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,x){this.throttleMetadata[C]=x}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function uu(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Io(E){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,k.Z)(function*(E){var C;const{appId:x,apiKey:O}=E,$={method:"GET",headers:uu(O)},W=Er.replace("{app-id}",x),se=yield fetch(W,$);if(200!==se.status&&304!==se.status){let qe="";try{const Le=yield se.json();(null===(C=Le.error)||void 0===C?void 0:C.message)&&(qe=Le.error.message)}catch(Le){}throw Mn.create("config-fetch-failed",{httpStatus:se.status,responseMessage:qe})}return se.json()})).apply(this,arguments)}function Di(E){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,k.Z)(function*(E,C=Gi,x){const{appId:O,apiKey:$,measurementId:W}=E.options;if(!O)throw Mn.create("no-app-id");if(!$){if(W)return{measurementId:W,appId:O};throw Mn.create("no-api-key")}const se=C.getThrottleMetadata(O)||{backoffCount:0,throttleEndTimeMillis:Date.now()},qe=new Tf;return setTimeout((0,k.Z)(function*(){qe.abort()}),void 0!==x?x:6e4),Dc({appId:O,apiKey:$,measurementId:W},se,qe,C)})).apply(this,arguments)}function Dc(E,C,x){return yn.apply(this,arguments)}function yn(){return(yn=(0,k.Z)(function*(E,{throttleEndTimeMillis:C,backoffCount:x},O,$=Gi){var W;const{appId:se,measurementId:qe}=E;try{yield ca(O,C)}catch(Le){if(qe)return on.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${qe} provided in the "measurementId" field in the local Firebase config. [${null==Le?void 0:Le.message}]`),{appId:se,measurementId:qe};throw Le}try{const Le=yield Io(E);return $.deleteThrottleMetadata(se),Le}catch(Le){const et=Le;if(!lu(et)){if($.deleteThrottleMetadata(se),qe)return on.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${qe} provided in the "measurementId" field in the local Firebase config. [${null==et?void 0:et.message}]`),{appId:se,measurementId:qe};throw Le}const It=503===Number(null===(W=null==et?void 0:et.customData)||void 0===W?void 0:W.httpStatus)?(0,oe.$s)(x,$.intervalMillis,30):(0,oe.$s)(x,$.intervalMillis),Tt={throttleEndTimeMillis:Date.now()+It,backoffCount:x+1};return $.setThrottleMetadata(se,Tt),on.debug(`Calling attemptFetch again in ${It} millis`),Dc(E,Tt,O,$)}})).apply(this,arguments)}function ca(E,C){return new Promise((x,O)=>{const $=Math.max(C-Date.now(),0),W=setTimeout(x,$);E.addEventListener(()=>{clearTimeout(W),O(Mn.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}function lu(E){if(!(E instanceof oe.ZR&&E.customData))return!1;const C=Number(E.customData.httpStatus);return 429===C||500===C||503===C||504===C}class Tf{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let cu,nl;function Vd(){return(Vd=(0,k.Z)(function*(E,C,x,O,$){if($&&$.global)E("event",x,O);else{const W=yield C;E("event",x,Object.assign(Object.assign({},O),{send_to:W}))}})).apply(this,arguments)}function ha(E){nl=E}function fa(E){cu=E}function bc(){return ur.apply(this,arguments)}function ur(){return(ur=(0,k.Z)(function*(){if(!(0,oe.hl)())return on.warn(Mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(E){return on.warn(Mn.create("indexeddb-unavailable",{errorInfo:null==E?void 0:E.toString()}).message),!1}return!0})).apply(this,arguments)}function is(){return(is=(0,k.Z)(function*(E,C,x,O,$,W,se){var qe;const Le=Di(E);Le.then(yr=>{x[yr.measurementId]=yr.appId,E.options.measurementId&&yr.measurementId!==E.options.measurementId&&on.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${yr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(yr=>on.error(yr)),C.push(Le);const et=bc().then(yr=>{if(yr)return O.getId()}),[It,Tt]=yield Promise.all([Le,et]);Ci(W)||bf(W,It.measurementId),nl&&($("consent","default",nl),ha(void 0)),$("js",new Date);const oi=null!==(qe=null==se?void 0:se.config)&&void 0!==qe?qe:{};return oi.origin="firebase",oi.update=!0,null!=Tt&&(oi[mr]=Tt),$("config",It.measurementId,oi),cu&&($("set",cu),fa(void 0)),It.measurementId})).apply(this,arguments)}class rl{constructor(C){this.app=C}_delete(){return delete qi[this.app.options.appId],Promise.resolve()}}let qi={},Tc=[];const Bd={};let Co,bi,pa="dataLayer",ga=!1;function il(E,C,x){!function Ht(){const E=[];if((0,oe.ru)()&&E.push("This is a browser extension environment."),(0,oe.zI)()||E.push("Cookies are not available."),E.length>0){const C=E.map((O,$)=>`(${$+1}) ${O}`).join(" "),x=Mn.create("invalid-analytics-context",{errorInfo:C});on.warn(x.message)}}();const O=E.options.appId;if(!O)throw Mn.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Mn.create("no-api-key");on.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qi[O])throw Mn.create("already-exists",{id:O});if(!ga){!function hn(E){let C=[];Array.isArray(window[E])?C=window[E]:window[E]=C}(pa);const{wrappedGtag:W,gtagCore:se}=function Eo(E,C,x,O,$){let W=function(...se){window[O].push(arguments)};return window[$]&&"function"==typeof window[$]&&(W=window[$]),window[$]=function Ic(E,C,x,O){function W(){return(W=(0,k.Z)(function*(se,...qe){try{if("event"===se){const[Le,et]=qe;yield Ld(E,C,x,Le,et)}else if("config"===se){const[Le,et]=qe;yield wc(E,C,x,O,Le,et)}else if("consent"===se){const[Le]=qe;E("consent","update",Le)}else if("get"===se){const[Le,et,It]=qe;E("get",Le,et,It)}else if("set"===se){const[Le]=qe;E("set",Le)}else E(se,...qe)}catch(Le){on.error(Le)}})).apply(this,arguments)}return function $(se){return W.apply(this,arguments)}}(W,E,C,x),{gtagCore:W,wrappedGtag:window[$]}}(qi,Tc,Bd,pa,"gtag");bi=W,Co=se,ga=!0}return qi[O]=function ri(E,C,x,O,$,W,se){return is.apply(this,arguments)}(E,Tc,Bd,C,Co,pa,x),new rl(E)}function Sf(){return pu.apply(this,arguments)}function pu(){return(pu=(0,k.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(E){return!1}})).apply(this,arguments)}const _a="@firebase/analytics";!function Ac(){(0,ie._registerComponent)(new ge.wA(la,(C,{options:x})=>il(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ie._registerComponent)(new ge.wA("analytics-internal",function E(C){try{const x=C.getProvider(la).getImmediate();return{logEvent:(O,$,W)=>function bo(E,C,x,O){E=(0,oe.m9)(E),function Ug(E,C,x,O,$){return Vd.apply(this,arguments)}(bi,qi[E.app.options.appId],C,x,O).catch($=>on.error($))}(x,O,$,W)}}catch(x){throw Mn.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ie.registerVersion)(_a,"0.10.0"),(0,ie.registerVersion)(_a,"0.10.0","esm2017")}();var wa=N(4408),Ys=N(7565);const ol=new class Ea extends Ys.v{}(class To extends wa.o{constructor(C,x){super(C,x),this.scheduler=C,this.work=x}schedule(C,x=0){return x>0?super.schedule(C,x):(this.delay=x,this.state=C,this.scheduler.flush(this),this)}execute(C,x){return x>0||this.closed?super.execute(C,x):this._execute(C,x)}requestAsyncId(C,x,O=0){return null!=O&&O>0||null==O&&this.delay>0?super.requestAsyncId(C,x,O):C.flush(this)}});var jg=N(4986),Rf=N(8505),al=N(9468),ul=N(5363);const Ia=new f.GfV("7.6.1"),ii="__angularfire_symbol__analyticsIsSupportedValue",Pr="__angularfire_symbol__analyticsIsSupported",ll="__angularfire_symbol__remoteConfigIsSupportedValue",Ca="__angularfire_symbol__remoteConfigIsSupported",$d="__angularfire_symbol__messagingIsSupportedValue",si="__angularfire_symbol__messagingIsSupported";function cl(E,C,x){if(C){if(1===C.length)return C[0];const W=C.filter(se=>se.app===x);if(1===W.length)return W[0]}return x.container.getProvider(E).getImmediate({optional:!0})}globalThis[Pr]||(globalThis[Pr]=Sf().then(E=>globalThis[ii]=E).catch(()=>globalThis[ii]=!1)),globalThis[si]||(globalThis[si]=Ws().then(E=>globalThis[$d]=E).catch(()=>globalThis[$d]=!1)),globalThis[Ca]||(globalThis[Ca]=Ad().then(E=>globalThis[ll]=E).catch(()=>globalThis[ll]=!1));const dl=(E,C)=>{const x=C?[C]:(0,Q.C6)(),O=[];return x.forEach($=>{$.container.getProvider(E).instances.forEach(se=>{O.includes(se)||O.push(se)})}),O};function ss(){}class Da{constructor(C,x=ol){this.zone=C,this.delegate=x}now(){return this.delegate.now()}schedule(C,x,O){const $=this.zone;return this.delegate.schedule(function(se){$.runGuarded(()=>{C.apply(this,[se])})},x,O)}}class Of{constructor(C){this.zone=C,this.task=null}call(C,x){const O=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ss,{},ss,ss)),x.pipe((0,Rf.b)({next:O,complete:O,error:O})).subscribe(C).add(O)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ao=(()=>{class E{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Da(Zone.current)),this.insideAngular=x.run(()=>new Da(Zone.current,jg.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(x){return new(x||E)(f.LFG(f.R0b))},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Or(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Sc(E){return Or(),function Nf(E){return function(x){return(x=x.lift(new Of(E.ngZone))).pipe((0,al.R)(E.outsideAngular),(0,ul.Q)(E.insideAngular))}}(Or())(E)}},2090:(nt,Ee,N)=>{N.d(Ee,{$s:()=>fo,BH:()=>Me,G6:()=>Ar,L:()=>fe,LL:()=>cn,Pz:()=>tt,Sg:()=>rt,UG:()=>Y,US:()=>ge,ZB:()=>te,ZR:()=>fr,aH:()=>Fe,b$:()=>De,eu:()=>Mt,hl:()=>ft,jU:()=>pe,m9:()=>Jr,ne:()=>Sr,pd:()=>pn,r3:()=>ws,ru:()=>we,tV:()=>j,uI:()=>_t,vZ:()=>jn,w1:()=>ce,xO:()=>Oe,xb:()=>ot,z$:()=>We,zI:()=>Yr,zd:()=>un});const ie=function(U){const V=[];let Z=0;for(let Ie=0;Ie<U.length;Ie++){let X=U.charCodeAt(Ie);X<128?V[Z++]=X:X<2048?(V[Z++]=X>>6|192,V[Z++]=63&X|128):55296==(64512&X)&&Ie+1<U.length&&56320==(64512&U.charCodeAt(Ie+1))?(X=65536+((1023&X)<<10)+(1023&U.charCodeAt(++Ie)),V[Z++]=X>>18|240,V[Z++]=X>>12&63|128,V[Z++]=X>>6&63|128,V[Z++]=63&X|128):(V[Z++]=X>>12|224,V[Z++]=X>>6&63|128,V[Z++]=63&X|128)}return V},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,V){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ie=[];for(let X=0;X<U.length;X+=3){const it=U[X],Rt=X+1<U.length,St=Rt?U[X+1]:0,gn=X+2<U.length,sn=gn?U[X+2]:0;let Wn=(15&St)<<2|sn>>6,pi=63&sn;gn||(pi=64,Rt||(Wn=64)),Ie.push(Z[it>>2],Z[(3&it)<<4|St>>4],Z[Wn],Z[pi])}return Ie.join("")},encodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(U):this.encodeByteArray(ie(U),V)},decodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(U):function(U){const V=[];let Z=0,Ie=0;for(;Z<U.length;){const X=U[Z++];if(X<128)V[Ie++]=String.fromCharCode(X);else if(X>191&&X<224){const it=U[Z++];V[Ie++]=String.fromCharCode((31&X)<<6|63&it)}else if(X>239&&X<365){const gn=((7&X)<<18|(63&U[Z++])<<12|(63&U[Z++])<<6|63&U[Z++])-65536;V[Ie++]=String.fromCharCode(55296+(gn>>10)),V[Ie++]=String.fromCharCode(56320+(1023&gn))}else{const it=U[Z++],Rt=U[Z++];V[Ie++]=String.fromCharCode((15&X)<<12|(63&it)<<6|63&Rt)}}return V.join("")}(this.decodeStringToByteArray(U,V))},decodeStringToByteArray(U,V){this.init_();const Z=V?this.charToByteMapWebSafe_:this.charToByteMap_,Ie=[];for(let X=0;X<U.length;){const it=Z[U.charAt(X++)],St=X<U.length?Z[U.charAt(X)]:0;++X;const sn=X<U.length?Z[U.charAt(X)]:64;++X;const Dt=X<U.length?Z[U.charAt(X)]:64;if(++X,null==it||null==St||null==sn||null==Dt)throw new ae;Ie.push(it<<2|St>>4),64!==sn&&(Ie.push(St<<4&240|sn>>2),64!==Dt&&Ie.push(sn<<6&192|Dt))}return Ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fe=function(U){return function(U){const V=ie(U);return ge.encodeByteArray(V,!0)}(U).replace(/\./g,"")},j=function(U){try{return ge.decodeString(U,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function te(U,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return V}for(const Z in V)!V.hasOwnProperty(Z)||!Ke(Z)||(U[Z]=te(U[Z],V[Z]));return U}function Ke(U){return"__proto__"!==U}const ve=()=>{try{return function xe(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if("undefined"==typeof document)return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Z){return}const V=U&&j(U[1]);return V&&JSON.parse(V)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},Fe=()=>{var U;return null===(U=ve())||void 0===U?void 0:U.config},tt=U=>{var V;return null===(V=ve())||void 0===V?void 0:V[`_${U}`]};class Me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,Z)=>{this.resolve=V,this.reject=Z})}wrapCallback(V){return(Z,Ie)=>{Z?this.reject(Z):this.resolve(Ie),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(Z):V(Z,Ie))}}}function rt(U,V){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ie=V||"demo-project",X=U.iat||0,it=U.sub||U.user_id;if(!it)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Rt=Object.assign({iss:`https://securetoken.google.com/${Ie}`,aud:Ie,iat:X,exp:X+3600,auth_time:X,sub:it,user_id:it,firebase:{sign_in_provider:"custom",identities:{}}},U);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(Rt)),""].join(".")}function We(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _t(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function Y(){var U;const V=null===(U=ve())||void 0===U?void 0:U.forceEnvironment;if("node"===V)return!0;if("browser"===V)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Z){return!1}}function pe(){return"object"==typeof self&&self.self===self}function we(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function De(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ce(){const U=We();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Ar(){return!Y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ft(){try{return"object"==typeof indexedDB}catch(U){return!1}}function Mt(){return new Promise((U,V)=>{try{let Z=!0;const Ie="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(Ie);X.onsuccess=()=>{X.result.close(),Z||self.indexedDB.deleteDatabase(Ie),U(!0)},X.onupgradeneeded=()=>{Z=!1},X.onerror=()=>{var it;V((null===(it=X.error)||void 0===it?void 0:it.message)||"")}}catch(Z){V(Z)}})}function Yr(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class fr extends Error{constructor(V,Z,Ie){super(Z),this.code=V,this.customData=Ie,this.name="FirebaseError",Object.setPrototypeOf(this,fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cn.prototype.create)}}class cn{constructor(V,Z,Ie){this.service=V,this.serviceName=Z,this.errors=Ie}create(V,...Z){const Ie=Z[0]||{},X=`${this.service}/${V}`,it=this.errors[V],Rt=it?function wr(U,V){return U.replace(pr,(Z,Ie)=>{const X=V[Ie];return null!=X?String(X):`<${Ie}?>`})}(it,Ie):"Error";return new fr(X,`${this.serviceName}: ${Rt} (${X}).`,Ie)}}const pr=/\{\$([^}]+)}/g;function ws(U,V){return Object.prototype.hasOwnProperty.call(U,V)}function ot(U){for(const V in U)if(Object.prototype.hasOwnProperty.call(U,V))return!1;return!0}function jn(U,V){if(U===V)return!0;const Z=Object.keys(U),Ie=Object.keys(V);for(const X of Z){if(!Ie.includes(X))return!1;const it=U[X],Rt=V[X];if(Nn(it)&&Nn(Rt)){if(!jn(it,Rt))return!1}else if(it!==Rt)return!1}for(const X of Ie)if(!Z.includes(X))return!1;return!0}function Nn(U){return null!==U&&"object"==typeof U}function Oe(U){const V=[];for(const[Z,Ie]of Object.entries(U))Array.isArray(Ie)?Ie.forEach(X=>{V.push(encodeURIComponent(Z)+"="+encodeURIComponent(X))}):V.push(encodeURIComponent(Z)+"="+encodeURIComponent(Ie));return V.length?"&"+V.join("&"):""}function un(U){const V={};return U.replace(/^\?/,"").split("&").forEach(Ie=>{if(Ie){const[X,it]=Ie.split("=");V[decodeURIComponent(X)]=decodeURIComponent(it)}}),V}function pn(U){const V=U.indexOf("?");if(!V)return"";const Z=U.indexOf("#",V);return U.substring(V,Z>0?Z:void 0)}function Sr(U,V){const Z=new Bt(U,V);return Z.subscribe.bind(Z)}class Bt{constructor(V,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{V(this)}).catch(Ie=>{this.error(Ie)})}next(V){this.forEachObserver(Z=>{Z.next(V)})}error(V){this.forEachObserver(Z=>{Z.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,Z,Ie){let X;if(void 0===V&&void 0===Z&&void 0===Ie)throw new Error("Missing Observer.");X=function Ct(U,V){if("object"!=typeof U||null===U)return!1;for(const Z of V)if(Z in U&&"function"==typeof U[Z])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:Z,complete:Ie},void 0===X.next&&(X.next=hi),void 0===X.error&&(X.error=hi),void 0===X.complete&&(X.complete=hi);const it=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch(Rt){}}),this.observers.push(X),it}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,V)}sendOne(V,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{Z(this.observers[V])}catch(Ie){"undefined"!=typeof console&&console.error&&console.error(Ie)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hi(){}function fo(U,V=1e3,Z=2){const Ie=V*Math.pow(Z,U),X=Math.round(.5*Ie*(Math.random()-.5)*2);return Math.min(144e5,Ie+X)}function Jr(U){return U&&U._delegate?U._delegate:U}},3083:(nt,Ee,N)=>{var f=N(5e3);let Q=null;function k(){return Q}const ae=new f.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function fe(){return(0,f.LFG)(q)}()},providedIn:"platform"}),n})();const j=new f.OlP("Location Initialized");let q=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){te()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){te()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ae))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function Ke(){return new q((0,f.LFG)(ae))}()},providedIn:"platform"}),n})();function te(){return!!window.history.pushState}function xe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ke(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ze(n){return n&&"?"!==n[0]?"?"+n:n}let le=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function ve(n){const e=(0,f.LFG)(ae).location;return new $e((0,f.LFG)(he),e&&e.origin||"")}()},providedIn:"root"}),n})();const je=new f.OlP("appBaseHref");let $e=(()=>{class n extends le{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ze(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const c=this.prepareExternalUrl(o+Ze(u));this._platformLocation.pushState(t,r,c)}replaceState(t,r,o,u){const c=this.prepareExternalUrl(o+Ze(u));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(he),f.LFG(je,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n extends le{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=xe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let c=this.prepareExternalUrl(o+Ze(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,o,u){let c=this.prepareExternalUrl(o+Ze(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(he),f.LFG(je,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),tt=(()=>{class n{constructor(t,r){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=ke(We(o)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ze(r))}normalize(t){return n.stripTrailingSlash(function rt(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,We(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ze(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ze(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Ze,n.joinWithSlash=xe,n.stripTrailingSlash=ke,n.\u0275fac=function(t){return new(t||n)(f.LFG(le),f.LFG(he))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function Me(){return new tt((0,f.LFG)(le),(0,f.LFG)(he))}()},providedIn:"root"}),n})();function We(n){return n.replace(/\/index.html$/,"")}var pe=(()=>((pe=pe||{})[pe.Zero=0]="Zero",pe[pe.One=1]="One",pe[pe.Two=2]="Two",pe[pe.Few=3]="Few",pe[pe.Many=4]="Many",pe[pe.Other=5]="Other",pe))();const Li=f.kL8;class zt{}let ir=(()=>{class n extends zt{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Li(r||this.locale)(t)){case pe.Zero:return"zero";case pe.One:return"one";case pe.Two:return"two";case pe.Few:return"few";case pe.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.soG))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),gi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new en,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){nc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){nc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class en{constructor(){this.$implicit=null,this.ngIf=null}}function nc(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,f.AaK)(e)}'.`)}let uc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[{provide:zt,useClass:ir}]}),n})();function za(n){return"server"===n}let Uu=(()=>{class n{}return n.\u0275prov=(0,f.Yz7)({token:n,providedIn:"root",factory:()=>new Td((0,f.LFG)(ae),window)}),n})();class Td{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ko(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const c=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(c)return c}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=vn(this.window.history)||vn(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function vn(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ka extends class wf extends class ge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){Q||(Q=n)}(new Ka)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ur(){return bs=bs||document.querySelector("base"),bs?bs.getAttribute("href"):null}();return null==t?null:function Yo(n){Bu=Bu||document.createElement("a"),Bu.setAttribute("href",n);const e=Bu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){bs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Cs(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Bu,bs=null;const ni=new f.OlP("TRANSITION_ID"),Qo=[{provide:f.ip1,useFactory:function Sn(n,e,t){return()=>{t.get(f.CZH).donePromise.then(()=>{const r=k(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[ni,ae,f.zs3],multi:!0}];class mo{static init(){(0,f.VLi)(new mo)}addToWindow(e){f.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},f.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(r=>{const o=f.dqk.getAllAngularTestabilities();let u=o.length,c=!1;const m=function(w){c=c||w,u--,0==u&&r(c)};o.forEach(function(w){w.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Xi=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const ji=new f.OlP("EventManagerPlugins");let Ts=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const c=o[u];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ji),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class ju{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=k().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Et=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),$u=(()=>{class n extends Et{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const c=this._doc.createElement("style");c.textContent=u,o.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(yi),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(yi))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ae))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function yi(n){k().remove(n)}const Ya={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Hu=/%COMP%/g;function En(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?En(n,o,t):(o=o.replace(Hu,n),t.push(o))}return t}function _i(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let or=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Jo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case f.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Ng(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case f.ifc.ShadowDom:return new Br(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=En(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ts),f.LFG($u),f.LFG(f.AFp))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Jo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ya[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=Ya[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Ya[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(f.JOm.DashCase|f.JOm.Important)?e.style.setProperty(t,r,o&f.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&f.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,_i(r)):this.eventManager.addEventListener(e,t,_i(r))}}class Ng extends Jo{constructor(e,t,r,o){super(e),this.component=r;const u=En(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function Ut(n){return"_ngcontent-%COMP%".replace(Hu,n)}(o+"-"+r.id),this.hostAttr=function Og(n){return"_nghost-%COMP%".replace(Hu,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Br extends Jo{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=En(o.id,o.styles,[]);for(let c=0;c<u.length;c++){const m=document.createElement("style");m.textContent=u[c],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let vi=(()=>{class n extends ju{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ae))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Yn=["alt","control","meta","shift"],Qa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},es={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Hn={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let qu=(()=>{class n extends ju{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),c=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,u.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let c="";if(Yn.forEach(w=>{const T=r.indexOf(w);T>-1&&(r.splice(T,1),c+=w+".")}),c+=u,0!=r.length||0===u.length)return null;const m={};return m.domEventName=o,m.fullKey=c,m}static getEventFullKey(t){let r="",o=function xd(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&es.hasOwnProperty(e)&&(e=es[e]))}return Qa[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Yn.forEach(u=>{u!=o&&Hn[u](t)&&(r+=u+".")}),r+=o,r}static eventCallback(t,r,o){return u=>{n.getEventFullKey(u)===t&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ae))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const zu=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:"browser"},{provide:f.g9A,useValue:function cc(){Ka.makeCurrent(),mo.init()},multi:!0},{provide:ae,useFactory:function ts(){return(0,f.RDi)(document),document},deps:[]}]),ea=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function Zu(){return new f.qLn},deps:[]},{provide:ji,useClass:vi,multi:!0,deps:[ae,f.R0b,f.Lbi]},{provide:ji,useClass:qu,multi:!0,deps:[ae]},{provide:or,useClass:or,deps:[Ts,$u,f.AFp]},{provide:f.FYo,useExisting:or},{provide:Et,useExisting:$u},{provide:$u,useClass:$u,deps:[ae]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b]},{provide:Ts,useClass:Ts,deps:[ji,f.R0b]},{provide:class wn{},useClass:Xi,deps:[]}];let Ja=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:f.AFp,useValue:t.appId},{provide:ni,useExisting:f.AFp},Qo]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(n,12))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:ea,imports:[uc,f.hGG]}),n})();"undefined"!=typeof window&&window;var mn=N(8996),rs=N(7669);function vt(...n){const e=(0,rs.yG)(n);return(0,mn.D)(n,e)}var Ei=N(7579);class jr extends Ei.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Jn=N(8306);const{isArray:_c}=Array,{getPrototypeOf:Zs,prototype:nu,keys:vo}=Object;function vc(n){if(1===n.length){const e=n[0];if(_c(e))return{args:e,keys:null};if(function Xu(n){return n&&"object"==typeof n&&Zs(n)===nu}(e)){const t=vo(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var zs=N(4671),Vt=N(4004);const{isArray:Cf}=Array;function ru(n){return(0,Vt.U)(e=>function xs(n,e){return Cf(e)?n(...e):n(e)}(n,e))}function iu(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var ar=N(5403),oa=N(9672);function aa(n,e,t){n?(0,oa.f)(t,n,e):e()}const wo=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var el=N(8189);function su(...n){return function Lg(){return(0,el.J)(1)}()((0,mn.D)(n,(0,rs.yG)(n)))}var Ms=N(8421);function Vg(n){return new Jn.y(e=>{(0,Ms.Xf)(n()).subscribe(e)})}var ua=N(515),la=N(727),mr=N(4482);function kd(){return(0,mr.e)((n,e)=>{let t=null;n._refCount++;const r=new ar.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Fd extends Jn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,mr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new la.w0;const t=this.getSubject();e.add(this.source.subscribe(new ar.Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=la.w0.EMPTY)}return e}refCount(){return kd()(this)}}function Er(n,e){return(0,mr.e)((t,r)=>{let o=null,u=0,c=!1;const m=()=>c&&!o&&r.complete();t.subscribe(new ar.Q(r,w=>{null==o||o.unsubscribe();let T=0;const M=u++;(0,Ms.Xf)(n(w,M)).subscribe(o=new ar.Q(r,P=>r.next(e?e(w,P,M,T++):P),()=>{o=null,m()}))},()=>{c=!0,m()}))})}var Rs=N(5698);function on(...n){const e=(0,rs.yG)(n);return(0,mr.e)((t,r)=>{(e?su(n,t,e):su(n,t)).subscribe(r)})}function Ii(n,e,t,r,o){return(u,c)=>{let m=t,w=e,T=0;u.subscribe(new ar.Q(c,M=>{const P=T++;w=m?n(w,M,P):(m=!0,M),r&&c.next(w)},o&&(()=>{m&&c.next(w),c.complete()})))}}function Mn(n,e){return(0,mr.e)(Ii(n,e,arguments.length>=2,!0))}function Hi(n,e){return(0,mr.e)((t,r)=>{let o=0;t.subscribe(new ar.Q(r,u=>n.call(e,u,o++)&&r.next(u)))})}function $r(n){return(0,mr.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe(new ar.Q(t,void 0,void 0,c=>{u=(0,Ms.Xf)(n(c,$r(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}var Rr=N(5577),bf=N(576);function hn(n,e){return(0,bf.m)(e)?(0,Rr.z)(n,e,1):(0,Rr.z)(n,1)}function wc(n){return n<=0?()=>ua.E:(0,mr.e)((e,t)=>{let r=[];e.subscribe(new ar.Q(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function ou(n=Ld){return(0,mr.e)((e,t)=>{let r=!1;e.subscribe(new ar.Q(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Ld(){return new wo}function Ec(n){return(0,mr.e)((e,t)=>{let r=!1;e.subscribe(new ar.Q(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function Eo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Hi((o,u)=>n(o,u,r)):zs.y,(0,Rs.q)(1),t?Ec(e):ou(()=>new wo))}var Ci=N(8505);class Ks{constructor(e,t){this.id=e,this.url=t}}class Gn extends Ks{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Gi extends Ks{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class uu extends Ks{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Io extends Ks{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Cc extends Ks{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Di extends Ks{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ir extends Ks{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Dc extends Ks{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yn extends Ks{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ca{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lu{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Tf{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cu{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ug{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vd{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tl{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const mt="primary";class da{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Hr(n){return new da(n)}const du="ngNavigationCancelingError";function Ps(n){const e=Error("NavigationCancelingError: "+n);return e[du]=!0,e}function hu(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const c=r[u],m=n[u];if(c.startsWith(":"))o[c.substring(1)]=m;else if(c!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Gr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!nl(n[o],e[o]))return!1;return!0}function nl(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function ha(n){return Array.prototype.concat.apply([],n)}function fa(n){return n.length>0?n[n.length-1]:null}function ur(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ri(n){return(0,f.CqO)(n)?n:(0,f.QGY)(n)?(0,mn.D)(Promise.resolve(n)):vt(n)}const rl={exact:function pa(n,e,t){if(!Zi(n.segments,e.segments)||!ga(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!pa(n.children[r],e.children[r],t))return!1;return!0},subset:Co},qi={exact:function Bd(n,e){return Gr(n,e)},subset:function fu(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>nl(n[t],e[t]))},ignored:()=>!0};function Tc(n,e,t){return rl[t.paths](n.root,e.root,t.matrixParams)&&qi[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Co(n,e,t){return bi(n,e,e.segments,t)}function bi(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Zi(o,t)||e.hasChildren()||!ga(o,t,r))}if(n.segments.length===t.length){if(!Zi(n.segments,t)||!ga(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!Co(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Zi(n.segments,o)&&ga(n.segments,o,r)&&n.children[mt])&&bi(n.children[mt],e,u,r)}}function ga(n,e,t){return e.every((r,o)=>qi[t](n[o].parameters,r.parameters))}class Cn{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hr(this.queryParams)),this._queryParamMap}toString(){return sl.serialize(this)}}class Ht{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ur(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ti(this)}}class il{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Hr(this.parameters)),this._parameterMap}toString(){return va(this)}}function Zi(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class pu{}class xf{parse(e){const t=new Rf(e);return new Cn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Do(e.root,!0)}`,r=function wa(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${gu(t)}=${gu(o)}`).join("&"):`${gu(t)}=${gu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Mf(n){return encodeURI(n)}(e.fragment)}`:""}`}}const sl=new xf;function Ti(n){return n.segments.map(e=>va(e)).join("/")}function Do(n,e){if(!n.hasChildren())return Ti(n);if(e){const t=n.children[mt]?Do(n.children[mt],!1):"",r=[];return ur(n.children,(o,u)=>{u!==mt&&r.push(`${u}:${Do(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Sf(n,e){let t=[];return ur(n.children,(r,o)=>{o===mt&&(t=t.concat(e(r,o)))}),ur(n.children,(r,o)=>{o!==mt&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===mt?[Do(n.children[mt],!1)]:[`${o}:${Do(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[mt]?`${Ti(n)}/${t[0]}`:`${Ti(n)}/(${t.join("//")})`}}function ma(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gu(n){return ma(n).replace(/%3B/gi,";")}function bo(n){return ma(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ya(n){return decodeURIComponent(n)}function _a(n){return ya(n.replace(/\+/g,"%20"))}function va(n){return`${bo(n.path)}${function Ac(n){return Object.keys(n).map(e=>`;${bo(e)}=${bo(n[e])}`).join("")}(n.parameters)}`}const To=/^[^\/()?;=#]+/;function Ys(n){const e=n.match(To);return e?e[0]:""}const Ea=/^[^=?&#]+/,Bg=/^[^&#]+/;class Rf{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ht([],{}):new Ht([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[mt]=new Ht(e,t)),r}parseSegment(){const e=Ys(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new il(ya(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ys(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Ys(this.remaining);o&&(r=o,this.capture(r))}e[ya(t)]=ya(r)}parseQueryParam(e){const t=function ol(n){const e=n.match(Ea);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function jg(n){const e=n.match(Bg);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const o=_a(t),u=_a(r);if(e.hasOwnProperty(o)){let c=e[o];Array.isArray(c)||(c=[c],e[o]=c),c.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ys(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=mt);const c=this.parseChildren();t[u]=1===Object.keys(c).length?c[mt]:new Ht([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class al{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ul(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ul(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ia(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Ia(e,this._root).map(t=>t.value)}}function ul(n,e){if(n===e.value)return e;for(const t of e.children){const r=ul(n,t);if(r)return r}return null}function Ia(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ia(n,t);if(r.length)return r.unshift(e),r}return[]}class ii{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Pr(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ll extends al{constructor(e,t){super(e),this.snapshot=t,cl(this,e)}toString(){return this.snapshot.toString()}}function Ca(n,e){const t=function $d(n,e){const c=new Js([],{},{},"",{},mt,e,null,n.root,-1,{});return new Hd("",new ii(c,[]))}(n,e),r=new jr([new il("",{})]),o=new jr({}),u=new jr({}),c=new jr({}),m=new jr(""),w=new si(r,o,c,m,u,mt,e,t.root);return w.snapshot=t.root,new ll(new ii(w,[]),t)}class si{constructor(e,t,r,o,u,c,m,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=c,this.component=m,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Vt.U)(e=>Hr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Vt.U)(e=>Hr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qs(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function Pf(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Js{constructor(e,t,r,o,u,c,m,w,T,M,P){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=c,this.component=m,this.routeConfig=w,this._urlSegment=T,this._lastPathIndex=M,this._resolve=P}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hd extends al{constructor(e,t){super(t),this.url=e,cl(this,t)}toString(){return dl(this._root)}}function cl(n,e){e.value._routerState=n,e.children.forEach(t=>cl(n,t))}function dl(n){const e=n.children.length>0?` { ${n.children.map(dl).join(", ")} } `:"";return`${n.value}${e}`}function ss(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Gr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Gr(e.params,t.params)||n.params.next(t.params),function Ud(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Gr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Gr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Da(n,e){const t=Gr(n.params,e.params)&&function jd(n,e){return Zi(n,e)&&n.every((t,r)=>Gr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Da(n.parent,e.parent))}function Ao(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function Or(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Ao(n,r,o);return Ao(n,r)})}(n,e,t);return new ii(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const c=u.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(m=>Ao(n,m)),c}}const r=function ba(n){return new si(new jr(n.url),new jr(n.params),new jr(n.queryParams),new jr(n.fragment),new jr(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>Ao(n,u));return new ii(r,o)}}function Gd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function mu(n){return"object"==typeof n&&null!=n&&n.outlets}function Sc(n,e,t,r,o){let u={};return r&&ur(r,(c,m)=>{u[m]=Array.isArray(c)?c.map(w=>`${w}`):`${c}`}),new Cn(t.root===n?e:Nf(t.root,n,e),u,o)}function Nf(n,e,t){const r={};return ur(n.children,(o,u)=>{r[u]=o===e?t:Nf(o,e,t)}),new Ht(n.segments,r)}class xc{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Gd(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(mu);if(o&&o!==fa(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class E{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function $(n,e,t){if(n||(n=new Ht([],{})),0===n.segments.length&&n.hasChildren())return W(n,e,t);const r=function se(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const c=n.segments[o],m=t[r];if(mu(m))break;const w=`${m}`,T=r<t.length-1?t[r+1]:null;if(o>0&&void 0===w)break;if(w&&T&&"object"==typeof T&&void 0===T.outlets){if(!It(w,T,c))return u;r+=2}else{if(!It(w,{},c))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Ht(n.segments.slice(0,r.pathIndex),{});return u.children[mt]=new Ht(n.segments.slice(r.pathIndex),n.children),W(u,0,o)}return r.match&&0===o.length?new Ht(n.segments,{}):r.match&&!n.hasChildren()?qe(n,e,t):r.match?W(n,0,o):qe(n,e,t)}function W(n,e,t){if(0===t.length)return new Ht(n.segments,{});{const r=function O(n){return mu(n[0])?n[0].outlets:{[mt]:n}}(t),o={};return ur(r,(u,c)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[c]=$(n.children[c],e,u))}),ur(n.children,(u,c)=>{void 0===r[c]&&(o[c]=u)}),new Ht(n.segments,o)}}function qe(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(mu(u)){const w=Le(u.outlets);return new Ht(r,w)}if(0===o&&Gd(t[0])){r.push(new il(n.segments[e].path,et(t[0]))),o++;continue}const c=mu(u)?u.outlets[mt]:`${u}`,m=o<t.length-1?t[o+1]:null;c&&m&&Gd(m)?(r.push(new il(c,et(m))),o+=2):(r.push(new il(c,{})),o++)}return new Ht(r,{})}function Le(n){const e={};return ur(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=qe(new Ht([],{}),0,t))}),e}function et(n){const e={};return ur(n,(t,r)=>e[r]=`${t}`),e}function It(n,e,t){return n==t.path&&Gr(e,t.parameters)}class oi{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ss(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Pr(t);e.children.forEach(u=>{const c=u.value.outlet;this.deactivateRoutes(u,o[c],r),delete o[c]}),ur(o,(u,c)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const c=r.getContext(o.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Pr(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],o);if(r&&r.outlet){const c=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Pr(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Pr(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new Vd(u.value.snapshot))}),e.children.length&&this.forwardEvent(new cu(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(ss(o),o===u)if(o.component){const c=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const c=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),c.children.onOutletReAttached(m.contexts),c.attachRef=m.componentRef,c.route=m.route.value,c.outlet&&c.outlet.attach(m.componentRef,m.route.value),ss(m.route.value),this.activateChildRoutes(e,null,c.children)}else{const m=function yr(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),w=m?m.module.componentFactoryResolver:null;c.attachRef=null,c.route=o,c.resolver=w,c.outlet&&c.outlet.activateWith(o,w),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class xo{constructor(e,t){this.routes=e,this.module=t}}function Os(n){return"function"==typeof n}function Xn(n){return n instanceof Cn}const Mc=Symbol("INITIAL_VALUE");function Ta(){return Er(n=>function Df(...n){const e=(0,rs.yG)(n),t=(0,rs.jO)(n),{args:r,keys:o}=vc(n);if(0===r.length)return(0,mn.D)([],e);const u=new Jn.y(function Ws(n,e,t=zs.y){return r=>{aa(e,()=>{const{length:o}=n,u=new Array(o);let c=o,m=o;for(let w=0;w<o;w++)aa(e,()=>{const T=(0,mn.D)(n[w],e);let M=!1;T.subscribe(new ar.Q(r,P=>{u[w]=P,M||(M=!0,m--),m||r.next(t(u.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,o?c=>iu(o,c):zs.y));return t?u.pipe(ru(t)):u}(n.map(e=>e.pipe((0,Rs.q)(1),on(Mc)))).pipe(Mn((e,t)=>{let r=!1;return t.reduce((o,u,c)=>o!==Mc?o:(u===Mc&&(r=!0),r||!1!==u&&c!==t.length-1&&!Xn(u)?o:u),e)},Mc),Hi(e=>e!==Mc),(0,Vt.U)(e=>Xn(e)?e:!0===e),(0,Rs.q)(1)))}class l_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Rc,this.attachRef=null}}class Rc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new l_,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Vf=(()=>{class n{constructor(t,r,o,u,c){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=u||mt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,w=new qd(t,m,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,w),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Rc),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},n.\u0275dir=f.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class qd{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===si?this.route:e===Rc?this.childContexts:this.parent.get(e,t)}}let $g=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&f._UZ(0,"router-outlet")},directives:[Vf],encapsulation:2}),n})();function Zd(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];c_(r,lr(e,r))}}function c_(n,e){n.children&&Zd(n.children,e)}function lr(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Pc(n){const e=n.children&&n.children.map(Pc),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==mt&&(t.component=$g),t}function os(n){return n.outlet||mt}function zd(n,e){const t=n.filter(r=>os(r)===e);return t.push(...n.filter(r=>os(r)!==e)),t}const Uf={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Wd(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Uf):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const u=(e.matcher||hu)(t,n,e);if(!u)return Object.assign({},Uf);const c={};ur(u.posParams,(w,T)=>{c[T]=w.path});const m=u.consumed.length>0?Object.assign(Object.assign({},c),u.consumed[u.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:u.consumed,lastChild:u.consumed.length,parameters:m,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function Kd(n,e,t,r,o="corrected"){if(t.length>0&&function h_(n,e,t){return t.some(r=>Bf(n,e,r)&&os(r)!==mt)}(n,t,r)){const c=new Ht(e,function d_(n,e,t,r){const o={};o[mt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&os(u)!==mt){const c=new Ht([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,o[os(u)]=c}return o}(n,e,r,new Ht(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function Dw(n,e,t){return t.some(r=>Bf(n,e,r))}(n,t,r)){const c=new Ht(n.segments,function Hg(n,e,t,r,o,u){const c={};for(const m of r)if(Bf(n,t,m)&&!o[os(m)]){const w=new Ht([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===u?n.segments.length:e.length,c[os(m)]=w}return Object.assign(Object.assign({},o),c)}(n,e,t,r,n.children,o));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const u=new Ht(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function Bf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function hl(n,e,t,r){return!!(os(n)===r||r!==mt&&Bf(e,t,n))&&("**"===n.path||Wd(e,n,t).matched)}function Cr(n,e,t){return 0===e.length&&!n.children[t]}class Ro{constructor(e){this.segmentGroup=e||null}}class jf{constructor(e){this.urlTree=e}}function yu(n){return new Jn.y(e=>e.error(new Ro(n)))}function Nr(n){return new Jn.y(e=>e.error(new jf(n)))}function fl(n){return new Jn.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class f_{constructor(e,t,r,o,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(f.h0i)}apply(){const e=Kd(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ht(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,mt).pipe((0,Vt.U)(u=>this.createUrlTree(Oc(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe($r(u=>{if(u instanceof jf)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Ro?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,mt).pipe((0,Vt.U)(o=>this.createUrlTree(Oc(o),e.queryParams,e.fragment))).pipe($r(o=>{throw o instanceof Ro?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new Ht([],{[mt]:e}):e;return new Cn(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Vt.U)(u=>new Ht([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,mn.D)(o).pipe(hn(u=>{const c=r.children[u],m=zd(t,u);return this.expandSegmentGroup(e,m,c,u).pipe((0,Vt.U)(w=>({segment:w,outlet:u})))}),Mn((u,c)=>(u[c.outlet]=c.segment,u),{}),function Ic(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Hi((o,u)=>n(o,u,r)):zs.y,wc(1),t?Ec(e):ou(()=>new wo))}())}expandSegment(e,t,r,o,u,c){return(0,mn.D)(r).pipe(hn(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,u,c).pipe($r(T=>{if(T instanceof Ro)return vt(null);throw T}))),Eo(m=>!!m),$r((m,w)=>{if(m instanceof wo||"EmptyError"===m.name){if(Cr(t,o,u))return vt(new Ht([],{}));throw new Ro(t)}throw m}))}expandSegmentAgainstRoute(e,t,r,o,u,c,m){return hl(o,t,u,c)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,c):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,c):yu(t):yu(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,c){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Nr(u):this.lineralizeSegments(r,u).pipe((0,Rr.z)(c=>{const m=new Ht(c,{});return this.expandSegment(e,m,t,c,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,c){const{matched:m,consumedSegments:w,lastChild:T,positionalParamSegments:M}=Wd(t,o,u);if(!m)return yu(t);const P=this.applyRedirectCommands(w,o.redirectTo,M);return o.redirectTo.startsWith("/")?Nr(P):this.lineralizeSegments(o,P).pipe((0,Rr.z)(G=>this.expandSegment(e,t,r,G.concat(u.slice(T)),c,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?vt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Vt.U)(G=>(r._loadedConfig=G,new Ht(o,{})))):vt(new Ht(o,{}));const{matched:c,consumedSegments:m,lastChild:w}=Wd(t,r,o);if(!c)return yu(t);const T=o.slice(w);return this.getChildConfig(e,r,o).pipe((0,Rr.z)(P=>{const G=P.module,K=P.routes,{segmentGroup:Ce,slicedSegments:Ne}=Kd(t,m,T,K),Ve=new Ht(Ce.segments,Ce.children);if(0===Ne.length&&Ve.hasChildren())return this.expandChildren(G,K,Ve).pipe((0,Vt.U)(At=>new Ht(m,At)));if(0===K.length&&0===Ne.length)return vt(new Ht(m,{}));const lt=os(r)===u;return this.expandSegment(G,Ve,K,Ne,lt?mt:u,!0).pipe((0,Vt.U)(ht=>new Ht(m.concat(ht.segments),ht.children)))}))}getChildConfig(e,t,r){return t.children?vt(new xo(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?vt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Rr.z)(o=>o?this.configLoader.load(e.injector,t).pipe((0,Vt.U)(u=>(t._loadedConfig=u,u))):function $f(n){return new Jn.y(e=>e.error(Ps(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):vt(new xo([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;return o&&0!==o.length?vt(o.map(c=>{const m=e.get(c);let w;if(function Ai(n){return n&&Os(n.canLoad)}(m))w=m.canLoad(t,r);else{if(!Os(m))throw new Error("Invalid CanLoad guard");w=m(t,r)}return ri(w)})).pipe(Ta(),(0,Ci.b)(c=>{if(!Xn(c))return;const m=Ps(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw m.url=c,m}),(0,Vt.U)(c=>!0===c)):vt(!0)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return vt(r);if(o.numberOfChildren>1||!o.children[mt])return fl(e.redirectTo);o=o.children[mt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new Cn(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return ur(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[u]=t[m]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let c={};return ur(t.children,(m,w)=>{c[w]=this.createSegmentGroup(e,m,r,o)}),new Ht(u,c)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function Oc(n){const e={};for(const r of Object.keys(n.children)){const u=Oc(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function p_(n){if(1===n.numberOfChildren&&n.children[mt]){const e=n.children[mt];return new Ht(n.segments.concat(e.segments),e.children)}return n}(new Ht(n.segments,e))}class Nc{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class pl{constructor(e,t){this.component=e,this.route=t}}function Gg(n,e,t){const r=n._root;return kc(r,e?e._root:null,t,[r.value])}function gl(n,e,t){const r=function m_(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function kc(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Pr(e);return n.children.forEach(c=>{(function qf(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,c=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(c&&u.routeConfig===c.routeConfig){const w=function qg(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Zi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Zi(n.url,e.url)||!Gr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Da(n,e)||!Gr(n.queryParams,e.queryParams);default:return!Da(n,e)}}(c,u,u.routeConfig.runGuardsAndResolvers);w?o.canActivateChecks.push(new Nc(r)):(u.data=c.data,u._resolvedData=c._resolvedData),kc(n,e,u.component?m?m.children:null:t,r,o),w&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new pl(m.outlet.component,c))}else c&&Fc(e,m,o),o.canActivateChecks.push(new Nc(r)),kc(n,null,u.component?m?m.children:null:t,r,o)})(c,u[c.value.outlet],t,r.concat([c.value]),o),delete u[c.value.outlet]}),ur(u,(c,m)=>Fc(c,t.getContext(m),o)),o}function Fc(n,e,t){const r=Pr(n),o=n.value;ur(r,(u,c)=>{Fc(u,o.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new pl(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class E_{}function Jd(n){return new Jn.y(e=>e.error(n))}class Zg{constructor(e,t,r,o,u,c){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=c}recognize(){const e=Kd(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,mt);if(null===t)return null;const r=new Js([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},mt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new ii(r,t),u=new Hd(this.url,o);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=Qs(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const c=t.children[u],m=zd(e,u),w=this.processSegmentGroup(m,c,u);if(null===w)return null;r.push(...w)}const o=vu(r);return function Xd(n){n.sort((e,t)=>e.value.outlet===mt?-1:t.value.outlet===mt?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}processSegment(e,t,r,o){for(const u of e){const c=this.processSegmentAgainstRoute(u,t,r,o);if(null!==c)return c}return Cr(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!hl(e,t,r,o))return null;let u,c=[],m=[];if("**"===e.path){const K=r.length>0?fa(r).parameters:{};u=new Js(r,K,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Lc(e),os(e),e.component,e,b_(t),zg(t)+r.length,T_(e))}else{const K=Wd(t,e,r);if(!K.matched)return null;c=K.consumedSegments,m=r.slice(K.lastChild),u=new Js(c,K.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Lc(e),os(e),e.component,e,b_(t),zg(t)+c.length,T_(e))}const w=function C_(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:T,slicedSegments:M}=Kd(t,c,m,w.filter(K=>void 0===K.redirectTo),this.relativeLinkResolution);if(0===M.length&&T.hasChildren()){const K=this.processChildren(w,T);return null===K?null:[new ii(u,K)]}if(0===w.length&&0===M.length)return[new ii(u,[])];const P=os(e)===o,G=this.processSegment(w,T,M,P?mt:o);return null===G?null:[new ii(u,G)]}}function D_(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function vu(n){const e=[],t=new Set;for(const r of n){if(!D_(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=vu(r.children);e.push(new ii(r.value,o))}return e.filter(r=>!t.has(r))}function b_(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function zg(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Lc(n){return n.data||{}}function T_(n){return n.resolve||{}}function eo(n){return Er(e=>{const t=n(e);return t?(0,mn.D)(t).pipe((0,Vt.U)(()=>e)):vt(e)})}class zf extends class Yg{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const ml=new f.OlP("ROUTES");class Wf{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,Vt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=u.create(e);return new xo(ha(c.injector.get(ml,void 0,f.XFs.Self|f.XFs.Optional)).map(Pc),c)}),$r(u=>{throw t._loader$=void 0,u}));return t._loader$=new Fd(o,()=>new Ei.x).pipe(kd()),t._loader$}loadModuleFactory(e){return ri(e()).pipe((0,Rr.z)(t=>t instanceof f.YKP?vt(t):(0,mn.D)(this.compiler.compileModuleAsync(t))))}}class yl{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Kf(n){throw n}function _l(n,e,t){return e.parse("/")}function Qg(n,e){return vt(null)}const eh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},S_={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zi=(()=>{class n{constructor(t,r,o,u,c,m,w){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ei.x,this.errorHandler=Kf,this.malformedUriErrorHandler=_l,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Qg,afterPreactivation:Qg},this.urlHandlingStrategy=new yl,this.routeReuseStrategy=new zf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(f.h0i),this.console=c.get(f.c2e);const P=c.get(f.R0b);this.isNgZoneEnabled=P instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=function is(){return new Cn(new Ht([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Wf(c,m,G=>this.triggerEvent(new ca(G)),G=>this.triggerEvent(new lu(G))),this.routerState=Ca(this.currentUrlTree,this.rootComponentType),this.transitions=new jr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Hi(o=>0!==o.id),(0,Vt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Er(o=>{let u=!1,c=!1;return vt(o).pipe((0,Ci.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Er(m=>{const w=this.browserUrlTree.toString(),T=!this.navigated||m.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return th(m.source)&&(this.browserUrlTree=m.extractedUrl),vt(m).pipe(Er(P=>{const G=this.transitions.getValue();return r.next(new Gn(P.id,this.serializeUrl(P.extractedUrl),P.source,P.restoredState)),G!==this.transitions.getValue()?ua.E:Promise.resolve(P)}),function Gf(n,e,t,r){return Er(o=>function Hf(n,e,t,r,o){return new f_(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,Vt.U)(u=>Object.assign(Object.assign({},o),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ci.b)(P=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:P.urlAfterRedirects})}),function Xs(n,e,t,r,o){return(0,Rr.z)(u=>function I_(n,e,t,r,o="emptyOnly",u="legacy"){try{const c=new Zg(n,e,t,r,o,u).recognize();return null===c?Jd(new E_):vt(c)}catch(c){return Jd(c)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,o).pipe((0,Vt.U)(c=>Object.assign(Object.assign({},u),{targetSnapshot:c}))))}(this.rootComponentType,this.config,P=>this.serializeUrl(P),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ci.b)(P=>{if("eager"===this.urlUpdateStrategy){if(!P.extras.skipLocationChange){const K=this.urlHandlingStrategy.merge(P.urlAfterRedirects,P.rawUrl);this.setBrowserUrl(K,P)}this.browserUrlTree=P.urlAfterRedirects}const G=new Cc(P.id,this.serializeUrl(P.extractedUrl),this.serializeUrl(P.urlAfterRedirects),P.targetSnapshot);r.next(G)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:G,extractedUrl:K,source:Ce,restoredState:Ne,extras:Ve}=m,lt=new Gn(G,this.serializeUrl(K),Ce,Ne);r.next(lt);const Pt=Ca(K,this.rootComponentType).snapshot;return vt(Object.assign(Object.assign({},m),{targetSnapshot:Pt,urlAfterRedirects:K,extras:Object.assign(Object.assign({},Ve),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),ua.E}),eo(m=>{const{targetSnapshot:w,id:T,extractedUrl:M,rawUrl:P,extras:{skipLocationChange:G,replaceUrl:K}}=m;return this.hooks.beforePreactivation(w,{navigationId:T,appliedUrlTree:M,rawUrlTree:P,skipLocationChange:!!G,replaceUrl:!!K})}),(0,Ci.b)(m=>{const w=new Di(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(w)}),(0,Vt.U)(m=>Object.assign(Object.assign({},m),{guards:Gg(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function Yd(n,e){return(0,Rr.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:c}}=t;return 0===c.length&&0===u.length?vt(Object.assign(Object.assign({},t),{guardsResult:!0})):function _u(n,e,t,r){return(0,mn.D)(n).pipe((0,Rr.z)(o=>function w_(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?vt(u.map(m=>{const w=gl(m,e,o);let T;if(function Lf(n){return n&&Os(n.canDeactivate)}(w))T=ri(w.canDeactivate(n,e,t,r));else{if(!Os(w))throw new Error("Invalid CanDeactivate guard");T=ri(w(n,e,t,r))}return T.pipe(Eo())})).pipe(Ta()):vt(!0)}(o.component,o.route,t,e,r)),Eo(o=>!0!==o,!0))}(c,r,o,n).pipe((0,Rr.z)(m=>m&&function Mo(n){return"boolean"==typeof n}(m)?function y_(n,e,t,r){return(0,mn.D)(e).pipe(hn(o=>su(function Zf(n,e){return null!==n&&e&&e(new Tf(n)),vt(!0)}(o.route.parent,r),function __(n,e){return null!==n&&e&&e(new Ug(n)),vt(!0)}(o.route,r),function Qd(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(c=>function g_(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Vg(()=>vt(c.guards.map(w=>{const T=gl(w,c.node,t);let M;if(function Cw(n){return n&&Os(n.canActivateChild)}(T))M=ri(T.canActivateChild(r,n));else{if(!Os(T))throw new Error("Invalid CanActivateChild guard");M=ri(T(r,n))}return M.pipe(Eo())})).pipe(Ta())));return vt(u).pipe(Ta())}(n,o.path,t),function v_(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return vt(!0);const o=r.map(u=>Vg(()=>{const c=gl(u,e,t);let m;if(function Ff(n){return n&&Os(n.canActivate)}(c))m=ri(c.canActivate(e,n));else{if(!Os(c))throw new Error("Invalid CanActivate guard");m=ri(c(e,n))}return m.pipe(Eo())}));return vt(o).pipe(Ta())}(n,o.route,t))),Eo(o=>!0!==o,!0))}(r,u,n,e):vt(m)),(0,Vt.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Ci.b)(m=>{if(Xn(m.guardsResult)){const T=Ps(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw T.url=m.guardsResult,T}const w=new Ir(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(w)}),Hi(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),eo(m=>{if(m.guards.canActivateChecks.length)return vt(m).pipe((0,Ci.b)(w=>{const T=new Dc(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(T)}),Er(w=>{let T=!1;return vt(w).pipe(function Vc(n,e){return(0,Rr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return vt(t);let u=0;return(0,mn.D)(o).pipe(hn(c=>function Uc(n,e,t,r){return function A_(n,e,t,r){const o=Object.keys(n);if(0===o.length)return vt({});const u={};return(0,mn.D)(o).pipe((0,Rr.z)(c=>function Wg(n,e,t,r){const o=gl(n,e,r);return ri(o.resolve?o.resolve(e,t):o(e,t))}(n[c],e,t,r).pipe((0,Ci.b)(m=>{u[c]=m}))),wc(1),(0,Rr.z)(()=>Object.keys(u).length===o.length?vt(u):ua.E))}(n._resolve,n,e,r).pipe((0,Vt.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),Qs(n,t).resolve),null)))}(c.route,r,n,e)),(0,Ci.b)(()=>u++),wc(1),(0,Rr.z)(c=>u===o.length?vt(t):ua.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ci.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),(0,Ci.b)(w=>{const T=new yn(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(T)}))}),eo(m=>{const{targetSnapshot:w,id:T,extractedUrl:M,rawUrl:P,extras:{skipLocationChange:G,replaceUrl:K}}=m;return this.hooks.afterPreactivation(w,{navigationId:T,appliedUrlTree:M,rawUrlTree:P,skipLocationChange:!!G,replaceUrl:!!K})}),(0,Vt.U)(m=>{const w=function Of(n,e,t){const r=Ao(n,e._root,t?t._root:void 0);return new ll(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:w})}),(0,Ci.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,Vt.U)(r=>(new oi(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Ci.b)({next(){u=!0},complete(){u=!0}}),function au(n){return(0,mr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;u||c||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===o.id&&(this.currentNavigation=null)}),$r(m=>{if(c=!0,function Af(n){return n&&n[du]}(m)){const w=Xn(m.url);w||(this.navigated=!0,this.restoreHistory(o,!0));const T=new uu(o.id,this.serializeUrl(o.extractedUrl),m.message);r.next(T),w?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),P={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||th(o.source)};this.scheduleNavigation(M,"imperative",null,P,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const w=new Io(o.id,this.serializeUrl(o.extractedUrl),m);r.next(w);try{o.resolve(this.errorHandler(m))}catch(T){o.reject(T)}}return ua.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const u={replaceUrl:!0},c=(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null;if(c){const w=Object.assign({},c);delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(u.state=w)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,c,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Zd(t),this.config=t.map(Pc),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:c,queryParamsHandling:m,preserveFragment:w}=r,T=o||this.routerState.root,M=w?this.currentUrlTree.fragment:c;let P=null;switch(m){case"merge":P=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":P=this.currentUrlTree.queryParams;break;default:P=u||null}return null!==P&&(P=this.removeEmptyProps(P)),function So(n,e,t,r,o){if(0===t.length)return Sc(e.root,e.root,e,r,o);const u=function kf(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new xc(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,c)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return ur(u.outlets,(w,T)=>{m[T]="string"==typeof w?w.split("/"):w}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===c?(u.split("/").forEach((m,w)=>{0==w&&"."===m||(0==w&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new xc(t,e,r)}(t);if(u.toRoot())return Sc(e.root,new Ht([],{}),e,r,o);const c=function C(n,e,t){if(n.isAbsolute)return new E(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new E(u,u===e.root,0)}const r=Gd(n.commands[0])?0:1;return function x(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new E(r,!1,o-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),m=c.processChildren?W(c.segmentGroup,c.index,u.commands):$(c.segmentGroup,c.index,u.commands);return Sc(c.segmentGroup,m,e,r,o)}(T,this.currentUrlTree,t,P,null!=M?M:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Xn(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function x_(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},eh):!1===r?Object.assign({},S_):r,Xn(t))return Tc(this.currentUrlTree,t,o);const u=this.parseUrl(t);return Tc(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Gi(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,c){var m,w,T;if(this.disposed)return Promise.resolve(!1);const M=this.transitions.value,P=th(r)&&M&&!th(M.source),G=M.rawUrl.toString()===t.toString(),K=M.id===(null===(m=this.currentNavigation)||void 0===m?void 0:m.id);if(P&&G&&K)return Promise.resolve(!0);let Ne,Ve,lt;c?(Ne=c.resolve,Ve=c.reject,lt=c.promise):lt=new Promise((At,Zt)=>{Ne=At,Ve=Zt});const Pt=++this.navigationId;let ht;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),ht=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(w=this.browserPageId)&&void 0!==w?w:0:(null!==(T=this.browserPageId)&&void 0!==T?T:0)+1):ht=0,this.setTransition({id:Pt,targetPageId:ht,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:Ne,reject:Ve,promise:lt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),lt.catch(At=>Promise.reject(At))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){var o,u;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===c?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new uu(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function th(n){return"imperative"!==n}class vl{}class Si{preload(e,t){return vt(null)}}let wu=(()=>{class n{constructor(t,r,o,u){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=new Wf(o,r,w=>t.triggerEvent(new ca(w)),w=>t.triggerEvent(new lu(w)))}setUpPreloading(){this.subscription=this.router.events.pipe(Hi(t=>t instanceof Gi),hn(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(f.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const c=u._loadedConfig;o.push(this.processRoutes(c.module,c.routes))}else u.loadChildren&&!u.canLoad?o.push(this.preloadConfig(t,u)):u.children&&o.push(this.processRoutes(t,u.children));return(0,mn.D)(o).pipe((0,el.J)(),(0,Vt.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?vt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Rr.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(zi),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(vl))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),jc=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Gn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Gi&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof tl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new tl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const to=new f.OlP("ROUTER_CONFIGURATION"),$c=new f.OlP("ROUTER_FORROOT_GUARD"),R_=[tt,{provide:pu,useClass:xf},{provide:zi,useFactory:function tm(n,e,t,r,o,u,c={},m,w){const T=new zi(null,n,e,t,r,o,ha(u));return m&&(T.urlHandlingStrategy=m),w&&(T.routeReuseStrategy=w),function Gc(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,T),c.enableTracing&&T.events.subscribe(M=>{var P,G;null===(P=console.group)||void 0===P||P.call(console,`Router Event: ${M.constructor.name}`),console.log(M.toString()),console.log(M),null===(G=console.groupEnd)||void 0===G||G.call(console)}),T},deps:[pu,Rc,tt,f.zs3,f.Sil,ml,to,[class bw{},new f.FiY],[class Kg{},new f.FiY]]},Rc,{provide:si,useFactory:function kr(n){return n.routerState.root},deps:[zi]},wu,Si,class M_{preload(e,t){return t().pipe($r(()=>vt(null)))}},{provide:to,useValue:{enableTracing:!1}}];function Hc(){return new f.PXZ("Router",zi)}let Xg=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[R_,ih(t),{provide:$c,useFactory:em,deps:[[zi,new f.FiY,new f.tp0]]},{provide:to,useValue:r||{}},{provide:le,useFactory:Yf,deps:[he,[new f.tBr(je),new f.FiY],to]},{provide:jc,useFactory:No,deps:[zi,Uu,to]},{provide:vl,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Si},{provide:f.PXZ,multi:!0,useFactory:Hc},[El,{provide:f.ip1,multi:!0,useFactory:qc,deps:[El]},{provide:as,useFactory:nm,deps:[El]},{provide:f.tb,multi:!0,useExisting:as}]]}}static forChild(t){return{ngModule:n,providers:[ih(t)]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG($c,8),f.LFG(zi,8))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();function No(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new jc(n,e,t)}function Yf(n,e,t={}){return t.useHash?new Fe(n,e):new $e(n,e)}function em(n){return"guarded"}function ih(n){return[{provide:f.deG,multi:!0,useValue:n},{provide:ml,multi:!0,useValue:n}]}let El=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ei.x}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),u=this.injector.get(zi),c=this.injector.get(to);return"disabled"===c.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?vt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(to),o=this.injector.get(wu),u=this.injector.get(jc),c=this.injector.get(zi),m=this.injector.get(f.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&c.initialNavigation(),o.setUpPreloading(),u.init(),c.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.zs3))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function qc(n){return n.appInitializer.bind(n)}function nm(n){return n.bootstrapListener.bind(n)}const as=new f.OlP("Router Initializer"),Qf=[];let O_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[Xg.forRoot(Qf)],Xg]}),n})(),Xf=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n}),n})(),Fo=(()=>{class n extends Xf{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,features:[f.qOj]}),n})();const Ns=new f.OlP("NgValueAccessor"),d={provide:Ns,useExisting:(0,f.Gpc)(()=>b),multi:!0},_=new f.OlP("CompositionEventMode");let b=(()=>{class n extends Xf{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function p(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(_,8))},n.\u0275dir=f.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&f.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[f._Bn([d]),f.qOj]}),n})();function A(n){return null==n||0===n.length}function L(n){return null!=n&&"number"==typeof n.length}const H=new f.OlP("NgValidators"),me=new f.OlP("NgAsyncValidators"),de=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Re{static min(e){return function He(n){return e=>{if(A(e.value)||A(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Ot(n){return e=>{if(A(e.value)||A(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return kn(e)}static requiredTrue(e){return function xi(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function us(n){return A(n.value)||de.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function gt(n){return e=>A(e.value)||!L(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function no(n){return e=>L(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return sh(e)}static nullValidator(e){return null}static compose(e){return oh(e)}static composeAsync(e){return im(e)}}function kn(n){return A(n.value)?{required:!0}:null}function sh(n){if(!n)return Aa;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(A(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}function Aa(n){return null}function Il(n){return null!=n}function Wi(n){const e=(0,f.QGY)(n)?(0,mn.D)(n):n;return(0,f.CqO)(e),e}function Zc(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ep(n,e){return e.map(t=>t(n))}function ls(n){return n.map(e=>function tp(n){return!n.validate}(e)?e:t=>e.validate(t))}function oh(n){if(!n)return null;const e=n.filter(Il);return 0==e.length?null:function(t){return Zc(ep(t,e))}}function rm(n){return null!=n?oh(ls(n)):null}function im(n){if(!n)return null;const e=n.filter(Il);return 0==e.length?null:function(t){return function Jf(...n){const e=(0,rs.jO)(n),{args:t,keys:r}=vc(n),o=new Jn.y(u=>{const{length:c}=t;if(!c)return void u.complete();const m=new Array(c);let w=c,T=c;for(let M=0;M<c;M++){let P=!1;(0,Ms.Xf)(t[M]).subscribe(new ar.Q(u,G=>{P||(P=!0,T--),m[M]=G},()=>w--,void 0,()=>{(!w||!P)&&(T||u.next(r?iu(r,m):m),u.complete())}))}});return e?o.pipe(ru(e)):o}(ep(t,e).map(Wi)).pipe((0,Vt.U)(Zc))}}function Aw(n){return null!=n?im(ls(n)):null}function N_(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function tD(n){return n._rawValidators}function np(n){return n._rawAsyncValidators}function ah(n){return n?Array.isArray(n)?n:[n]:[]}function uh(n,e){return Array.isArray(n)?n.includes(e):n===e}function sm(n,e){const t=ah(e);return ah(n).forEach(o=>{uh(t,o)||t.push(o)}),t}function om(n,e){return ah(e).filter(t=>!uh(n,t))}class nD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=rm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Aw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Cl extends nD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ki extends nD{get formDirective(){return null}get path(){return null}}class Sw{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}let iD=(()=>{class n extends Sw{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Cl,2))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[f.qOj]}),n})(),xw=(()=>{class n extends Sw{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ki,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[f.qOj]}),n})();function ip(n,e){op(n,e),e.valueAccessor.writeValue(n.value),function bl(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Nw(n,e)})}(n,e),function L_(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Ow(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Nw(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Pw(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function sp(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),am(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ch(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function op(n,e){const t=tD(n);null!==e.validator?n.setValidators(N_(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=np(n);null!==e.asyncValidator?n.setAsyncValidators(N_(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();ch(e._rawValidators,o),ch(e._rawAsyncValidators,o)}function am(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=tD(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(c=>c!==e.validator);u.length!==o.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const o=np(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(c=>c!==e.asyncValidator);u.length!==o.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return ch(e._rawValidators,r),ch(e._rawAsyncValidators,r),t}function Nw(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Al(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const hh="VALID",up="INVALID",Sl="PENDING",Wc="DISABLED";function fh(n){return(cm(n)?n.validators:n)||null}function Vw(n){return Array.isArray(n)?rm(n):n||null}function lm(n,e){return(cm(e)?e.asyncValidators:n)||null}function aD(n){return Array.isArray(n)?Aw(n):n||null}function cm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const dm=n=>n instanceof j_,hm=n=>n instanceof $_,U_=n=>n instanceof uD;function Uw(n){return dm(n)?n.value:n.getRawValue()}function Bw(n,e){const t=hm(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new f.vHH(1e3,"");if(!r[e])throw new f.vHH(1001,"")}function cs(n,e){hm(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new f.vHH(1002,"")})}class B_{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Vw(this._rawValidators),this._composedAsyncValidatorFn=aD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===hh}get invalid(){return this.status===up}get pending(){return this.status==Sl}get disabled(){return this.status===Wc}get enabled(){return this.status!==Wc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Vw(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=aD(e)}addValidators(e){this.setValidators(sm(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(sm(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(om(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(om(e,this._rawAsyncValidators))}hasValidator(e){return uh(this._rawValidators,e)}hasAsyncValidator(e){return uh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Sl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Wc,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=hh,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hh||this.status===Sl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wc:hh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Sl,this._hasOwnPendingAsyncValidator=!0;const t=Wi(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Lw(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=hm(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:U_(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?Wc:this.errors?up:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sl)?Sl:this._anyControlsHaveStatus(up)?up:hh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){cm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class j_ extends B_{constructor(e=null,t,r){super(fh(t),lm(r,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Al(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Al(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class $_ extends B_{constructor(e,t,r){super(fh(t),lm(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){cs(this,e),Object.keys(e).forEach(r=>{Bw(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Uw(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class uD extends B_{constructor(e,t,r){super(fh(t),lm(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){cs(this,e),e.forEach((r,o)=>{Bw(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Uw(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let G_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Yw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const q_=new f.OlP("NgModelWithFormControlWarning"),fD={provide:Ki,useExisting:(0,f.Gpc)(()=>mm)};let mm=(()=>{class n extends Ki{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(am(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return ip(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){sp(t.control||null,t,!1),Al(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function um(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(sp(r||null,t),dm(o)&&(ip(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function kw(n,e){op(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Fw(n,e){return am(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){op(this.form,this),this._oldForm&&am(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(H,10),f.Y36(me,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&f.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([fD]),f.qOj,f.TTD]}),n})();const Xw={provide:Cl,useExisting:(0,f.Gpc)(()=>Z_)};let Z_=(()=>{class n extends Cl{constructor(t,r,o,u,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function Tl(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===b?t=u:function dh(n){return Object.getPrototypeOf(n.constructor)===Fo}(u)?r=u:o=u}),o||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function zc(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function lh(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(f.Y36(Ki,13),f.Y36(H,10),f.Y36(me,10),f.Y36(Ns,10),f.Y36(q_,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([Xw]),f.qOj,f.TTD]}),n})();const yD={provide:H,useExisting:(0,f.Gpc)(()=>dp),multi:!0};let dp=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?kn(t):null}registerOnValidatorChange(t){this._onChange=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&f.uIk("required",r.required?"":null)},inputs:{required:"required"},features:[f._Bn([yD])]}),n})();const gh={provide:H,useExisting:(0,f.Gpc)(()=>Im),multi:!0};let Im=(()=>{class n{constructor(){this._validator=Aa}ngOnChanges(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=sh(this.pattern)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&f.uIk("pattern",r.pattern?r.pattern:null)},inputs:{pattern:"pattern"},features:[f._Bn([gh]),f.TTD]}),n})(),vD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[Yw]]}),n})(),uE=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:q_,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[vD]}),n})(),ro=(()=>{class n{group(t,r=null){const o=this._reduceControls(t);let m,u=null,c=null;return null!=r&&(function wD(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(u=null!=r.validators?r.validators:null,c=null!=r.asyncValidators?r.asyncValidators:null,m=null!=r.updateOn?r.updateOn:void 0):(u=null!=r.validator?r.validator:null,c=null!=r.asyncValidator?r.asyncValidator:null)),new $_(o,{asyncValidators:c,updateOn:m,validators:u})}control(t,r,o){return new j_(t,r,o)}array(t,r,o){const u=t.map(c=>this._createControl(c));return new uD(u,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return dm(t)||hm(t)||U_(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:uE}),n})();var cE=N(4986),ai=N(4976);function Cm(){return(0,mr.e)((n,e)=>{let t,r=!1;n.subscribe(new ar.Q(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}function ED(n,e){return n===e}var Je,Vo=N(2011),ID=(N(1825),N(3942)),ye=N(5861),mh=N(6881),fp=N(4859),xl=N(1877),an=N(2090),tS="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},xa={},nv=nv||{},Nt=tS||self;function pp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Dm(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var hE="closure_uid_"+(1e9*Math.random()>>>0),nS=0;function fE(n,e,t){return n.call.apply(n.bind,arguments)}function pE(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function ui(n,e,t){return(ui=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fE:pE).apply(null,arguments)}function bm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function li(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,o,u){for(var c=Array(arguments.length-2),m=2;m<arguments.length;m++)c[m-2]=arguments[m];return e.prototype[o].apply(r,c)}}function Eu(){this.s=this.s,this.o=this.o}Eu.prototype.s=!1,Eu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Uo(n){Object.prototype.hasOwnProperty.call(n,hE)&&n[hE]||(n[hE]=++nS)}(this)},Eu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function gp(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function mE(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(pp(r)){const o=n.length||0,u=r.length||0;n.length=o+u;for(let c=0;c<u;c++)n[o+c]=r[c]}else n.push(r)}}function Mi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Mi.prototype.h=function(){this.defaultPrevented=!0};var CD=function(){if(!Nt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Nt.addEventListener("test",()=>{},e),Nt.removeEventListener("test",()=>{},e)}catch(t){}return n}();function mp(n){return/^[\s\xa0]*$/.test(n)}function Tm(){var n=Nt.navigator;return n&&(n=n.userAgent)?n:""}function Ma(n){return-1!=Tm().indexOf(n)}function yh(n){return yh[" "](n),n}yh[" "]=function(){};var qr,n,DD=Ma("Opera"),Ra=Ma("Trident")||Ma("MSIE"),yE=Ma("Edge"),iv=yE||Ra,Am=Ma("Gecko")&&!(-1!=Tm().toLowerCase().indexOf("webkit")&&!Ma("Edge"))&&!(Ma("Trident")||Ma("MSIE"))&&!Ma("Edge"),Pa=-1!=Tm().toLowerCase().indexOf("webkit")&&!Ma("Edge");function vh(){var n=Nt.document;return n?n.documentMode:void 0}e:{var Iu="",wh=(n=Tm(),Am?/rv:([^\);]+)(\)|;)/.exec(n):yE?/Edge\/([\d\.]+)/.exec(n):Ra?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Pa?/WebKit\/(\S+)/.exec(n):DD?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(wh&&(Iu=wh?wh[1]:""),Ra){var ds=vh();if(null!=ds&&ds>parseFloat(Iu)){qr=String(ds);break e}}qr=Iu}var Eh=Nt.document&&Ra&&(vh()||parseInt(qr,10))||void 0;function Oa(n,e){if(Mi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Am){e:{try{yh(e.nodeName);var o=!0;break e}catch(u){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Ih[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Oa.$.h.call(this)}}li(Oa,Mi);var Ih={2:"touch",3:"pen",4:"mouse"};Oa.prototype.h=function(){Oa.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Na="closure_listenable_"+(1e6*Math.random()|0),Ch=0;function Dh(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=o,this.key=++Ch,this.fa=this.ia=!1}function Cu(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Ml(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function sv(n){const e={};for(const t in n)e[t]=n[t];return e}const ov="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function av(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<ov.length;u++)t=ov[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function _p(n){this.src=n,this.g={},this.h=0}function Sm(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=gE(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(Cu(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function xm(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return o}return-1}_p.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var c=xm(n,e,r,o);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new Dh(e,this.src,u,!!r,o)).ia=t,n.push(e)),e};var Mm="closure_lm_"+(1e6*Math.random()|0),Rm={};function vE(n,e,t,r,o){if(r&&r.once)return lv(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)vE(n,e[u],t,r,o);return null}return t=fv(t),n&&n[Na]?n.O(e,t,Dm(r)?!!r.capture:!!r,o):uv(n,e,t,!1,r,o)}function uv(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var c=Dm(o)?!!o.capture:!!o,m=hv(n);if(m||(n[Mm]=m=new _p(n)),(t=m.add(e,t,r,c,u)).proxy)return t;if(r=function bD(){const e=EE;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)CD||(o=c),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(wE(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function lv(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)lv(n,e[u],t,r,o);return null}return t=fv(t),n&&n[Na]?n.P(e,t,Dm(r)?!!r.capture:!!r,o):uv(n,e,t,!0,r,o)}function cv(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)cv(n,e[u],t,r,o);else r=Dm(r)?!!r.capture:!!r,t=fv(t),n&&n[Na]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=xm(u=n.g[e],t,r,o))&&(Cu(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=hv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=xm(e,t,r,o)),(t=-1<n?e[n]:null)&&dv(t))}function dv(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Na])Sm(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(wE(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=hv(e))?(Sm(t,n),0==t.h&&(t.src=null,e[Mm]=null)):Cu(n)}}}function wE(n){return n in Rm?Rm[n]:Rm[n]="on"+n}function EE(n,e){if(n.fa)n=!0;else{e=new Oa(e,this);var t=n.listener,r=n.la||n.src;n.ia&&dv(n),n=t.call(r,e)}return n}function hv(n){return(n=n[Mm])instanceof _p?n:null}var Pm="__closure_events_fn_"+(1e9*Math.random()>>>0);function fv(n){return"function"==typeof n?n:(n[Pm]||(n[Pm]=function(e){return n.handleEvent(e)}),n[Pm])}function Zr(){Eu.call(this),this.i=new _p(this),this.S=this,this.J=null}function Ri(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Mi(e,n);else if(e instanceof Mi)e.target=e.target||n;else{var o=e;av(e=new Mi(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var c=e.g=t[u];o=Om(c,r,!0,e)&&o}if(o=Om(c=e.g=n,r,!0,e)&&o,o=Om(c,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=Om(c=e.g=t[u],r,!1,e)&&o}function Om(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.fa&&c.capture==t){var m=c.listener,w=c.la||c.src;c.ia&&Sm(n.i,c),o=!1!==m.call(w,r)&&o}}return o&&!r.defaultPrevented}li(Zr,Eu),Zr.prototype[Na]=!0,Zr.prototype.removeEventListener=function(n,e,t,r){cv(this,n,e,t,r)},Zr.prototype.N=function(){if(Zr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Cu(t[r]);delete n.g[e],n.h--}}this.J=null},Zr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Zr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var vp=Nt.JSON.stringify;function TD(){var n=Rl;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var AD=new class pv{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new iS,n=>n.reset());class iS{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function SD(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function IE(n){Nt.setTimeout(()=>{throw n},0)}let Nm,wp=!1,Rl=new class rS{constructor(){this.h=this.g=null}add(e,t){const r=AD.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},CE=()=>{const n=Nt.Promise.resolve(void 0);Nm=()=>{n.then(DE)}};var DE=()=>{for(var n;n=TD();){try{n.h.call(n.g)}catch(t){IE(t)}var e=AD;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}wp=!1};function km(n,e){Zr.call(this),this.h=n||1,this.g=e||Nt,this.j=ui(this.qb,this),this.l=Date.now()}function Fm(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function bh(n,e,t){if("function"==typeof n)t&&(n=ui(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ui(n.handleEvent,n)}return 2147483647<Number(e)?-1:Nt.setTimeout(n,e||0)}function bE(n){n.g=bh(()=>{n.g=null,n.i&&(n.i=!1,bE(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}li(km,Zr),(Je=km.prototype).ga=!1,Je.T=null,Je.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ri(this,"tick"),this.ga&&(Fm(this),this.start()))}},Je.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Je.N=function(){km.$.N.call(this),Fm(this),delete this.g};class TE extends Eu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:bE(this)}N(){super.N(),this.g&&(Nt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ep(n){Eu.call(this),this.h=n,this.g={}}li(Ep,Eu);var AE=[];function SE(n,e,t,r){Array.isArray(t)||(t&&(AE[0]=t.toString()),t=AE);for(var o=0;o<t.length;o++){var u=vE(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function xE(n){Ml(n.g,function(e,t){this.g.hasOwnProperty(t)&&dv(e)},n),n.g={}}function Lm(){this.g=!0}function Yc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function gv(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var c=1;c<o.length;c++)o[c]=""}}}return vp(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}Ep.prototype.N=function(){Ep.$.N.call(this),xE(this)},Ep.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Lm.prototype.Ea=function(){this.g=!1},Lm.prototype.info=function(){};var Th={},Vm=null;function Um(){return Vm=Vm||new Zr}function MD(n){Mi.call(this,Th.Ta,n)}function Du(n){const e=Um();Ri(e,new MD(e))}function mv(n,e){Mi.call(this,Th.STAT_EVENT,n),this.stat=e}function ci(n){const e=Um();Ri(e,new mv(e,n))}function Bm(n,e){Mi.call(this,Th.Ua,n),this.size=e}function Ip(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Nt.setTimeout(function(){n()},e)}Th.Ta="serverreachability",li(MD,Mi),Th.STAT_EVENT="statevent",li(mv,Mi),Th.Ua="timingevent",li(Bm,Mi);var Ah={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},jm={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $m(){}function PE(){}$m.prototype.h=null;var _v,Qc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Cp(){Mi.call(this,"d")}function yv(){Mi.call(this,"c")}function Sh(){}function xh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Ep(this),this.P=wv,this.V=new km(n=iv?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new vv}function vv(){this.i=null,this.g="",this.h=!1}li(Cp,Mi),li(yv,Mi),li(Sh,$m),Sh.prototype.g=function(){return new XMLHttpRequest},Sh.prototype.i=function(){return{}},_v=new Sh;var wv=45e3,Hm={},Gm={};function qm(n,e,t){n.L=1,n.v=cr(Nl(e)),n.s=t,n.S=!0,Ev(n,null)}function Ev(n,e){n.G=Date.now(),Dp(n),n.A=Nl(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),Av(t.i,"t",r),n.C=0,t=n.l.J,n.h=new vv,n.g=qv(n.l,t?e:null,!n.s),0<n.O&&(n.M=new TE(ui(n.Pa,n,n.g),n.O)),SE(n.U,n.g,"readystatechange",n.nb),e=n.I?sv(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Du(),function ME(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var c="",m=u.split("&"),w=0;w<m.length;w++){var T=m[w].split("=");if(1<T.length){var M=T[0];T=T[1];var P=M.split("_");c=2<=P.length&&"type"==P[1]?c+(M+"=")+T+"&":c+(M+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Zm(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function OE(n,e,t){let o,r=!0;for(;!n.J&&n.C<t.length;){if(o=PD(n,t),o==Gm){4==e&&(n.o=4,ci(14),r=!1),Yc(n.j,n.m,null,"[Incomplete Response]");break}if(o==Hm){n.o=4,ci(15),Yc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Yc(n.j,n.m,o,null),zm(n,o)}Zm(n)&&o!=Gm&&o!=Hm&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ci(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),jv(e),e.M=!0,ci(11))):(Yc(n.j,n.m,t,"[Invalid Chunked Response]"),Pl(n),Jc(n))}function PD(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Gm:(t=Number(e.substring(t,r)),isNaN(t)?Hm:(r+=1)+t>e.length?Gm:(e=e.slice(r,r+t),n.C=r+t,e))}function Dp(n){n.Y=Date.now()+n.P,NE(n,n.P)}function NE(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ip(ui(n.lb,n),e)}function bp(n){n.B&&(Nt.clearTimeout(n.B),n.B=null)}function Jc(n){0==n.l.H||n.J||eI(n.l,n)}function Pl(n){bp(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Fm(n.V),xE(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function zm(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||ks(t.i,n)))if(!n.K&&ks(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch(T){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.Fa=o[1],0<t.Fa-t.V&&37500>o[2]&&t.G&&0==t.A&&!t.v&&(t.v=Ip(ui(t.ib,t),6e3));else{if(t.g){if(!(t.g.G+3e3<n.G))break e;ty(t),Xm(t)}Bv(t),ci(18)}if(1>=jo(t.i)&&t.oa){try{t.oa()}catch(T){}t.oa=void 0}}else Fl(t,11)}else if((n.K||t.g==n)&&ty(t),!mp(e))for(o=t.Ja.g.parse(e),e=0;e<o.length;e++){let T=o[e];if(t.V=T[0],T=T[1],2==t.H)if("c"==T[0]){t.K=T[1],t.pa=T[2];const M=T[3];null!=M&&(t.ra=M,t.l.info("VER="+t.ra));const P=T[4];null!=P&&(t.Ga=P,t.l.info("SVER="+t.Ga));const G=T[5];null!=G&&"number"==typeof G&&0<G&&(t.L=r=1.5*G,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const K=n.g;if(K){const Ce=K.g?K.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ce){var u=r.i;u.g||-1==Ce.indexOf("spdy")&&-1==Ce.indexOf("quic")&&-1==Ce.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Fs(u,u.h),u.h=null))}if(r.F){const Ne=K.g?K.g.getResponseHeader("X-HTTP-Session-Id"):null;Ne&&(r.Da=Ne,Fn(r.I,r.F,Ne))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=Gv(r,r.J?r.pa:null,r.Y),c.K){xv(r.i,c);var m=c,w=r.L;w&&m.setTimeout(w),m.B&&(bp(m),Dp(m)),r.g=c}else JE(r);0<t.j.length&&ey(t)}else"stop"!=T[0]&&"close"!=T[0]||Fl(t,7);else 3==t.H&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?Fl(t,7):Uv(t):"noop"!=T[0]&&t.h&&t.h.Aa(T),t.A=0)}Du()}catch(T){}}function Iv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(pp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function FE(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if("undefined"!=typeof Map&&n instanceof Map)return Array.from(n.keys());if(!("undefined"!=typeof Set&&n instanceof Set)){if(pp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function kE(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if("undefined"!=typeof Map&&n instanceof Map||"undefined"!=typeof Set&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(pp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}(Je=xh.prototype).setTimeout=function(n){this.P=n},Je.nb=function(n){n=n.target;const e=this.M;e&&3==$o(n)?e.l():this.Pa(n)},Je.Pa=function(n){try{if(n==this.g)e:{const M=$o(this.g);var e=this.g.Ia();if(this.g.da(),!(3>M)&&(3!=M||iv||this.g&&(this.h.h||this.g.ja()||Lv(this.g)))){this.J||4!=M||7==e||Du(),bp(this);var t=this.g.da();this.ca=t;t:if(Zm(this)){var r=Lv(this.g);n="";var o=r.length,u=4==$o(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Pl(this),Jc(this);var c="";break t}this.h.i=new Nt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function xD(n,e,t,r,o,u,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+c})}(this.j,this.u,this.A,this.m,this.W,M,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,w=this.g;if((m=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mp(m)){var T=m;break t}}T=null}if(!(t=T)){this.i=!1,this.o=3,ci(12),Pl(this),Jc(this);break e}Yc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zm(this,t)}this.S?(OE(this,M,c),iv&&this.i&&3==M&&(SE(this.U,this.V,"tick",this.mb),this.V.start())):(Yc(this.j,this.m,c,null),zm(this,c)),4==M&&Pl(this),this.i&&!this.J&&(4==M?eI(this.l,this):(this.i=!1,Dp(this)))}else(function ZE(n){const e={};n=(n.g&&2<=$o(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(mp(n[r]))continue;var t=SD(n[r]);const o=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[o]||[];e[o]=u,u.push(t)}!function _E(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,ci(12)):(this.o=0,ci(13)),Pl(this),Jc(this)}}}catch(M){}},Je.mb=function(){if(this.g){var n=$o(this.g),e=this.g.ja();this.C<e.length&&(bp(this),OE(this,n,e),this.i&&4!=n&&Dp(this))}},Je.cancel=function(){this.J=!0,Pl(this)},Je.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function RE(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Du(),ci(17)),Pl(this),this.o=2,Jc(this)):NE(this,this.Y-n)};var Cv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ol(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ol){this.h=n.h,Wm(this,n.j),this.s=n.s,this.g=n.g,Km(this,n.m),this.l=n.l;var e=n.i,t=new Ap;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Dv(this,t),this.o=n.o}else n&&(e=String(n).match(Cv))?(this.h=!1,Wm(this,e[1]||"",!0),this.s=Mh(e[2]||""),this.g=Mh(e[3]||"",!0),Km(this,e[4]),this.l=Mh(e[5]||"",!0),Dv(this,e[6]||"",!0),this.o=Mh(e[7]||"")):(this.h=!1,this.i=new Ap(null,this.h))}function Nl(n){return new Ol(n)}function Wm(n,e,t){n.j=t?Mh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Km(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Dv(n,e,t){e instanceof Ap?(n.i=e,function jE(n,e){e&&!n.j&&(kl(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(Tv(this,r),Av(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Tp(e,UE)),n.i=new Ap(e,n.h))}function Fn(n,e,t){n.i.set(e,t)}function cr(n){return Fn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Mh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Tp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,OD),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function OD(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ol.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Tp(e,bv,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Tp(e,bv,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Tp(t,"/"==t.charAt(0)?VE:ND,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Tp(t,Rh)),n.join("")};var bv=/[#\/\?@]/g,ND=/[#\?:]/g,VE=/[#\?]/g,UE=/[#\?@]/g,Rh=/#/g;function Ap(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function kl(n){n.g||(n.g=new Map,n.h=0,n.i&&function LE(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Tv(n,e){kl(n),e=Sp(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function BE(n,e){return kl(n),e=Sp(n,e),n.g.has(e)}function Av(n,e,t){Tv(n,e),0<t.length&&(n.i=null,n.g.set(Sp(n,e),gp(t)),n.h+=t.length)}function Sp(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Bo(n){this.l=n||kD,n=Nt.PerformanceNavigationTiming?0<(n=Nt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Nt.g&&Nt.g.Ka&&Nt.g.Ka()&&Nt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Je=Ap.prototype).add=function(n,e){kl(this),this.i=null,n=Sp(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Je.forEach=function(n,e){kl(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},Je.ta=function(){kl(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let u=0;u<o.length;u++)t.push(e[r])}return t},Je.Z=function(n){kl(this);let e=[];if("string"==typeof n)BE(this,n)&&(e=e.concat(this.g.get(Sp(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Je.set=function(n,e){return kl(this),this.i=null,BE(this,n=Sp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Je.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Je.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var o=u;""!==c[r]&&(o+="="+encodeURIComponent(String(c[r]))),n.push(o)}}return this.i=n.join("&")};var kD=10;function $E(n){return!!n.h||!!n.g&&n.g.size>=n.j}function jo(n){return n.h?1:n.g?n.g.size:0}function ks(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Fs(n,e){n.g?n.g.add(e):n.h=e}function xv(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Mv(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return gp(n.i)}function LD(){this.g=new class{stringify(n){return Nt.JSON.stringify(n,void 0)}parse(n){return Nt.JSON.parse(n,void 0)}}}function VD(n,e,t){const r=t||"";try{Iv(n,function(o,u){let c=o;Dm(o)&&(c=vp(o)),e.push(r+u+"="+encodeURIComponent(c))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Ph(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(u){}}function bu(n){this.l=n.fc||null,this.j=n.ob||!1}function Ym(n,e){Zr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Qm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Bo.prototype.cancel=function(){if(this.i=Mv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},li(bu,$m),bu.prototype.g=function(){return new Ym(this.l,this.j)},bu.prototype.i=function(n){return function(){return n}}({}),li(Ym,Zr);var Qm=0;function HE(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Oh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Nh(n)}function Nh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Je=Ym.prototype).open=function(n,e){if(this.readyState!=Qm)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Nh(this)},Je.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Nt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Je.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Oh(this)),this.readyState=Qm},Je.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Nh(this)),this.g&&(this.readyState=3,Nh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==Nt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;HE(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Je.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Oh(this):Nh(this),3==this.readyState&&HE(this)}},Je.Za=function(n){this.g&&(this.response=this.responseText=n,Oh(this))},Je.Ya=function(n){this.g&&(this.response=n,Oh(this))},Je.ka=function(){this.g&&Oh(this)},Je.setRequestHeader=function(n,e){this.v.append(n,e)},Je.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Je.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ym.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Jm=Nt.JSON.parse;function dr(n){Zr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Rv,this.L=this.M=!1}li(dr,Zr);var Rv="",GE=/^https?$/i,qE=["POST","PUT"];function Ov(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Nv(n),xp(n)}function Nv(n){n.F||(n.F=!0,Ri(n,"complete"),Ri(n,"error"))}function kv(n){if(n.h&&void 0!==nv&&(!n.C[1]||4!=$o(n)||2!=n.da()))if(n.v&&4==$o(n))bh(n.La,0,n);else if(Ri(n,"readystatechange"),4==$o(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===c){var o=String(n.I).match(Cv)[1]||null;!o&&Nt.self&&Nt.self.location&&(o=Nt.self.location.protocol.slice(0,-1)),r=!GE.test(o?o.toLowerCase():"")}t=r}if(t)Ri(n,"complete"),Ri(n,"success");else{n.m=6;try{var u=2<$o(n)?n.g.statusText:""}catch(m){u=""}n.j=u+" ["+n.da()+"]",Nv(n)}}finally{xp(n)}}}function xp(n,e){if(n.g){Fv(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Ri(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function Fv(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Nt.clearTimeout(n.A),n.A=null)}function $o(n){return n.g?n.g.readyState:0}function Lv(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Rv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function zE(n){let e="";return Ml(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Vv(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=zE(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Fn(n,e,t))}function Mp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function WE(n){this.Ga=0,this.j=[],this.l=new Lm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Mp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Mp("baseRetryDelayMs",5e3,n),this.hb=Mp("retryDelaySeedMs",1e4,n),this.eb=Mp("forwardChannelMaxRetries",2,n),this.xa=Mp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Bo(n&&n.concurrentRequestLimit),this.Ja=new LD,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Uv(n){if(KE(n),3==n.H){var e=n.W++,t=Nl(n.I);if(Fn(t,"SID",n.K),Fn(t,"RID",e),Fn(t,"TYPE","terminate"),Rp(n,t),(e=new xh(n,n.l,e)).L=2,e.v=cr(Nl(t)),t=!1,Nt.navigator&&Nt.navigator.sendBeacon)try{t=Nt.navigator.sendBeacon(e.v.toString(),"")}catch(r){}!t&&Nt.Image&&((new Image).src=e.v,t=!0),t||(e.g=qv(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Dp(e)}Hv(n)}function Xm(n){n.g&&(jv(n),n.g.cancel(),n.g=null)}function KE(n){Xm(n),n.u&&(Nt.clearTimeout(n.u),n.u=null),ty(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Nt.clearTimeout(n.m),n.m=null)}function ey(n){if(!$E(n.i)&&!n.m){n.m=!0;var e=n.Na;Nm||CE(),wp||(Nm(),wp=!0),Rl.add(e,n),n.C=0}}function YE(n,e){var t;t=e?e.m:n.W++;const r=Nl(n.I);Fn(r,"SID",n.K),Fn(r,"RID",t),Fn(r,"AID",n.V),Rp(n,r),n.o&&n.s&&Vv(r,n.o,n.s),t=new xh(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=QE(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Fs(n.i,t),qm(t,r,e)}function Rp(n,e){n.na&&Ml(n.na,function(t,r){Fn(e,r,t)}),n.h&&Iv({},function(t,r){Fn(e,r,t)})}function QE(n,e,t){t=Math.min(n.j.length,t);var r=n.h?ui(n.h.Va,n.h,n):null;e:{var o=n.j;let u=-1;for(;;){const c=["count="+t];-1==u?0<t?(u=o[0].g,c.push("ofs="+u)):u=0:c.push("ofs="+u);let m=!0;for(let w=0;w<t;w++){let T=o[w].g;const M=o[w].map;if(T-=u,0>T)u=Math.max(0,o[w].g-100),m=!1;else try{VD(M,c,"req"+T+"_")}catch(P){r&&r(M)}}if(m){r=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function JE(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Nm||CE(),wp||(Nm(),wp=!0),Rl.add(e,n),n.A=0}}function Bv(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Ip(ui(n.Ma,n),$v(n,n.A)),n.A++,0))}function jv(n){null!=n.B&&(Nt.clearTimeout(n.B),n.B=null)}function XE(n){n.g=new xh(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Nl(n.wa);Fn(e,"RID","rpc"),Fn(e,"SID",n.K),Fn(e,"AID",n.V),Fn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Fn(e,"TO",n.qa),Fn(e,"TYPE","xmlhttp"),Rp(n,e),n.o&&n.s&&Vv(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=cr(Nl(e)),t.s=null,t.S=!0,Ev(t,n)}function ty(n){null!=n.v&&(Nt.clearTimeout(n.v),n.v=null)}function eI(n,e){var t=null;if(n.g==e){ty(n),jv(n),n.g=null;var r=2}else{if(!ks(n.i,e))return;t=e.F,xv(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var o=n.C;Ri(r=Um(),new Bm(r,t)),ey(n)}else JE(n);else if(3==(o=e.o)||0==o&&0<e.ca||!(1==r&&function BD(n,e){return!(jo(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Ip(ui(n.Na,n,e),$v(n,n.C)),n.C++,0)))}(n,e)||2==r&&Bv(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Fl(n,5);break;case 4:Fl(n,10);break;case 3:Fl(n,6);break;default:Fl(n,2)}}function $v(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Fl(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=ui(n.pb,n);t||(t=new Ol("//www.google.com/images/cleardot.gif"),Nt.location&&"http"==Nt.location.protocol||Wm(t,"https"),cr(t)),function UD(n,e){const t=new Lm;if(Nt.Image){const r=new Image;r.onload=bm(Ph,t,r,"TestLoadImage: loaded",!0,e),r.onerror=bm(Ph,t,r,"TestLoadImage: error",!1,e),r.onabort=bm(Ph,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=bm(Ph,t,r,"TestLoadImage: timeout",!1,e),Nt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ci(2);n.H=0,n.h&&n.h.za(e),Hv(n),KE(n)}function Hv(n){if(n.H=0,n.ma=[],n.h){const e=Mv(n.i);(0!=e.length||0!=n.j.length)&&(mE(n.ma,e),mE(n.ma,n.j),n.i.i.length=0,gp(n.j),n.j.length=0),n.h.ya()}}function Gv(n,e,t){var r=t instanceof Ol?Nl(t):new Ol(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Km(r,r.m);else{var o=Nt.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var u=new Ol(null);r&&Wm(u,r),e&&(u.g=e),o&&Km(u,o),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&Fn(r,t,e),Fn(r,"VER",n.ra),Rp(n,r),r}function qv(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new dr(t&&n.Ha&&!n.va?new bu({ob:!0}):n.va)).Oa(n.J),e}function Zv(){}function Pp(){if(Ra&&!(10<=Number(Eh)))throw Error("Environmental error: no available transport.")}function hs(n,e){Zr.call(this),this.g=new WE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!mp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!mp(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Xc(this)}function zv(n){Cp.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Wv(){yv.call(this),this.status=1}function Xc(n){this.g=n}function Ho(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Kv(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var o=0;16>o;++o)r[o]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(o=0;16>o;++o)r[o]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],c=(e=n.g[0])+(u^(t=n.g[1])&((o=n.g[2])^u))+r[0]+3614090360&4294967295;c=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=t+(c<<7&4294967295|c>>>25))+((c=u+(o^e&(t^o))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=o+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^o&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(u^t&(o^u))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=u+(o^e&(t^o))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=o+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^o&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(u^t&(o^u))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=u+(o^e&(t^o))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=o+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^o&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(u^t&(o^u))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=u+(o^e&(t^o))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=o+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^o&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(o^u&(t^o))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^o&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=o+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(o^u))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(o^u&(t^o))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^o&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=o+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(o^u))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(o^u&(t^o))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^o&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=o+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(o^u))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(o^u&(t^o))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^o&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=o+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(o^u))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^o^u)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^o)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=o+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(o^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^o^u)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^o)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=o+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(o^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^o^u)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^o)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=o+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(o^u^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^o^u)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^o)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=o+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(o^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(o^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~o))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=o+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(u^(o|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(o^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~o))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=o+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(u^(o|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(o^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~o))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=o+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(u^(o|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((u=(e=t+((c=e+(o^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~o))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((o=u+((c=o+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(o+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+o&4294967295,n.g[3]=n.g[3]+u&4294967295}function Qt(n,e){this.h=e;for(var t=[],r=!0,o=n.length-1;0<=o;o--){var u=0|n[o];r&&u==e||(t[o]=u,r=!1)}this.g=t}(Je=dr.prototype).Oa=function(n){this.M=n},Je.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_v.g(),this.C=function RD(n){return n.h||(n.h=n.i())}(this.u?this.u:_v),this.g.onreadystatechange=ui(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void Ov(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),o=Nt.FormData&&n instanceof Nt.FormData,!(0<=gE(qE,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,c]of t)this.g.setRequestHeader(u,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Fv(this),0<this.B&&((this.L=function Pv(n){return Ra&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ui(this.ua,this)):this.A=bh(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){Ov(this,u)}},Je.ua=function(){void 0!==nv&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ri(this,"timeout"),this.abort(8))},Je.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ri(this,"complete"),Ri(this,"abort"),xp(this))},Je.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xp(this,!0)),dr.$.N.call(this)},Je.La=function(){this.s||(this.G||this.v||this.l?kv(this):this.kb())},Je.kb=function(){kv(this)},Je.isActive=function(){return!!this.g},Je.da=function(){try{return 2<$o(this)?this.g.status:-1}catch(n){return-1}},Je.ja=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Je.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Jm(e)}},Je.Ia=function(){return this.m},Je.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Je=WE.prototype).ra=8,Je.H=1,Je.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const o=new xh(this,this.l,n);let u=this.s;if(this.U&&(u?(u=sv(u),av(u,this.U)):u=this.U),null!==this.o||this.O||(o.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=QE(this,o,e),Fn(t=Nl(this.I),"RID",n),Fn(t,"CVER",22),this.F&&Fn(t,"X-HTTP-Session-Id",this.F),Rp(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(zE(u)))+"&"+e:this.o&&Vv(t,this.o,u)),Fs(this.i,o),this.bb&&Fn(t,"TYPE","init"),this.P?(Fn(t,"$req",e),Fn(t,"SID","null"),o.aa=!0,qm(o,t,null)):qm(o,t,e),this.H=2}}else 3==this.H&&(n?YE(this,n):0==this.j.length||$E(this.i)||YE(this))},Je.Ma=function(){if(this.u=null,XE(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Ip(ui(this.jb,this),n)}},Je.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ci(10),Xm(this),XE(this))},Je.ib=function(){null!=this.v&&(this.v=null,Xm(this),Bv(this),ci(19))},Je.pb=function(n){n?(this.l.info("Successfully pinged google.com"),ci(2)):(this.l.info("Failed to ping google.com"),ci(1))},Je.isActive=function(){return!!this.h&&this.h.isActive(this)},(Je=Zv.prototype).Ba=function(){},Je.Aa=function(){},Je.za=function(){},Je.ya=function(){},Je.isActive=function(){return!0},Je.Va=function(){},Pp.prototype.g=function(n,e){return new hs(n,e)},li(hs,Zr),hs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;ci(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Gv(n,null,n.Y),ey(n)},hs.prototype.close=function(){Uv(this.g)},hs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=vp(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&ey(e)},hs.prototype.N=function(){this.g.h=null,delete this.j,Uv(this.g),delete this.g,hs.$.N.call(this)},li(zv,Cp),li(Wv,yv),li(Xc,Zv),Xc.prototype.Ba=function(){Ri(this.g,"a")},Xc.prototype.Aa=function(n){Ri(this.g,new zv(n))},Xc.prototype.za=function(n){Ri(this.g,new Wv)},Xc.prototype.ya=function(){Ri(this.g,"b")},li(Ho,function ed(){this.blockSize=-1}),Ho.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ho.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,o=this.h,u=0;u<e;){if(0==o)for(;u<=t;)Kv(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[o++]=n.charCodeAt(u++),o==this.blockSize){Kv(this,r),o=0;break}}else for(;u<e;)if(r[o++]=n[u++],o==this.blockSize){Kv(this,r),o=0;break}}this.h=o,this.i+=e},Ho.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var sS={};function Op(n){return-128<=n&&128>n?function _h(n,e){var t=sS;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Qt([0|e],0>e?-1:0)}):new Qt([0|n],0>n?-1:0)}function Tu(n){if(isNaN(n)||!isFinite(n))return Np;if(0>n)return Dr(Tu(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=ny;return new Qt(e,0)}var ny=4294967296,Np=Op(0),wt=Op(1),tI=Op(16777216);function Au(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function io(n){return-1==n.h}function Dr(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Qt(t,~n.h).add(wt)}function ry(n,e){return n.add(Dr(e))}function td(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Ll(n,e){this.g=n,this.h=e}function Ln(n,e){if(Au(e))throw Error("division by zero");if(Au(n))return new Ll(Np,Np);if(io(n))return e=Ln(Dr(n),e),new Ll(Dr(e.g),Dr(e.h));if(io(e))return e=Ln(n,Dr(e)),new Ll(Dr(e.g),e.h);if(30<n.g.length){if(io(n)||io(e))throw Error("slowDivide_ only works with positive integers.");for(var t=wt,r=e;0>=r.X(n);)t=jD(t),r=jD(r);var o=nd(t,1),u=nd(r,1);for(r=nd(r,2),t=nd(t,2);!Au(r);){var c=u.add(r);0>=c.X(n)&&(o=o.add(t),u=c),r=nd(r,1),t=nd(t,1)}return e=ry(n,o.R(e)),new Ll(o,e)}for(o=Np;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(u=Tu(t)).R(e);io(c)||0<c.X(n);)c=(u=Tu(t-=r)).R(e);Au(u)&&(u=wt),o=o.add(u),n=ry(n,c)}return new Ll(o,n)}function jD(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Qt(t,n.h)}function nd(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,o=[],u=0;u<r;u++)o[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new Qt(o,n.h)}(Je=Qt.prototype).ea=function(){if(io(this))return-Dr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:ny+r)*e,e*=ny}return n},Je.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Au(this))return"0";if(io(this))return"-"+Dr(this).toString(n);for(var e=Tu(Math.pow(n,6)),t=this,r="";;){var o=Ln(t,e).g,u=((0<(t=ry(t,o.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Au(t=o))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},Je.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Je.X=function(n){return io(n=ry(this,n))?-1:Au(n)?0:1},Je.abs=function(){return io(this)?Dr(this):this},Je.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,o=0;o<=e;o++){var u=r+(65535&this.D(o))+(65535&n.D(o)),c=(u>>>16)+(this.D(o)>>>16)+(n.D(o)>>>16);r=c>>>16,t[o]=(c&=65535)<<16|(u&=65535)}return new Qt(t,-2147483648&t[t.length-1]?-1:0)},Je.R=function(n){if(Au(this)||Au(n))return Np;if(io(this))return io(n)?Dr(this).R(Dr(n)):Dr(Dr(this).R(n));if(io(n))return Dr(this.R(Dr(n)));if(0>this.X(tI)&&0>n.X(tI))return Tu(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<n.g.length;o++){var u=this.D(r)>>>16,c=65535&this.D(r),m=n.D(o)>>>16,w=65535&n.D(o);t[2*r+2*o]+=c*w,td(t,2*r+2*o),t[2*r+2*o+1]+=u*w,td(t,2*r+2*o+1),t[2*r+2*o+1]+=c*m,td(t,2*r+2*o+1),t[2*r+2*o+2]+=u*m,td(t,2*r+2*o+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Qt(t,0)},Je.gb=function(n){return Ln(this,n).h},Je.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Qt(t,this.h&n.h)},Je.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Qt(t,this.h|n.h)},Je.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Qt(t,this.h^n.h)},Pp.prototype.createWebChannel=Pp.prototype.g,hs.prototype.send=hs.prototype.u,hs.prototype.open=hs.prototype.m,hs.prototype.close=hs.prototype.close,Ah.NO_ERROR=0,Ah.TIMEOUT=8,Ah.HTTP_ERROR=6,jm.COMPLETE="complete",PE.EventType=Qc,Qc.OPEN="a",Qc.CLOSE="b",Qc.ERROR="c",Qc.MESSAGE="d",Zr.prototype.listen=Zr.prototype.O,dr.prototype.listenOnce=dr.prototype.P,dr.prototype.getLastError=dr.prototype.Sa,dr.prototype.getLastErrorCode=dr.prototype.Ia,dr.prototype.getStatus=dr.prototype.da,dr.prototype.getResponseJson=dr.prototype.Wa,dr.prototype.getResponseText=dr.prototype.ja,dr.prototype.send=dr.prototype.ha,dr.prototype.setWithCredentials=dr.prototype.Oa,Ho.prototype.digest=Ho.prototype.l,Ho.prototype.reset=Ho.prototype.reset,Ho.prototype.update=Ho.prototype.j,Qt.prototype.add=Qt.prototype.add,Qt.prototype.multiply=Qt.prototype.R,Qt.prototype.modulo=Qt.prototype.gb,Qt.prototype.compare=Qt.prototype.X,Qt.prototype.toNumber=Qt.prototype.ea,Qt.prototype.toString=Qt.prototype.toString,Qt.prototype.getBits=Qt.prototype.D,Qt.fromNumber=Tu,Qt.fromString=function Yv(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Dr(Yv(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Tu(Math.pow(e,8)),r=Np,o=0;o<n.length;o+=8){var u=Math.min(8,n.length-o),c=parseInt(n.substring(o,o+u),e);8>u?(u=Tu(Math.pow(e,u)),r=r.R(u).add(Tu(c))):r=(r=r.R(t)).add(Tu(c))}return r};var $D=xa.createWebChannelTransport=function(){return new Pp},HD=xa.getStatEventTarget=function(){return Um()},iy=xa.ErrorCode=Ah,nI=xa.EventType=jm,rI=xa.Event=Th,Qv=xa.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},GD=xa.FetchXmlHttpFactory=bu,sy=xa.WebChannel=PE,qD=xa.XhrIo=dr,kp=xa.Md5=Ho,kh=xa.Integer=Qt;const iI="@firebase/firestore";class zr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zr.UNAUTHENTICATED=new zr(null),zr.GOOGLE_CREDENTIALS=new zr("google-credentials-uid"),zr.FIRST_PARTY=new zr("first-party-uid"),zr.MOCK_USER=new zr("mock-user");let Su="9.23.0";const xu=new xl.Yd("@firebase/firestore");function oy(){return xu.logLevel}function Pe(n,...e){if(xu.logLevel<=xl.in.DEBUG){const t=e.map(Jv);xu.debug(`Firestore (${Su}): ${n}`,...t)}}function Vn(n,...e){if(xu.logLevel<=xl.in.ERROR){const t=e.map(Jv);xu.error(`Firestore (${Su}): ${n}`,...t)}}function Pi(n,...e){if(xu.logLevel<=xl.in.WARN){const t=e.map(Jv);xu.warn(`Firestore (${Su}): ${n}`,...t)}}function Jv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function st(n="Unexpected state"){const e=`FIRESTORE (${Su}) INTERNAL ASSERTION FAILED: `+n;throw Vn(e),new Error(e)}function ct(n,e){n||st()}function Qe(n,e){return n}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends an.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class br{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class aI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zr.UNAUTHENTICATED))}shutdown(){}}class oS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class aS{constructor(e){this.t=e,this.currentUser=zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=T=>this.i!==o?(o=this.i,t(T)):Promise.resolve();let c=new br;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new br,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const T=c;e.enqueueRetryable((0,ye.Z)(function*(){yield T.promise,yield u(r.currentUser)}))},w=T=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(T=>w(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?w(T):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new br)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct("string"==typeof r.accessToken),new aI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ct(null===e||"string"==typeof e),new zr(e)}}class uS{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=zr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class lS{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new uS(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ay{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.T;return this.T=u.token,Pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?o(u):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ct("string"==typeof t.token),this.T=t.token,new Xv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function zD(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class e0{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=zD(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function xt(n,e){return n<e?-1:n>e?1:0}function Fh(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function uI(n){return n+"\0"}class qn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ae(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qn.fromMillis(Date.now())}static fromDate(e){return qn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new qn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new dt(e)}static min(){return new dt(new qn(0,0))}static max(){return new dt(new qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Fp{constructor(e,t,r){void 0===t?t=0:t>e.length&&st(),void 0===r?r=e.length-t:r>e.length-t&&st(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Fp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),c=t.get(o);if(u<c)return-1;if(u>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Yt extends Fp{construct(e,t,r){return new Yt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Yt(t)}static emptyPath(){return new Yt([])}}const WD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hr extends Fp{construct(e,t,r){return new hr(e,t,r)}static isValidIdentifier(e){return WD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Ae(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Ae(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[o+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Ae(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,o+=2}else"`"===m?(c=!c,o++):"."!==m||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new Ae(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hr(t)}static emptyPath(){return new hr([])}}class ze{constructor(e){this.path=e}static fromPath(e){return new ze(Yt.fromString(e))}static fromName(e){return new ze(Yt.fromString(e).popFirst(5))}static empty(){return new ze(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Yt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new Yt(e.slice()))}}class uy{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function ly(n){return n.fields.find(e=>2===e.kind)}function rd(n){return n.fields.filter(e=>2!==e.kind)}uy.UNKNOWN_ID=-1;class cy{constructor(e,t){this.fieldPath=e,this.kind=t}}class Lp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Lp(0,fs.min())}}function dy(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=dt.fromTimestamp(1e9===r?new qn(t+1,0):new qn(t,r));return new fs(o,ze.empty(),e)}function dI(n){return new fs(n.readTime,n.key,-1)}class fs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new fs(dt.min(),ze.empty(),-1)}static max(){return new fs(dt.max(),ze.empty(),-1)}}function hy(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ze.comparator(n.documentKey,e.documentKey),0!==t?t:xt(n.largestBatchId,e.largestBatchId))}const hI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Vl(n){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,ye.Z)(function*(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==hI)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),Vp.apply(this,arguments)}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,r)=>{t(e)})}static reject(e){return new ee((t,r)=>{r(e)})}static waitFor(e){return new ee((t,r)=>{let o=0,u=0,c=!1;e.forEach(m=>{++o,m.next(()=>{++u,c&&u===o&&t()},w=>r(w))}),c=!0,u===o&&t()})}static or(e){let t=ee.resolve(!1);for(const r of e)t=t.next(o=>o?ee.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new ee((r,o)=>{const u=e.length,c=new Array(u);let m=0;for(let w=0;w<u;w++){const T=w;t(e[T]).next(M=>{c[T]=M,++m,m===u&&r(c)},M=>o(M))}})}static doWhile(e,t){return new ee((r,o)=>{const u=()=>{!0===e()?t().next(()=>{u()},o):r()};u()})}}class Up{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new br,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Bp(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const o=t0(r.target.error);this.v.reject(new Bp(e,o))}}static open(e,t,r,o){try{return new Up(t,e.transaction(o,r))}catch(u){throw new Bp(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new YD(t)}}class Go{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Go.S((0,an.z$)())&&Vn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),id(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,an.hl)())return!1;if(Go.C())return!0;const e=(0,an.z$)(),t=Go.S(e),r=0<t&&t<10,o=Go.N(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=c=>{r(c.target.result)},u.onblocked=()=>{o(new Bp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=c=>{const m=c.target.error;o("VersionError"===m.name?new Ae(re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Ae(re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Bp(e,m))},u.onupgradeneeded=c=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.V.O(c.target.result,u.transaction,c.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,ye.Z)(function*(){const c="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.$(e);const w=Up.open(u.db,e,c?"readonly":"readwrite",r),T=o(w).next(M=>(w.P(),M)).catch(M=>(w.abort(M),ee.reject(M))).toPromise();return T.catch(()=>{}),yield w.R,T}catch(w){const T=w,M="FirebaseError"!==T.name&&m<3;if(Pe("SimpleDb","Transaction failed with error:",T.message,"Retrying:",M),u.close(),!M)return Promise.reject(T)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class KD{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return id(this.L.delete())}}class Bp extends Ae{constructor(e,t){super(re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ul(n){return"IndexedDbTransactionError"===n.name}class YD{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),id(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),id(this.store.add(e))}get(e){return id(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),id(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),id(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.W(o,(c,m)=>{u.push(m)}).next(()=>u)}{const o=this.store.getAll(r.range);return new ee((u,c)=>{o.onerror=m=>{c(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ee((o,u)=>{r.onerror=c=>{u(c.target.error)},r.onsuccess=c=>{o(c.target.result)}})}J(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const o=this.cursor(r);return this.W(o,(u,c,m)=>m.delete())}X(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.W(o,t)}Z(e){const t=this.cursor({});return new ee((r,o)=>{t.onerror=u=>{const c=t0(u.target.error);o(c)},t.onsuccess=u=>{const c=u.target.result;c?e(c.primaryKey,c.value).next(m=>{m?c.continue():r()}):r()}})}W(e,t){const r=[];return new ee((o,u)=>{e.onerror=c=>{u(c.target.error)},e.onsuccess=c=>{const m=c.target.result;if(!m)return void o();const w=new KD(m),T=t(m.primaryKey,m.value,w);if(T instanceof ee){const M=T.catch(P=>(w.done(),ee.reject(P)));r.push(M)}w.isDone?o():null===w.K?m.continue():m.continue(w.K)}}).next(()=>ee.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function id(n){return new ee((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=t0(r.target.error);t(o)}})}let pI=!1;function t0(n){const e=Go.S((0,an.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return pI||(pI=!0,setTimeout(()=>{throw r},0)),r}}return n}class gI{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Pe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ye.Z)(function*(){t.task=null;try{Pe("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Ul(r)?Pe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Vl(r)}yield t.et(6e4)}))}}class mI{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ye.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let o=t,u=!0;return ee.doWhile(()=>!0===u&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return Pe("IndexBackiller",`Processing collection: ${c}`),this.it(e,c,o).next(m=>{o-=m,r.add(c)});u=!1})).next(()=>t-o)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(u=>{const c=u.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.rt(o,u)).next(m=>(Pe("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>c.size)}))}rt(e,t){let r=e;return t.changes.forEach((o,u)=>{const c=dI(u);hy(c,r)>0&&(r=c)}),new fs(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ls=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function jp(n){return null==n}function Lh(n){return 0===n&&1/n==-1/0}function yI(n){return"number"==typeof n&&Number.isInteger(n)&&!Lh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Oi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=fy(e)),e=QD(n.get(t),e);return fy(e)}function QD(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function fy(n){return n+"\x01\x01"}function so(n){const e=n.length;if(ct(e>=2),2===e)return ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Yt.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const c=n.indexOf("\x01",u);switch((c<0||c>t)&&st(),n.charAt(c+1)){case"\x01":const m=n.substring(u,c);let w;0===o.length?w=m:(o+=m,w=o,o=""),r.push(w);break;case"\x10":o+=n.substring(u,c),o+="\0";break;case"\x11":o+=n.substring(u,c+1);break;default:st()}u=c+2}return new Yt(r)}const n0=["userId","batchId"];function Vh(n,e){return[n,Oi(e)]}function _I(n,e,t){return[n,Oi(e),t]}const JD={},r0=["prefixPath","collectionGroup","readTime","documentId"],XD=["prefixPath","collectionGroup","documentId"],vI=["collectionGroup","readTime","prefixPath","documentId"],eb=["canonicalId","targetId"],wI=["targetId","path"],tb=["path","targetId"],EI=["collectionId","parent"],dS=["indexId","uid"],nb=["uid","sequenceNumber"],$p=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],rb=["indexId","uid","orderedDocumentKey"],Uh=["userId","collectionPath","documentId"],Hp=["userId","collectionPath","largestBatchId"],ib=["userId","collectionGroup","largestBatchId"],sb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],II=[...sb,"documentOverlays"],CI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],DI=CI,ob=[...DI,"indexConfiguration","indexState","indexEntries"];class s0 extends fI{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Fr(n,e){const t=Qe(n);return Go.M(t.ht,e)}function o0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ka(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Gp(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class fn{constructor(e,t){this.comparator=e,this.root=t||Wr.EMPTY}insert(e,t){return new fn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wr.BLACK,null,null))}remove(e){return new fn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new py(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new py(this.root,e,this.comparator,!1)}getReverseIterator(){return new py(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new py(this.root,e,this.comparator,!0)}}class py{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wr{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=null!=r?r:Wr.RED,this.left=null!=o?o:Wr.EMPTY,this.right=null!=u?u:Wr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new Wr(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Wr.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const e=this.left.check();if(e!==this.right.check())throw st();return e+(this.isRed()?0:1)}}Wr.EMPTY=null,Wr.RED=!0,Wr.BLACK=!1,Wr.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Wr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Rn{constructor(e){this.comparator=e,this.data=new fn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bI(this.data.getIterator())}getIteratorFrom(e){return new bI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Rn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Rn(this.comparator);return t.data=e,t}}class bI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Bh(n){return n.hasNext()?n.getNext():void 0}class ps{constructor(e){this.fields=e,e.sort(hr.comparator)}static empty(){return new ps([])}unionWith(e){let t=new Rn(hr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ps(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class gy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw"undefined"!=typeof DOMException&&o instanceof DOMException?new gy("Invalid base64 string: "+o):o}}(e);return new Kr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new Kr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kr.EMPTY_BYTE_STRING=new Kr("");const ub=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bl(n){if(ct(!!n),"string"==typeof n){let e=0;const t=ub.exec(n);if(ct(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tn(n.seconds),nanos:Tn(n.nanos)}}function Tn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Fa(n){return"string"==typeof n?Kr.fromBase64String(n):Kr.fromUint8Array(n)}function Mu(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function a0(n){const e=n.mapValue.fields.__previous_value__;return Mu(e)?a0(e):e}function jh(n){const e=Bl(n.mapValue.fields.__local_write_time__.timestampValue);return new qn(e.seconds,e.nanos)}class lb{constructor(e,t,r,o,u,c,m,w,T){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=w,this.useFetchStreams=T}}class sd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new sd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof sd&&e.projectId===this.projectId&&e.database===this.database}}const Ru={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},u0={nullValue:"NULL_VALUE"};function Pu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Mu(n)?4:d0(n)?9007199254740991:10:st()}function oo(n,e){if(n===e)return!0;const t=Pu(n);if(t!==Pu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return jh(n).isEqual(jh(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=Bl(r.timestampValue),c=Bl(o.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Fa(n.bytesValue).isEqual(Fa(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Tn(r.geoPointValue.latitude)===Tn(o.geoPointValue.latitude)&&Tn(r.geoPointValue.longitude)===Tn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Tn(r.integerValue)===Tn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Tn(r.doubleValue),c=Tn(o.doubleValue);return u===c?Lh(u)===Lh(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return Fh(n.arrayValue.values||[],e.arrayValue.values||[],oo);case 10:return function(r,o){const u=r.mapValue.fields||{},c=o.mapValue.fields||{};if(o0(u)!==o0(c))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===c[m]||!oo(u[m],c[m])))return!1;return!0}(n,e);default:return st()}var o}function qp(n,e){return void 0!==(n.values||[]).find(t=>oo(t,e))}function jl(n,e){if(n===e)return 0;const t=Pu(n),r=Pu(e);if(t!==r)return xt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return xt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const c=Tn(o.integerValue||o.doubleValue),m=Tn(u.integerValue||u.doubleValue);return c<m?-1:c>m?1:c===m?0:isNaN(c)?isNaN(m)?0:-1:1}(n,e);case 3:return TI(n.timestampValue,e.timestampValue);case 4:return TI(jh(n),jh(e));case 5:return xt(n.stringValue,e.stringValue);case 6:return function(o,u){const c=Fa(o),m=Fa(u);return c.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const c=o.split("/"),m=u.split("/");for(let w=0;w<c.length&&w<m.length;w++){const T=xt(c[w],m[w]);if(0!==T)return T}return xt(c.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const c=xt(Tn(o.latitude),Tn(u.latitude));return 0!==c?c:xt(Tn(o.longitude),Tn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const c=o.values||[],m=u.values||[];for(let w=0;w<c.length&&w<m.length;++w){const T=jl(c[w],m[w]);if(T)return T}return xt(c.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===Ru.mapValue&&u===Ru.mapValue)return 0;if(o===Ru.mapValue)return 1;if(u===Ru.mapValue)return-1;const c=o.fields||{},m=Object.keys(c),w=u.fields||{},T=Object.keys(w);m.sort(),T.sort();for(let M=0;M<m.length&&M<T.length;++M){const P=xt(m[M],T[M]);if(0!==P)return P;const G=jl(c[m[M]],w[T[M]]);if(0!==G)return G}return xt(m.length,T.length)}(n.mapValue,e.mapValue);default:throw st()}}function TI(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return xt(n,e);const t=Bl(n),r=Bl(e),o=xt(t.seconds,r.seconds);return 0!==o?o:xt(t.nanos,r.nanos)}function $h(n){return l0(n)}function l0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Bl(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Fa(n.bytesValue).toBase64():"referenceValue"in n?ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const c of r.values||[])u?u=!1:o+=",",o+=l0(c);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",c=!0;for(const m of o)c?c=!1:u+=",",u+=`${m}:${l0(r.fields[m])}`;return u+"}"}(n.mapValue):st();var e}function od(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function c0(n){return!!n&&"integerValue"in n}function Zp(n){return!!n&&"arrayValue"in n}function AI(n){return!!n&&"nullValue"in n}function Hh(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zp(n){return!!n&&"mapValue"in n}function Gh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ka(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Gh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Gh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function d0(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function SI(n){return"nullValue"in n?u0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?od(sd.empty(),ze.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:st()}function xI(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?od(sd.empty(),ze.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ru:st()}function MI(n,e){const t=jl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function RI(n,e){const t=jl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class di{constructor(e){this.value=e}static empty(){return new di({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!zp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gh(t)}setAll(e){let t=hr.emptyPath(),r={},o=[];e.forEach((c,m)=>{if(!t.isImmediateParentOf(m)){const w=this.getFieldsMap(t);this.applyChanges(w,r,o),r={},o=[],t=m.popLast()}c?r[m.lastSegment()]=Gh(c):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());zp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];zp(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){ka(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new di(Gh(this.value))}}function PI(n){const e=[];return ka(n.fields,(t,r)=>{const o=new hr([t]);if(zp(r)){const u=PI(r.mapValue).fields;if(0===u.length)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)}),new ps(e)}class Un{constructor(e,t,r,o,u,c,m){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(e){return new Un(e,0,dt.min(),dt.min(),dt.min(),di.empty(),0)}static newFoundDocument(e,t,r,o){return new Un(e,1,t,dt.min(),r,o,0)}static newNoDocument(e,t){return new Un(e,2,t,dt.min(),dt.min(),di.empty(),0)}static newUnknownDocument(e,t){return new Un(e,3,t,dt.min(),dt.min(),di.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(dt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=di.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $l{constructor(e,t){this.position=e,this.inclusive=t}}function OI(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],c=n.position[o];if(r=u.field.isKeyField()?ze.comparator(ze.fromName(c.referenceValue),t.key):jl(c,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function qh(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!oo(n.position[t],e.position[t]))return!1;return!0}class Zh{constructor(e,t="asc"){this.field=e,this.dir=t}}function h0(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class qo{}class Kt extends qo{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new LI(e,t,r):"array-contains"===t?new cb(e,r):"in"===t?new UI(e,r):"not-in"===t?new hS(e,r):"array-contains-any"===t?new y0(e,r):new Kt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new VI(e,r):new g0(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(jl(t,this.value)):null!==t&&Pu(this.value)===Pu(t)&&this.matchesComparison(jl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return st()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ln extends qo{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new ln(e,t)}matches(e){return La(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function La(n){return"and"===n.op}function f0(n){return"or"===n.op}function p0(n){return NI(n)&&La(n)}function NI(n){for(const e of n.filters)if(e instanceof ln)return!1;return!0}function zh(n){if(n instanceof Kt)return n.field.canonicalString()+n.op.toString()+$h(n.value);if(p0(n))return n.filters.map(e=>zh(e)).join(",");{const e=n.filters.map(t=>zh(t)).join(",");return`${n.op}(${e})`}}function Wp(n,e){return n instanceof Kt?(t=n,(r=e)instanceof Kt&&t.op===r.op&&t.field.isEqual(r.field)&&oo(t.value,r.value)):n instanceof ln?function(t,r){return r instanceof ln&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((o,u,c)=>o&&Wp(u,r.filters[c]),!0)}(n,e):void st();var t,r}function kI(n,e){const t=n.filters.concat(e);return ln.create(t,n.op)}function FI(n){return n instanceof Kt?`${(e=n).field.canonicalString()} ${e.op} ${$h(e.value)}`:n instanceof ln?function(e){return e.op.toString()+" {"+e.getFilters().map(FI).join(" ,")+"}"}(n):"Filter";var e}class LI extends Kt{constructor(e,t,r){super(e,t,r),this.key=ze.fromName(r.referenceValue)}matches(e){const t=ze.comparator(e.key,this.key);return this.matchesComparison(t)}}class VI extends Kt{constructor(e,t){super(e,"in",t),this.keys=m0(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class g0 extends Kt{constructor(e,t){super(e,"not-in",t),this.keys=m0(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function m0(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ze.fromName(r.referenceValue))}class cb extends Kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zp(t)&&qp(t.arrayValue,this.value)}}class UI extends Kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&qp(this.value.arrayValue,t)}}class hS extends Kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(qp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!qp(this.value.arrayValue,t)}}class y0 extends Kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>qp(this.value.arrayValue,r))}}class _0{constructor(e,t=null,r=[],o=[],u=null,c=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.dt=null}}function yy(n,e=null,t=[],r=[],o=null,u=null,c=null){return new _0(n,e,t,r,o,u,c)}function Ou(n){const e=Qe(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>zh(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),jp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>$h(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>$h(r)).join(",")),e.dt=t}return e.dt}function ad(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!h0(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Wp(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qh(n.startAt,e.startAt)&&qh(n.endAt,e.endAt)}function _y(n){return ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function vy(n,e){return n.filters.filter(t=>t instanceof Kt&&t.field.isEqual(e))}function BI(n,e,t){let r=u0,o=!0;for(const u of vy(n,e)){let c=u0,m=!0;switch(u.op){case"<":case"<=":c=SI(u.value);break;case"==":case"in":case">=":c=u.value;break;case">":c=u.value,m=!1;break;case"!=":case"not-in":c=u0}MI({value:r,inclusive:o},{value:c,inclusive:m})<0&&(r=c,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const c=t.position[u];MI({value:r,inclusive:o},{value:c,inclusive:t.inclusive})<0&&(r=c,o=t.inclusive);break}return{value:r,inclusive:o}}function jI(n,e,t){let r=Ru,o=!0;for(const u of vy(n,e)){let c=Ru,m=!0;switch(u.op){case">=":case">":c=xI(u.value),m=!1;break;case"==":case"in":case"<=":c=u.value;break;case"<":c=u.value,m=!1;break;case"!=":case"not-in":c=Ru}RI({value:r,inclusive:o},{value:c,inclusive:m})>0&&(r=c,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const c=t.position[u];RI({value:r,inclusive:o},{value:c,inclusive:t.inclusive})>0&&(r=c,o=t.inclusive);break}return{value:r,inclusive:o}}class Va{constructor(e,t=null,r=[],o=[],u=null,c="F",m=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=w,this.wt=null,this._t=null}}function wy(n,e,t,r,o,u,c,m){return new Va(n,e,t,r,o,u,c,m)}function ud(n){return new Va(n)}function v0(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Ey(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Kp(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function w0(n){return null!==n.collectionGroup}function Hl(n){const e=Qe(n);if(null===e.wt){e.wt=[];const t=Kp(e),r=Ey(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Zh(t)),e.wt.push(new Zh(hr.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Zh(hr.keyField(),u))}}}return e.wt}function Ni(n){const e=Qe(n);if(!e._t)if("F"===e.limitType)e._t=yy(e.path,e.collectionGroup,Hl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Hl(e))t.push(new Zh(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new $l(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new $l(e.startAt.position,e.startAt.inclusive):null;e._t=yy(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e._t}function E0(n,e){e.getFirstInequalityField(),Kp(n);const t=n.filters.concat([e]);return new Va(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Yp(n,e,t){return new Va(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wh(n,e){return ad(Ni(n),Ni(e))&&n.limitType===e.limitType}function ki(n){return`${Ou(Ni(n))}|lt:${n.limitType}`}function Gl(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>FI(r)).join(", ")}]`),jp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>$h(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>$h(r)).join(",")),`Target(${t})`}(Ni(n))}; limitType=${n.limitType})`}function Qp(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):ze.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of Hl(t))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,c){const m=OI(o,u,c);return o.inclusive?m<=0:m<0}(t.startAt,Hl(t),r)||t.endAt&&!function(o,u,c){const m=OI(o,u,c);return o.inclusive?m>=0:m>0}(t.endAt,Hl(t),r)));var t,r}function $I(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function db(n){return(e,t)=>{let r=!1;for(const o of Hl(n)){const u=Jp(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function Jp(n,e,t){const r=n.field.isKeyField()?ze.comparator(e.key,t.key):function(o,u,c){const m=u.data.field(o),w=c.data.field(o);return null!==m&&null!==w?jl(m,w):st()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return st()}}class Nu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ka(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return Gp(this.inner)}size(){return this.innerSize}}const I0=new fn(ze.comparator);function gs(){return I0}const C0=new fn(ze.comparator);function Xp(...n){let e=C0;for(const t of n)e=e.insert(t.key,t);return e}function HI(n){let e=C0;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ao(){return Kh()}function D0(){return Kh()}function Kh(){return new Nu(n=>n.toString(),(n,e)=>n.isEqual(e))}const Iy=new fn(ze.comparator),b0=new Rn(ze.comparator);function Gt(...n){let e=b0;for(const t of n)e=e.add(t);return e}const GI=new Rn(xt);function T0(){return GI}function A0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lh(e)?"-0":e}}function eg(n){return{integerValue:""+n}}function S0(n,e){return yI(e)?eg(e):A0(n,e)}class Cy{constructor(){this._=void 0}}function x0(n,e,t){return n instanceof Yh?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Mu(o)&&(o=a0(o)),o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof ld?R0(n,e):n instanceof ql?qI(n,e):function(r,o){const u=hb(r,o),c=P0(u)+P0(r.gt);return c0(u)&&c0(r.gt)?eg(c):A0(r.serializer,c)}(n,e)}function M0(n,e,t){return n instanceof ld?R0(n,e):n instanceof ql?qI(n,e):t}function hb(n,e){return n instanceof cd?c0(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Yh extends Cy{}class ld extends Cy{constructor(e){super(),this.elements=e}}function R0(n,e){const t=ZI(e);for(const r of n.elements)t.some(o=>oo(o,r))||t.push(r);return{arrayValue:{values:t}}}class ql extends Cy{constructor(e){super(),this.elements=e}}function qI(n,e){let t=ZI(e);for(const r of n.elements)t=t.filter(o=>!oo(o,r));return{arrayValue:{values:t}}}class cd extends Cy{constructor(e,t){super(),this.serializer=e,this.gt=t}}function P0(n){return Tn(n.integerValue||n.doubleValue)}function ZI(n){return Zp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class tg{constructor(e,t){this.field=e,this.transform=t}}class fb{constructor(e,t){this.version=e,this.transformResults=t}}class Bn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ng(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class rg{}function O0(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new og(n.key,Bn.none()):new sg(n.key,n.data,Bn.none());{const t=n.data,r=di.empty();let o=new Rn(hr.comparator);for(let u of e.fields)if(!o.has(u)){let c=t.field(u);null===c&&u.length>1&&(u=u.popLast(),c=t.field(u)),null===c?r.delete(u):r.set(u,c),o=o.add(u)}return new Zl(n.key,r,new ps(o.toArray()),Bn.none())}}function pb(n,e,t){n instanceof sg?function(r,o,u){const c=r.value.clone(),m=mb(r.fieldTransforms,o,u.transformResults);c.setAll(m),o.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Zl?function(r,o,u){if(!ng(r.precondition,o))return void o.convertToUnknownDocument(u.version);const c=mb(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(gb(r)),m.setAll(c),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function ig(n,e,t,r){return n instanceof sg?function(o,u,c,m){if(!ng(o.precondition,u))return c;const w=o.value.clone(),T=yb(o.fieldTransforms,m,u);return w.setAll(T),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null}(n,e,t,r):n instanceof Zl?function(o,u,c,m){if(!ng(o.precondition,u))return c;const w=yb(o.fieldTransforms,m,u),T=u.data;return T.setAll(gb(o)),T.setAll(w),u.convertToFoundDocument(u.version,T).setHasLocalMutations(),null===c?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(M=>M.field))}(n,e,t,r):(c=t,ng(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c);var u,c}function fS(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=hb(r.transform,o||null);null!=u&&(null===t&&(t=di.empty()),t.set(r.field,u))}return t||null}function N0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Fh(t,r,(o,u)=>function zI(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ld&&r instanceof ld||t instanceof ql&&r instanceof ql?Fh(t.elements,r.elements,oo):t instanceof cd&&r instanceof cd?oo(t.gt,r.gt):t instanceof Yh&&r instanceof Yh);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class sg extends rg{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zl extends rg{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function gb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function mb(n,e,t){const r=new Map;ct(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],c=u.transform,m=e.data.field(u.field);r.set(u.field,M0(c,m,t[o]))}return r}function yb(n,e,t){const r=new Map;for(const o of n){const u=o.transform,c=t.data.field(o.field);r.set(o.field,x0(u,c,e))}return r}class og extends rg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WI extends rg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class KI{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&pb(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ig(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ig(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=D0();return this.mutations.forEach(o=>{const u=e.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=t.has(o.key)?null:m;const w=O0(c,m);null!==w&&r.set(o.key,w),c.isValidDocument()||c.convertToNoDocument(dt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Gt())}isEqual(e){return this.batchId===e.batchId&&Fh(this.mutations,e.mutations,(t,r)=>N0(t,r))&&Fh(this.baseMutations,e.baseMutations,(t,r)=>N0(t,r))}}class Qh{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){ct(e.mutations.length===r.length);let o=Iy;const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Qh(e,t,r,o)}}class YI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Jh{constructor(e,t){this.count=e,this.unchangedNames=t}}var _r,Jt;function QI(n){switch(n){default:return st();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function Dy(n){if(void 0===n)return Vn("GRPC error has no .code"),re.UNKNOWN;switch(n){case _r.OK:return re.OK;case _r.CANCELLED:return re.CANCELLED;case _r.UNKNOWN:return re.UNKNOWN;case _r.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case _r.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case _r.INTERNAL:return re.INTERNAL;case _r.UNAVAILABLE:return re.UNAVAILABLE;case _r.UNAUTHENTICATED:return re.UNAUTHENTICATED;case _r.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case _r.NOT_FOUND:return re.NOT_FOUND;case _r.ALREADY_EXISTS:return re.ALREADY_EXISTS;case _r.PERMISSION_DENIED:return re.PERMISSION_DENIED;case _r.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case _r.ABORTED:return re.ABORTED;case _r.OUT_OF_RANGE:return re.OUT_OF_RANGE;case _r.UNIMPLEMENTED:return re.UNIMPLEMENTED;case _r.DATA_LOSS:return re.DATA_LOSS;default:return st()}}(Jt=_r||(_r={}))[Jt.OK=0]="OK",Jt[Jt.CANCELLED=1]="CANCELLED",Jt[Jt.UNKNOWN=2]="UNKNOWN",Jt[Jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jt[Jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jt[Jt.NOT_FOUND=5]="NOT_FOUND",Jt[Jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jt[Jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jt[Jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jt[Jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jt[Jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jt[Jt.ABORTED=10]="ABORTED",Jt[Jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jt[Jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jt[Jt.INTERNAL=13]="INTERNAL",Jt[Jt.UNAVAILABLE=14]="UNAVAILABLE",Jt[Jt.DATA_LOSS=15]="DATA_LOSS";class by{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ag}static getOrCreateInstance(){return null===ag&&(ag=new by),ag}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let ag=null;function F0(){return new TextEncoder}const pS=new kh([4294967295,4294967295],0);function L0(n){const e=F0().encode(n),t=new kp;return t.update(e),new Uint8Array(t.digest())}function ug(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new kh([t,r],0),new kh([o,u],0)]}class Ty{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ay(`Invalid padding: ${t}`);if(r<0)throw new Ay(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Ay(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Ay(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=kh.fromNumber(this.It)}Et(e,t,r){let o=e.add(t.multiply(kh.fromNumber(r)));return 1===o.compare(pS)&&(o=new kh([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=L0(e),[r,o]=ug(t);for(let u=0;u<this.hashCount;u++){const c=this.Et(r,o,u);if(!this.At(c))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new Ty(u,o,t);return r.forEach(m=>c.insert(m)),c}insert(e){if(0===this.It)return;const t=L0(e),[r,o]=ug(t);for(let u=0;u<this.hashCount;u++){const c=this.Et(r,o,u);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Ay extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sy{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,xy.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Sy(dt.min(),o,new fn(xt),gs(),Gt())}}class xy{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new xy(r,t,Gt(),Gt(),Gt())}}class My{constructor(e,t,r,o){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=o}}class Ry{constructor(e,t){this.targetId=e,this.Vt=t}}class JI{constructor(e,t,r=Kr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class _b{constructor(){this.St=0,this.Dt=XI(),this.Ct=Kr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Gt(),t=Gt(),r=Gt();return this.Dt.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:st()}}),new xy(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=XI()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class vb{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=gs(),this.zt=Py(),this.Wt=new fn(xt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:st()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,o)=>{this.te(o)&&t(o)})}ne(e){var t;const r=e.targetId,o=e.Vt.count,u=this.se(r);if(u){const c=u.target;if(_y(c))if(0===o){const m=new ze(c.path);this.Yt(r,m,Un.newNoDocument(m,dt.min()))}else ct(1===o);else{const m=this.ie(r);if(m!==o){const w=this.re(e,m);0!==w&&(this.ee(r),this.Wt=this.Wt.insert(r,2===w?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=by.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(T,M,P){var G,K,Ce,Ne,Ve,lt;const Pt={localCacheCount:M,existenceFilterCount:P.count},ht=P.unchangedNames;return ht&&(Pt.bloomFilter={applied:0===T,hashCount:null!==(G=null==ht?void 0:ht.hashCount)&&void 0!==G?G:0,bitmapLength:null!==(Ne=null===(Ce=null===(K=null==ht?void 0:ht.bits)||void 0===K?void 0:K.bitmap)||void 0===Ce?void 0:Ce.length)&&void 0!==Ne?Ne:0,padding:null!==(lt=null===(Ve=null==ht?void 0:ht.bits)||void 0===Ve?void 0:Ve.padding)&&void 0!==lt?lt:0}),Pt}(w,m,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:o}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:c=0},hashCount:m=0}=r;let w,T;try{w=Fa(u).toUint8Array()}catch(M){if(M instanceof gy)return Pi("Decoding the base64 bloom filter in existence filter failed ("+M.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw M}try{T=new Ty(w,c,m)}catch(M){return Pi(M instanceof Ay?"BloomFilter error: ":"Applying bloom filter failed: ",M),1}return 0===T.It?1:o!==t-this.oe(e.targetId,T)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let o=0;return r.forEach(u=>{const c=this.Gt.ue(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.vt(m)||(this.Yt(e,u,null),o++)}),o}ce(e){const t=new Map;this.Qt.forEach((u,c)=>{const m=this.se(c);if(m){if(u.current&&_y(m.target)){const w=new ze(m.target.path);null!==this.jt.get(w)||this.ae(c,w)||this.Yt(c,w,Un.newNoDocument(w,e))}u.Mt&&(t.set(c,u.Ot()),u.Ft())}});let r=Gt();this.zt.forEach((u,c)=>{let m=!0;c.forEachWhile(w=>{const T=this.se(w);return!T||"TargetPurposeLimboResolution"===T.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.jt.forEach((u,c)=>c.setReadTime(e));const o=new Sy(e,t,this.Wt,this.jt,r);return this.jt=gs(),this.zt=Py(),this.Wt=new fn(xt),o}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const o=this.Zt(e);this.ae(e,t)?o.Bt(t,1):o.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new _b,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Rn(xt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new _b),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Py(){return new fn(ze.comparator)}function XI(){return new fn(ze.comparator)}const Vs={asc:"ASCENDING",desc:"DESCENDING"},wb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V0={and:"AND",or:"OR"};class Eb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function U0(n,e){return n.useProto3Json||jp(e)?e:{value:e}}function zl(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function B0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function eC(n,e){return zl(n,e.toTimestamp())}function vr(n){return ct(!!n),dt.fromTimestamp(function(e){const t=Bl(e);return new qn(t.seconds,t.nanos)}(n))}function Oy(n,e){return(t=n,new Yt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function j0(n){const e=Yt.fromString(n);return ct(iC(e)),e}function lg(n,e){return Oy(n.databaseId,e.path)}function Ua(n,e){const t=j0(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ze(Ib(t))}function cg(n,e){return Oy(n.databaseId,e)}function uo(n){const e=j0(n);return 4===e.length?Yt.emptyPath():Ib(e)}function dg(n){return new Yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ib(n){return ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function tC(n,e,t){return{name:lg(n,e),fields:t.value.mapValue.fields}}function $0(n,e,t){const r=Ua(n,e.name),o=vr(e.updateTime),u=e.createTime?vr(e.createTime):dt.min(),c=new di({mapValue:{fields:e.fields}}),m=Un.newFoundDocument(r,o,u,c);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function Xh(n,e){let t;if(e instanceof sg)t={update:tC(n,e.key,e.value)};else if(e instanceof og)t={delete:lg(n,e.key)};else if(e instanceof Zl)t={update:tC(n,e.key,e.data),updateMask:Tb(e.fieldMask)};else{if(!(e instanceof WI))return st();t={verify:lg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const c=u.transform;if(c instanceof Yh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ld)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ql)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof cd)return{fieldPath:u.field.canonicalString(),increment:c.gt};throw st()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:eC(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:st()),t;var o}function H0(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Bn.updateTime(vr(o.updateTime)):void 0!==o.exists?Bn.exists(o.exists):Bn.none():Bn.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,c){let m=null;"setToServerValue"in c?(ct("REQUEST_TIME"===c.setToServerValue),m=new Yh):"appendMissingElements"in c?m=new ld(c.appendMissingElements.values||[]):"removeAllFromArray"in c?m=new ql(c.removeAllFromArray.values||[]):"increment"in c?m=new cd(u,c.increment):st();const w=hr.fromServerFormat(c.fieldPath);return new tg(w,m)}(n,o)):[];var o;if(e.update){const o=Ua(n,e.update.name),u=new di({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new ps((e.updateMask.fieldPaths||[]).map(T=>hr.fromServerFormat(T)));return new Zl(o,u,c,t,r)}return new sg(o,u,t,r)}if(e.delete){const o=Ua(n,e.delete);return new og(o,t)}if(e.verify){const o=Ua(n,e.verify);return new WI(o,t)}return st()}function G0(n,e){return{documents:[cg(n,e.path)]}}function Ny(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=cg(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=cg(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(w){if(0!==w.length)return z0(ln.create(w,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(w){if(0!==w.length)return w.map(T=>{return{field:Wl((M=T).field),direction:hg(M.dir)};var M})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=U0(n,e.limit);var m,w;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(w=e.endAt).inclusive,values:w.position}),t}function nC(n){let e=uo(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){ct(1===r);const M=t.from[0];M.allDescendants?o=M.collectionId:e=e.child(M.collectionId)}let u=[];t.where&&(u=function(M){const P=q0(M);return P instanceof ln&&p0(P)?P.getFilters():[P]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(M=>{return new Zh(dd((P=M).field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let m=null;t.limit&&(m=function(M){let P;return P="object"==typeof M?M.value:M,jp(P)?null:P}(t.limit));let w=null;var M;t.startAt&&(w=new $l((M=t.startAt).values||[],!!M.before));let T=null;return t.endAt&&(T=function(M){return new $l(M.values||[],!M.before)}(t.endAt)),wy(e,o,c,u,m,"F",w,T)}function q0(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=dd(e.unaryFilter.field);return Kt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=dd(e.unaryFilter.field);return Kt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=dd(e.unaryFilter.field);return Kt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=dd(e.unaryFilter.field);return Kt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return st()}}(n):void 0!==n.fieldFilter?Kt.create(dd((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return ln.create(e.compositeFilter.filters.map(t=>q0(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return st()}}(e.compositeFilter.op))}(n):st();var e}function hg(n){return Vs[n]}function Z0(n){return wb[n]}function rC(n){return V0[n]}function Wl(n){return{fieldPath:n.canonicalString()}}function dd(n){return hr.fromServerFormat(n.fieldPath)}function z0(n){return n instanceof Kt?function(e){if("=="===e.op){if(Hh(e.value))return{unaryFilter:{field:Wl(e.field),op:"IS_NAN"}};if(AI(e.value))return{unaryFilter:{field:Wl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Hh(e.value))return{unaryFilter:{field:Wl(e.field),op:"IS_NOT_NAN"}};if(AI(e.value))return{unaryFilter:{field:Wl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wl(e.field),op:Z0(e.op),value:e.value}}}(n):n instanceof ln?function(e){const t=e.getFilters().map(r=>z0(r));return 1===t.length?t[0]:{compositeFilter:{op:rC(e.op),filters:t}}}(n):st()}function Tb(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function iC(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Kl{constructor(e,t,r,o,u=dt.min(),c=dt.min(),m=Kr.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=w}withSequenceNumber(e){return new Kl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Kl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ab{constructor(e){this.fe=e}}function oC(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ky(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:lg(o=n.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:zl(o,u.version.toTimestamp()),createTime:zl(o,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:hd(e.version)};else{if(!e.isUnknownDocument())return st();r.unknownDocument={path:t.path.toArray(),version:hd(e.version)}}var o,u;return r}function ky(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function hd(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ef(n){const e=new qn(n.seconds,n.nanoseconds);return dt.fromTimestamp(e)}function tf(n,e){const t=(e.baseMutations||[]).map(u=>H0(n.fe,u));for(let u=0;u<e.mutations.length-1;++u){const c=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(c.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>H0(n.fe,u)),o=qn.fromMillis(e.localWriteTimeMs);return new KI(e.batchId,o,t,r)}function Fy(n){const e=ef(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ef(n.lastLimboFreeSnapshotVersion):dt.min();let r;var o;return void 0!==n.query.documents?(ct(1===(o=n.query).documents.length),r=Ni(ud(uo(o.documents[0])))):r=Ni(nC(n.query)),new Kl(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Kr.fromBase64String(n.resumeToken))}function Sb(n,e){const t=hd(e.snapshotVersion),r=hd(e.lastLimboFreeSnapshotVersion);let o;o=_y(e.target)?G0(n.fe,e.target):Ny(n.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ou(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function aC(n){const e=nC({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Yp(e,e.limit,"L"):e}function W0(n,e){return new YI(e.largestBatchId,H0(n.fe,e.overlayMutation))}function fg(n,e){const t=e.path.lastSegment();return[n,Oi(e.path.popLast()),t]}function uC(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:hd(r.readTime),documentKey:Oi(r.documentKey.path),largestBatchId:r.largestBatchId}}class xb{getBundleMetadata(e,t){return K0(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:ef(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return K0(e).put({bundleId:(r=t).id,createTime:hd(vr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Yl(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:aC(o.bundledQuery),readTime:ef(o.readTime)};var o})}saveNamedQuery(e,t){return Yl(e).put({name:(r=t).name,readTime:hd(vr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function K0(n){return Fr(n,"bundles")}function Yl(n){return Fr(n,"namedQueries")}class pg{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new pg(e,t.uid||"")}getOverlay(e,t){return fd(e).get(fg(this.userId,t)).next(r=>r?W0(this.serializer,r):null)}getOverlays(e,t){const r=ao();return ee.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((u,c)=>{const m=new YI(t,c);o.push(this.we(e,m))}),ee.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(c=>o.add(Oi(c.getCollectionPath())));const u=[];return o.forEach(c=>{const m=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);u.push(fd(e).J("collectionPathOverlayIndex",m))}),ee.waitFor(u)}getOverlaysForCollection(e,t,r){const o=ao(),u=Oi(t),c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return fd(e).j("collectionPathOverlayIndex",c).next(m=>{for(const w of m){const T=W0(this.serializer,w);o.set(T.getKey(),T)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=ao();let c;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return fd(e).X({index:"collectionGroupOverlayIndex",range:m},(w,T,M)=>{const P=W0(this.serializer,T);u.size()<o||P.largestBatchId===c?(u.set(P.getKey(),P),c=P.largestBatchId):M.done()}).next(()=>u)}we(e,t){return fd(e).put(function(r,o,u){const[c,m,w]=fg(o,u.mutation.key);return{userId:o,collectionPath:m,documentId:w,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Xh(r.fe,u.mutation)}}(this.serializer,this.userId,t))}}function fd(n){return Fr(n,"documentOverlays")}class ku{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Tn(e.integerValue));else if("doubleValue"in e){const r=Tn(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Lh(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Fa(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?d0(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):st()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const o of Object.keys(r))this.Te(o,t),this.me(r[o],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const o of r)this.me(o,t)}ve(e,t){this.ye(t,37),ze.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Mb(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Ly(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=Mb(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}ku.Ve=new ku;class Y0{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const o=t.codePointAt(0);this.De(240|o>>>18),this.De(128|63&o>>>12),this.De(128|63&o>>>6),this.De(128|63&o)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const o=t.codePointAt(0);this.Ne(240|o>>>18),this.Ne(128|63&o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o)}}this.ke()}Oe(e){const t=this.Fe(e),r=Ly(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Le(e){const t=this.Fe(e),r=Ly(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class lC{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class cC{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Vy{constructor(){this.je=new Y0,this.ze=new lC(this.je),this.We=new cC(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class nf{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new nf(this.indexId,this.documentKey,this.arrayValue,r)}}function pd(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Rb(n.arrayValue,e.arrayValue),0!==t?t:(t=Rb(n.directionalValue,e.directionalValue),0!==t?t:ze.comparator(n.documentKey,e.documentKey)))}function Rb(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class mS{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){ct(e.collectionGroup===this.collectionId);const t=ly(e);if(void 0!==t&&!this.en(t))return!1;const r=rd(e);let o=new Set,u=0,c=0;for(;u<r.length&&this.en(r[u]);++u)o=o.add(r[u].fieldPath.canonicalString());if(u===r.length)return!0;if(void 0!==this.Ze){if(!o.has(this.Ze.field.canonicalString())){const m=r[u];if(!this.nn(this.Ze,m)||!this.sn(this.Ye[c++],m))return!1}++u}for(;u<r.length;++u){const m=r[u];if(c>=this.Ye.length||!this.sn(this.Ye[c++],m))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Pb(n){var e,t;if(ct(n instanceof Kt||n instanceof ln),n instanceof Kt){if(n instanceof UI){const o=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>Kt.create(n.field,"==",u)))||[];return ln.create(o,"or")}return n}const r=n.filters.map(o=>Pb(o));return ln.create(r,n.op)}function yS(n){if(0===n.getFilters().length)return[];const e=J0(Pb(n));return ct(dC(e)),Uy(e)||Q0(e)?[e]:e.getFilters()}function Uy(n){return n instanceof Kt}function Q0(n){return n instanceof ln&&p0(n)}function dC(n){return Uy(n)||Q0(n)||function(e){if(e instanceof ln&&f0(e)){for(const t of e.getFilters())if(!Uy(t)&&!Q0(t))return!1;return!0}return!1}(n)}function J0(n){if(ct(n instanceof Kt||n instanceof ln),n instanceof Kt)return n;if(1===n.filters.length)return J0(n.filters[0]);const e=n.filters.map(r=>J0(r));let t=ln.create(e,n.op);return t=gg(t),dC(t)?t:(ct(t instanceof ln),ct(La(t)),ct(t.filters.length>1),t.filters.reduce((r,o)=>X0(r,o)))}function X0(n,e){let t;return ct(n instanceof Kt||n instanceof ln),ct(e instanceof Kt||e instanceof ln),t=n instanceof Kt?e instanceof Kt?ln.create([n,e],"and"):ew(n,e):e instanceof Kt?ew(e,n):function(r,o){if(ct(r.filters.length>0&&o.filters.length>0),La(r)&&La(o))return kI(r,o.getFilters());const u=f0(r)?r:o,c=f0(r)?o:r,m=u.filters.map(w=>X0(w,c));return ln.create(m,"or")}(n,e),gg(t)}function ew(n,e){if(La(e))return kI(e,n.getFilters());{const t=e.filters.map(r=>X0(n,r));return ln.create(t,"or")}}function gg(n){if(ct(n instanceof Kt||n instanceof ln),n instanceof Kt)return n;const e=n.getFilters();if(1===e.length)return gg(e[0]);if(NI(n))return n;const t=e.map(o=>gg(o)),r=[];return t.forEach(o=>{o instanceof Kt?r.push(o):o instanceof ln&&(o.op===n.op?r.push(...o.filters):r.push(o))}),1===r.length?r[0]:ln.create(r,n.op)}class hC{constructor(){this.rn=new tw}addToCollectionParentIndex(e,t){return this.rn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(fs.min())}updateCollectionGroup(e,t,r){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class tw{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Rn(Yt.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Rn(Yt.comparator)).toArray()}}const By=new Uint8Array(0);class fC{constructor(e,t){this.user=e,this.databaseId=t,this.on=new tw,this.un=new Nu(r=>Ou(r),(r,o)=>ad(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:r,parent:Oi(o)};return mg(e).put(u)}return ee.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[uI(t),""],!1,!0);return mg(e).j(o).next(u=>{for(const c of u){if(c.collectionId!==t)break;r.push(so(c.parent))}return r})}addFieldIndex(e,t){const r=yg(e),o={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var c;delete o.indexId;const u=r.add(o);if(t.indexState){const c=Ql(e);return u.next(m=>{c.put(uC(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=yg(e),o=Ql(e),u=jy(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=jy(e);let o=!0;const u=new Map;return ee.forEach(this.cn(t),c=>this.an(e,c).next(m=>{o&&(o=!!m),u.set(c,m)})).next(()=>{if(o){let c=Gt();const m=[];return ee.forEach(u,(w,T)=>{var M;Pe("IndexedDbIndexManager",`Using index ${M=w,`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(ht=>`${ht.fieldPath}:${ht.kind}`).join(",")}`} to execute ${Ou(t)}`);const P=function(ht,At){const Zt=ly(At);if(void 0===Zt)return null;for(const nn of vy(ht,Zt.fieldPath))switch(nn.op){case"array-contains-any":return nn.value.arrayValue.values||[];case"array-contains":return[nn.value]}return null}(T,w),G=function(ht,At){const Zt=new Map;for(const nn of rd(At))for(const ys of vy(ht,nn.fieldPath))switch(ys.op){case"==":case"in":Zt.set(nn.fieldPath.canonicalString(),ys.value);break;case"not-in":case"!=":return Zt.set(nn.fieldPath.canonicalString(),ys.value),Array.from(Zt.values())}return null}(T,w),K=function(ht,At){const Zt=[];let nn=!0;for(const ys of rd(At)){const xg=0===ys.kind?BI(ht,ys.fieldPath,ht.startAt):jI(ht,ys.fieldPath,ht.startAt);Zt.push(xg.value),nn&&(nn=xg.inclusive)}return new $l(Zt,nn)}(T,w),Ce=function(ht,At){const Zt=[];let nn=!0;for(const ys of rd(At)){const xg=0===ys.kind?jI(ht,ys.fieldPath,ht.endAt):BI(ht,ys.fieldPath,ht.endAt);Zt.push(xg.value),nn&&(nn=xg.inclusive)}return new $l(Zt,nn)}(T,w),Ne=this.hn(w,T,K),Ve=this.hn(w,T,Ce),lt=this.ln(w,T,G),Pt=this.fn(w.indexId,P,Ne,K.inclusive,Ve,Ce.inclusive,lt);return ee.forEach(Pt,ht=>r.H(ht,t.limit).next(At=>{At.forEach(Zt=>{const nn=ze.fromSegments(Zt.documentKey);c.has(nn)||(c=c.add(nn),m.push(nn))})}))}).next(()=>m)}return ee.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:yS(ln.create(e.filters,"and")).map(r=>yy(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,o,u,c,m){const w=(null!=t?t.length:1)*Math.max(r.length,u.length),T=w/(null!=t?t.length:1),M=[];for(let P=0;P<w;++P){const G=t?this.dn(t[P/T]):By,K=this.wn(e,G,r[P%T],o),Ce=this._n(e,G,u[P%T],c),Ne=m.map(Ve=>this.wn(e,G,Ve,!0));M.push(...this.createRange(K,Ce,Ne))}return M}wn(e,t,r,o){const u=new nf(e,ze.empty(),t,r);return o?u:u.Je()}_n(e,t,r,o){const u=new nf(e,ze.empty(),t,r);return o?u.Je():u}an(e,t){const r=new mS(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{let c=null;for(const m of u)r.tn(m)&&(!c||m.fields.length>c.fields.length)&&(c=m);return c})}getIndexType(e,t){let r=2;const o=this.cn(t);return ee.forEach(o,u=>this.an(e,u).next(c=>{c?0!==r&&c.fields.length<function(m){let w=new Rn(hr.comparator),T=!1;for(const M of m.filters)for(const P of M.getFlattenedFilters())P.field.isKeyField()||("array-contains"===P.op||"array-contains-any"===P.op?T=!0:w=w.add(P.field));for(const M of m.orderBy)M.field.isKeyField()||(w=w.add(M.field));return w.size+(T?1:0)}(u)&&(r=1):r=0})).next(()=>null!==t.limit&&o.length>1&&2===r?1:r)}mn(e,t){const r=new Vy;for(const o of rd(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const c=r.He(o.kind);ku.Ve._e(u,c)}return r.Qe()}dn(e){const t=new Vy;return ku.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new Vy;return ku.Ve._e(od(this.databaseId,t),r.He(function(o){const u=rd(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let o=[];o.push(new Vy);let u=0;for(const c of rd(e)){const m=r[u++];for(const w of o)if(this.yn(t,c.fieldPath)&&Zp(m))o=this.pn(o,c,m);else{const T=w.He(c.kind);ku.Ve._e(m,T)}}return this.In(o)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const o=[...e],u=[];for(const c of r.arrayValue.values||[])for(const m of o){const w=new Vy;w.seed(m.Qe()),ku.Ve._e(c,w.He(t.kind)),u.push(w)}return u}yn(e,t){return!!e.filters.find(r=>r instanceof Kt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=yg(e),o=Ql(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(u=>{const c=[];return ee.forEach(u,m=>o.get([m.indexId,this.uid]).next(w=>{c.push(function(T,M){const P=M?new Lp(M.sequenceNumber,new fs(ef(M.readTime),new ze(so(M.documentKey)),M.largestBatchId)):Lp.empty(),G=T.fields.map(([K,Ce])=>new cy(hr.fromServerFormat(K),Ce));return new uy(T.indexId,T.collectionGroup,G,P)}(m,w))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:xt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=yg(e),u=Ql(e);return this.Tn(e).next(c=>o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>ee.forEach(m,w=>u.put(uC(w.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return ee.forEach(t,(o,u)=>{const c=r.get(o.collectionGroup);return(c?ee.resolve(c):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),ee.forEach(m,w=>this.En(e,o,w).next(T=>{const M=this.An(u,w);return T.isEqual(M)?ee.resolve():this.vn(e,u,w,T,M)}))))})}Rn(e,t,r,o){return jy(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,o){return jy(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const o=jy(e);let u=new Rn(pd);return o.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(c,m)=>{u=u.add(new nf(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}An(e,t){let r=new Rn(pd);const o=this.mn(t,e);if(null==o)return r;const u=ly(t);if(null!=u){const c=e.data.field(u.fieldPath);if(Zp(c))for(const m of c.arrayValue.values||[])r=r.add(new nf(t.indexId,e.key,this.dn(m),o))}else r=r.add(new nf(t.indexId,e.key,By,o));return r}vn(e,t,r,o,u){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(m,w,T,M,P){const G=m.getIterator(),K=w.getIterator();let Ce=Bh(G),Ne=Bh(K);for(;Ce||Ne;){let Ve=!1,lt=!1;if(Ce&&Ne){const Pt=T(Ce,Ne);Pt<0?lt=!0:Pt>0&&(Ve=!0)}else null!=Ce?lt=!0:Ve=!0;Ve?(M(Ne),Ne=Bh(K)):lt?(P(Ce),Ce=Bh(G)):(Ce=Bh(G),Ne=Bh(K))}}(o,u,pd,m=>{c.push(this.Rn(e,t,r,m))},m=>{c.push(this.Pn(e,t,r,m))}),ee.waitFor(c)}Tn(e){let t=1;return Ql(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,m)=>pd(c,m)).filter((c,m,w)=>!m||0!==pd(c,w[m-1]));const o=[];o.push(e);for(const c of r){const m=pd(c,e),w=pd(c,t);if(0===m)o[0]=e.Je();else if(m>0&&w<0)o.push(c),o.push(c.Je());else if(w>0)break}o.push(t);const u=[];for(let c=0;c<o.length;c+=2){if(this.bn(o[c],o[c+1]))return[];u.push(IDBKeyRange.bound([o[c].indexId,this.uid,o[c].arrayValue,o[c].directionalValue,By,[]],[o[c+1].indexId,this.uid,o[c+1].arrayValue,o[c+1].directionalValue,By,[]]))}return u}bn(e,t){return pd(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(pC)}getMinOffset(e,t){return ee.mapArray(this.cn(t),r=>this.an(e,r).next(o=>o||st())).next(pC)}}function mg(n){return Fr(n,"collectionParents")}function jy(n){return Fr(n,"indexEntries")}function yg(n){return Fr(n,"indexConfiguration")}function Ql(n){return Fr(n,"indexState")}function pC(n){ct(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;hy(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new fs(e.readTime,e.documentKey,t)}const gC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Fi(e,Fi.DEFAULT_COLLECTION_PERCENTILE,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function mC(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],c=IDBKeyRange.only(t.batchId);let m=0;const w=r.X({range:c},(M,P,G)=>(m++,G.delete()));u.push(w.next(()=>{ct(1===m)}));const T=[];for(const M of t.mutations){const P=_I(e,M.key.path,t.batchId);u.push(o.delete(P)),T.push(M.key)}return ee.waitFor(u).next(()=>T)}function nw(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw st();e=n.noDocument}return JSON.stringify(e).length}Fi.DEFAULT_COLLECTION_PERCENTILE=10,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fi.DEFAULT=new Fi(41943040,Fi.DEFAULT_COLLECTION_PERCENTILE,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fi.DISABLED=new Fi(-1,0,0);class $y{constructor(e,t,r,o){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=o,this.Vn={}}static de(e,t,r,o){ct(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new $y(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jl(e).X({index:"userMutationsIndex",range:r},(o,u,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=rf(e),c=Jl(e);return c.add({}).next(m=>{ct("number"==typeof m);const w=new KI(m,t,r,o),T=function(G,K,Ce){const Ne=Ce.baseMutations.map(lt=>Xh(G.fe,lt)),Ve=Ce.mutations.map(lt=>Xh(G.fe,lt));return{userId:K,batchId:Ce.batchId,localWriteTimeMs:Ce.localWriteTime.toMillis(),baseMutations:Ne,mutations:Ve}}(this.serializer,this.userId,w),M=[];let P=new Rn((G,K)=>xt(G.canonicalString(),K.canonicalString()));for(const G of o){const K=_I(this.userId,G.key.path,m);P=P.add(G.key.path.popLast()),M.push(c.put(T)),M.push(u.put(K,JD))}return P.forEach(G=>{M.push(this.indexManager.addToCollectionParentIndex(e,G))}),e.addOnCommittedListener(()=>{this.Vn[m]=w.keys()}),ee.waitFor(M).next(()=>w)})}lookupMutationBatch(e,t){return Jl(e).get(t).next(r=>r?(ct(r.userId===this.userId),tf(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?ee.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Vn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Jl(e).X({index:"userMutationsIndex",range:o},(c,m,w)=>{m.userId===this.userId&&(ct(m.batchId>=r),u=tf(this.serializer,m)),w.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Jl(e).X({index:"userMutationsIndex",range:t,reverse:!0},(o,u,c)=>{r=u.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jl(e).j("userMutationsIndex",t).next(r=>r.map(o=>tf(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Vh(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return rf(e).X({range:o},(c,m,w)=>{const[T,M,P]=c,G=so(M);if(T===this.userId&&t.path.isEqual(G))return Jl(e).get(P).next(K=>{if(!K)throw st();ct(K.userId===this.userId),u.push(tf(this.serializer,K))});w.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Rn(xt);const o=[];return t.forEach(u=>{const c=Vh(this.userId,u.path),m=IDBKeyRange.lowerBound(c),w=rf(e).X({range:m},(T,M,P)=>{const[G,K,Ce]=T,Ne=so(K);G===this.userId&&u.path.isEqual(Ne)?r=r.add(Ce):P.done()});o.push(w)}),ee.waitFor(o).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=Vh(this.userId,r),c=IDBKeyRange.lowerBound(u);let m=new Rn(xt);return rf(e).X({range:c},(w,T,M)=>{const[P,G,K]=w,Ce=so(G);P===this.userId&&r.isPrefixOf(Ce)?Ce.length===o&&(m=m.add(K)):M.done()}).next(()=>this.Dn(e,m))}Dn(e,t){const r=[],o=[];return t.forEach(u=>{o.push(Jl(e).get(u).next(c=>{if(null===c)throw st();ct(c.userId===this.userId),r.push(tf(this.serializer,c))}))}),ee.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return mC(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),ee.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ee.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return rf(e).X({range:r},(u,c,m)=>{if(u[0]===this.userId){const w=so(u[1]);o.push(w)}else m.done()}).next(()=>{ct(0===o.length)})})}containsKey(e,t){return yC(e,this.userId,t)}xn(e){return _C(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function yC(n,e,t){const r=Vh(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let c=!1;return rf(n).X({range:u,Y:!0},(m,w,T)=>{const[M,P,G]=m;M===e&&P===o&&(c=!0),T.done()}).next(()=>c)}function Jl(n){return Fr(n,"mutations")}function rf(n){return Fr(n,"documentMutations")}function _C(n){return Fr(n,"mutationQueues")}class gd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new gd(0)}static Mn(){return new gd(-1)}}class Ob{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new gd(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>dt.fromTimestamp(new qn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.On(e,o)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>sf(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(ct(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return sf(e).X((c,m)=>{const w=Fy(m);w.sequenceNumber<=t&&null===r.get(w.targetId)&&(o++,u.push(this.removeTargetData(e,w)))}).next(()=>ee.waitFor(u)).next(()=>o)}forEachTarget(e,t){return sf(e).X((r,o)=>{const u=Fy(o);t(u)})}$n(e){return Nb(e).get("targetGlobalKey").next(t=>(ct(null!==t),t))}On(e,t){return Nb(e).put("targetGlobalKey",t)}Fn(e,t){return sf(e).put(Sb(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Ou(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return sf(e).X({range:o,index:"queryTargetsIndex"},(c,m,w)=>{const T=Fy(m);ad(t,T.target)&&(u=T,w.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=md(e);return t.forEach(c=>{const m=Oi(c.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,c))}),ee.waitFor(o)}removeMatchingKeys(e,t,r){const o=md(e);return ee.forEach(t,u=>{const c=Oi(u.path);return ee.waitFor([o.delete([r,c]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=md(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=md(e);let u=Gt();return o.X({range:r,Y:!0},(c,m,w)=>{const T=so(c[1]),M=new ze(T);u=u.add(M)}).next(()=>u)}containsKey(e,t){const r=Oi(t.path),o=IDBKeyRange.bound([r],[uI(r)],!1,!0);let u=0;return md(e).X({index:"documentTargetsIndex",Y:!0,range:o},([c,m],w,T)=>{0!==c&&(u++,T.done())}).next(()=>u>0)}le(e,t){return sf(e).get(t).next(r=>r?Fy(r):null)}}function sf(n){return Fr(n,"targets")}function Nb(n){return Fr(n,"targetGlobal")}function md(n){return Fr(n,"targetDocuments")}function kb([n,e],[t,r]){const o=xt(n,t);return 0===o?xt(e,r):o}class _S{constructor(e){this.Ln=e,this.buffer=new Rn(kb),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();kb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Fb{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Pe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ye.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Ul(r)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Vl(r)}yield t.Qn(3e5)}))}}class Lb{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ee.resolve(Ls.ct);const r=new _S(t);return this.jn.forEachTarget(e,o=>r.Kn(o.sequenceNumber)).next(()=>this.jn.Wn(e,o=>r.Kn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(gC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gC):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,o,u,c,m,w,T;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(P=>(P>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),o=this.params.maximumSequenceNumbersToCollect):o=P,c=Date.now(),this.nthSequenceNumber(e,o))).next(P=>(r=P,m=Date.now(),this.removeTargets(e,r,t))).next(P=>(u=P,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(P=>(T=Date.now(),oy()<=xl.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-M}ms\n\tDetermined least recently used ${o} in `+(m-c)+`ms\n\tRemoved ${u} targets in `+(w-m)+`ms\n\tRemoved ${P} documents in `+(T-w)+`ms\nTotal Duration: ${T-M}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:P})))}}class vS{constructor(e,t){this.db=e,this.garbageCollector=function Vb(n,e){return new Lb(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,o)=>t(o))}addReference(e,t,r){return rw(e,r)}removeReference(e,t,r){return rw(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return rw(e,t)}Xn(e,t){return function(r,o){let u=!1;return _C(r).Z(c=>yC(r,c,o).next(m=>(m&&(u=!0),ee.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Yn(e,(c,m)=>{if(m<=t){const w=this.Xn(e,c).next(T=>{if(!T)return u++,r.getEntry(e,c).next(()=>(r.removeEntry(c,dt.min()),md(e).delete([0,Oi(c.path)])))});o.push(w)}}).next(()=>ee.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return rw(e,t)}Yn(e,t){const r=md(e);let o,u=Ls.ct;return r.X({index:"documentTargetsIndex"},([c,m],{path:w,sequenceNumber:T})=>{0===c?(u!==Ls.ct&&t(new ze(so(o)),u),u=T,o=w):u=Ls.ct}).next(()=>{u!==Ls.ct&&t(new ze(so(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function rw(n,e){return md(n).put((r=n.currentSequenceNumber,{targetId:0,path:Oi(e.path),sequenceNumber:r}));var r}class Ub{constructor(){this.changes=new Nu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class i{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return h(e).put(r)}removeEntry(e,t,r){return h(e).delete(function(o,u){const c=o.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],ky(u),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=Un.newInvalidDocument(t);return h(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(g(t))},(o,u)=>{r=this.ts(t,u)}).next(()=>r)}es(e,t){let r={size:0,document:Un.newInvalidDocument(t)};return h(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(g(t))},(o,u)=>{r={document:this.ts(t,u),size:nw(u)}}).next(()=>r)}getEntries(e,t){let r=gs();return this.ns(e,t,(o,u)=>{const c=this.ts(o,u);r=r.insert(o,c)}).next(()=>r)}ss(e,t){let r=gs(),o=new fn(ze.comparator);return this.ns(e,t,(u,c)=>{const m=this.ts(u,c);r=r.insert(u,m),o=o.insert(u,nw(c))}).next(()=>({documents:r,rs:o}))}ns(e,t,r){if(t.isEmpty())return ee.resolve();let o=new Rn(I);t.forEach(w=>o=o.add(w));const u=IDBKeyRange.bound(g(o.first()),g(o.last())),c=o.getIterator();let m=c.getNext();return h(e).X({index:"documentKeyIndex",range:u},(w,T,M)=>{const P=ze.fromSegments([...T.prefixPath,T.collectionGroup,T.documentId]);for(;m&&I(m,P)<0;)r(m,null),m=c.getNext();m&&m.isEqual(P)&&(r(m,T),m=c.hasNext()?c.getNext():null),m?M.G(g(m)):M.done()}).next(()=>{for(;m;)r(m,null),m=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r,o){const u=t.path,c=[u.popLast().toArray(),u.lastSegment(),ky(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return h(e).j(IDBKeyRange.bound(c,m,!0)).next(w=>{let T=gs();for(const M of w){const P=this.ts(ze.fromSegments(M.prefixPath.concat(M.collectionGroup,M.documentId)),M);P.isFoundDocument()&&(Qp(t,P)||o.has(P.key))&&(T=T.insert(P.key,P))}return T})}getAllFromCollectionGroup(e,t,r,o){let u=gs();const c=v(t,r),m=v(t,fs.max());return h(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,m,!0)},(w,T,M)=>{const P=this.ts(ze.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);u=u.insert(P.key,P),u.size===o&&M.done()}).next(()=>u)}newChangeBuffer(e){return new a(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return l(e).get("remoteDocumentGlobalKey").next(t=>(ct(!!t),t))}Zn(e,t){return l(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function sC(n,e){let t;if(e.document)t=$0(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ze.fromSegments(e.noDocument.path),o=ef(e.noDocument.readTime);t=Un.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return st();{const r=ze.fromSegments(e.unknownDocument.path),o=ef(e.unknownDocument.version);t=Un.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new qn(r[0],r[1]);return dt.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(dt.min()))return r}return Un.newInvalidDocument(e)}}function s(n){return new i(n)}class a extends Ub{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Nu(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Rn((u,c)=>xt(u.canonicalString(),c.canonicalString()));return this.changes.forEach((u,c)=>{const m=this.us.get(u);if(t.push(this.os.removeEntry(e,u,m.readTime)),c.isValidDocument()){const w=oC(this.os.serializer,c);o=o.add(u.path.popLast()),r+=nw(w)-m.size,t.push(this.os.addEntry(e,u,w))}else if(r-=m.size,this.trackRemovals){const w=oC(this.os.serializer,c.convertToNoDocument(dt.min()));t.push(this.os.addEntry(e,u,w))}}),o.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,r)),ee.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:o})=>(o.forEach((u,c)=>{this.us.set(u,{size:c,readTime:r.get(u).readTime})}),r))}}function l(n){return Fr(n,"remoteDocumentGlobal")}function h(n){return Fr(n,"remoteDocumentsV14")}function g(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function v(n,e){const t=e.documentKey.path.toArray();return[n,ky(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function I(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=xt(t[u],r[u]),o)return o;return o=xt(t.length,r.length),o||(o=xt(t[t.length-2],r[r.length-2]),o||xt(t[t.length-1],r[r.length-1]))}class D{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class S{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==r&&ig(r.mutation,o,ps.empty(),qn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Gt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Gt()){const o=ao();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let c=Xp();return u.forEach((m,w)=>{c=c.insert(m,w.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=ao();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Gt()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((c,m)=>{t.set(c,m)})})}computeViews(e,t,r,o){let u=gs();const c=Kh(),m=Kh();return t.forEach((w,T)=>{const M=r.get(T.key);o.has(T.key)&&(void 0===M||M.mutation instanceof Zl)?u=u.insert(T.key,T):void 0!==M?(c.set(T.key,M.mutation.getFieldMask()),ig(M.mutation,T,M.mutation.getFieldMask(),qn.now())):c.set(T.key,ps.empty())}),this.recalculateAndSaveOverlays(e,u).next(w=>(w.forEach((T,M)=>c.set(T,M)),t.forEach((T,M)=>{var P;return m.set(T,new D(M,null!==(P=c.get(T))&&void 0!==P?P:null))}),m))}recalculateAndSaveOverlays(e,t){const r=Kh();let o=new fn((c,m)=>c-m),u=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const m of c)m.keys().forEach(w=>{const T=t.get(w);if(null===T)return;let M=r.get(w)||ps.empty();M=m.applyToLocalView(T,M),r.set(w,M);const P=(o.get(m.batchId)||Gt()).add(w);o=o.insert(m.batchId,P)})}).next(()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const w=m.getNext(),T=w.key,M=w.value,P=D0();M.forEach(G=>{if(!u.has(G)){const K=O0(t.get(G),r.get(G));null!==K&&P.set(G,K),u=u.add(G)}}),c.push(this.documentOverlayCache.saveOverlays(e,T,P))}return ee.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return ze.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):w0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):ee.resolve(ao());let m=-1,w=u;return c.next(T=>ee.forEach(T,(M,P)=>(m<P.largestBatchId&&(m=P.largestBatchId),u.get(M)?ee.resolve():this.remoteDocumentCache.getEntry(e,M).next(G=>{w=w.insert(M,G)}))).next(()=>this.populateOverlays(e,T,u)).next(()=>this.computeViews(e,w,T,Gt())).next(M=>({batchId:m,changes:HI(M)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ze(t)).next(r=>{let o=Xp();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let u=Xp();return this.indexManager.getCollectionParents(e,o).next(c=>ee.forEach(c,m=>{const w=(T=t,M=m.child(o),new Va(M,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,M;return this.getDocumentsMatchingCollectionQuery(e,w,r).next(T=>{T.forEach((M,P)=>{u=u.insert(M,P)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o))).next(u=>{o.forEach((m,w)=>{const T=w.getKey();null===u.get(T)&&(u=u.insert(T,Un.newInvalidDocument(T)))});let c=Xp();return u.forEach((m,w)=>{const T=o.get(m);void 0!==T&&ig(T.mutation,w,ps.empty(),qn.now()),Qp(t,w)&&(c=c.insert(m,w))}),c})}}class R{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ee.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:vr(r.createTime)}),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:aC(r.bundledQuery),readTime:vr(r.readTime)}),ee.resolve();var r}}class F{constructor(){this.overlays=new fn(ze.comparator),this.ls=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ao();return ee.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.we(e,t,u)}),ee.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.ls.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),ee.resolve()}getOverlaysForCollection(e,t,r){const o=ao(),u=t.length+1,c=new ze(t.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const w=m.getNext().value,T=w.getKey();if(!t.isPrefixOf(T.path))break;T.path.length===u&&w.largestBatchId>r&&o.set(w.getKey(),w)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new fn((T,M)=>T-M);const c=this.overlays.getIterator();for(;c.hasNext();){const T=c.getNext().value;if(T.getKey().getCollectionGroup()===t&&T.largestBatchId>r){let M=u.get(T.largestBatchId);null===M&&(M=ao(),u=u.insert(T.largestBatchId,M)),M.set(T.getKey(),T)}}const m=ao(),w=u.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((T,M)=>m.set(T,M)),!(m.size()>=o)););return ee.resolve(m)}we(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const c=this.ls.get(o.largestBatchId).delete(r.key);this.ls.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new YI(t,r));let u=this.ls.get(t);void 0===u&&(u=Gt(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class B{constructor(){this.fs=new Rn(z.ds),this.ws=new Rn(z._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new z(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new z(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new ze(new Yt([])),r=new z(t,e),o=new z(t,e+1),u=[];return this.ws.forEachInRange([r,o],c=>{this.ys(c),u.push(c.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new ze(new Yt([])),r=new z(t,e),o=new z(t,e+1);let u=Gt();return this.ws.forEachInRange([r,o],c=>{u=u.add(c.key)}),u}containsKey(e){const t=new z(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class z{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return ze.comparator(e.key,t.key)||xt(e.As,t.As)}static _s(e,t){return xt(e.As,t.As)||ze.comparator(e.key,t.key)}}class _e{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Rn(z.ds)}checkEmpty(e){return ee.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const u=this.vs;this.vs++;const c=new KI(u,t,r,o);this.mutationQueue.push(c);for(const m of o)this.Rs=this.Rs.add(new z(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(c)}lookupMutationBatch(e,t){return ee.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.bs(t+1),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new z(t,0),o=new z(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,o],c=>{const m=this.Ps(c.As);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Rn(xt);return t.forEach(o=>{const u=new z(o,0),c=new z(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,c],m=>{r=r.add(m.As)})}),ee.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;ze.isDocumentKey(u)||(u=u.child(""));const c=new z(new ze(u),0);let m=new Rn(xt);return this.Rs.forEachWhile(w=>{const T=w.key.path;return!!r.isPrefixOf(T)&&(T.length===o&&(m=m.add(w.As)),!0)},c),ee.resolve(this.Vs(m))}Vs(e){const t=[];return e.forEach(r=>{const o=this.Ps(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){ct(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ee.forEach(t.mutations,o=>{const u=new z(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new z(t,0),o=this.Rs.firstAfterOrEqual(r);return ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return ee.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Be{constructor(e){this.Ds=e,this.docs=new fn(ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,c=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ee.resolve(r?r.document.mutableCopy():Un.newInvalidDocument(t))}getEntries(e,t){let r=gs();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Un.newInvalidDocument(o))}),ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let u=gs();const c=t.path,m=new ze(c.child("")),w=this.docs.getIteratorFrom(m);for(;w.hasNext();){const{key:T,value:{document:M}}=w.getNext();if(!c.isPrefixOf(T.path))break;T.path.length>c.length+1||hy(dI(M),r)<=0||(o.has(M.key)||Qp(t,M))&&(u=u.insert(M.key,M.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,t,r,o){st()}Cs(e,t){return ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Ye(this)}getSize(e){return ee.resolve(this.size)}}class Ye extends Ub{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.os.addEntry(e,o)):this.os.removeEntry(r)}),ee.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class ut{constructor(e){this.persistence=e,this.xs=new Nu(t=>Ou(t),ad),this.lastRemoteSnapshotVersion=dt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new B,this.targetCount=0,this.Ms=gd.kn()}forEachTarget(e,t){return this.xs.forEach((r,o)=>t(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),ee.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new gd(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Fn(t),ee.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.xs.forEach((c,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.xs.delete(c),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return ee.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),ee.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(c=>{u.push(o.markPotentiallyOrphaned(e,c))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return ee.resolve(r)}containsKey(e,t){return ee.resolve(this.ks.containsKey(t))}}class be{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ls(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new ut(this),this.indexManager=new hC,this.remoteDocumentCache=new Be(r=>this.referenceDelegate.Ls(r)),this.serializer=new Ab(t),this.qs=new R(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new F,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new _e(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const o=new yt(this.Os.next());return this.referenceDelegate.Us(),r(o).next(u=>this.referenceDelegate.Ks(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Gs(e,t){return ee.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class yt extends fI{constructor(e){super(),this.currentSequenceNumber=e}}class qt{constructor(e){this.persistence=e,this.Qs=new B,this.js=null}static zs(e){return new qt(e)}get Ws(){if(this.js)return this.js;throw st()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),ee.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(o=>this.Ws.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Ws,r=>{const o=ze.fromPath(r);return this.Hs(e,o).next(u=>{u||t.removeEntry(o,dt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ee.or([()=>ee.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Us{constructor(e){this.serializer=e}O(e,t,r,o){const u=new Up("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",n0,{unique:!0}),m.createObjectStore("documentMutations"),Xl(e),function(m){m.createObjectStore("remoteDocuments")}(e));let c=ee.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),Xl(e)),c=c.next(()=>function(m){const w=m.store("targetGlobal"),T={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:dt.min().toTimestamp(),targetCount:0};return w.put("targetGlobalKey",T)}(u))),r<4&&o>=4&&(0!==r&&(c=c.next(()=>function(m,w){return w.store("mutations").j().next(T=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",n0,{unique:!0});const M=w.store("mutations"),P=T.map(G=>M.put(G));return ee.waitFor(P)})}(e,u))),c=c.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(c=c.next(()=>this.Ys(u))),r<6&&o>=6&&(c=c.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),r<7&&o>=7&&(c=c.next(()=>this.Zs(u))),r<8&&o>=8&&(c=c.next(()=>this.ti(e,u))),r<9&&o>=9&&(c=c.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(c=c.next(()=>this.ei(u))),r<11&&o>=11&&(c=c.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(c=c.next(()=>{!function(m){const w=m.createObjectStore("documentOverlays",{keyPath:Uh});w.createIndex("collectionPathOverlayIndex",Hp,{unique:!1}),w.createIndex("collectionGroupOverlayIndex",ib,{unique:!1})}(e)})),r<13&&o>=13&&(c=c.next(()=>function(m){const w=m.createObjectStore("remoteDocumentsV14",{keyPath:r0});w.createIndex("documentKeyIndex",XD),w.createIndex("collectionGroupIndex",vI)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(c=c.next(()=>this.si(e,u))),r<15&&o>=15&&(c=c.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:dS}).createIndex("sequenceNumberIndex",nb,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:$p}).createIndex("documentKeyIndex",rb,{unique:!1})}(e))),c}Xs(e){let t=0;return e.store("remoteDocuments").X((r,o)=>{t+=nw(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(o=>ee.forEach(o,u=>{const c=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",c).next(m=>ee.forEach(m,w=>{ct(w.userId===u.userId);const T=tf(this.serializer,w);return mC(e,u.userId,T).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.X((c,m)=>{const w=new Yt(c),T=[0,Oi(w)];u.push(t.get(T).next(M=>M?ee.resolve():t.put({targetId:0,path:Oi(w),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>ee.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:EI});const r=t.store("collectionParents"),o=new tw,u=c=>{if(o.add(c)){const m=c.lastSegment(),w=c.popLast();return r.put({collectionId:m,parent:Oi(w)})}};return t.store("remoteDocuments").X({Y:!0},(c,m)=>{const w=new Yt(c);return u(w.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([c,m,w],T)=>{const M=so(m);return u(M.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,o)=>{const u=Fy(o),c=Sb(this.serializer,u);return t.put(c)})}ni(e,t){const r=t.store("remoteDocuments"),o=[];return r.X((u,c)=>{const m=t.store("remoteDocumentsV14"),w=(T=c,T.document?new ze(Yt.fromString(T.document.name).popFirst(5)):T.noDocument?ze.fromSegments(T.noDocument.path):T.unknownDocument?ze.fromSegments(T.unknownDocument.path):st()).path.toArray();var T;const M={prefixPath:w.slice(0,w.length-2),collectionGroup:w[w.length-2],documentId:w[w.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};o.push(m.put(M))}).next(()=>ee.waitFor(o))}si(e,t){const r=t.store("mutations"),o=s(this.serializer),u=new be(qt.zs,this.serializer.fe);return r.j().next(c=>{const m=new Map;return c.forEach(w=>{var T;let M=null!==(T=m.get(w.userId))&&void 0!==T?T:Gt();tf(this.serializer,w).keys().forEach(P=>M=M.add(P)),m.set(w.userId,M)}),ee.forEach(m,(w,T)=>{const M=new zr(T),P=pg.de(this.serializer,M),G=u.getIndexManager(M),K=$y.de(M,this.serializer,G,u.referenceDelegate);return new S(o,K,P,G).recalculateAndSaveOverlaysForDocumentKeys(new s0(t,Ls.ct),w).next()})})}}function Xl(n){n.createObjectStore("targetDocuments",{keyPath:wI}).createIndex("documentTargetsIndex",tb,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",eb,{unique:!0}),n.createObjectStore("targetGlobal")}const _g="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class vg{constructor(e,t,r,o,u,c,m,w,T,M,P=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=u,this.window=c,this.document=m,this.ri=T,this.oi=M,this.ui=P,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=G=>Promise.resolve(),!vg.D())throw new Ae(re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vS(this,o),this.di=t+"main",this.serializer=new Ab(w),this.wi=new Go(this.di,this.ui,new Us(this.serializer)),this.Bs=new Ob(this.referenceDelegate,this.serializer),this.remoteDocumentCache=s(this.serializer),this.qs=new xb,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===M&&Vn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ae(re.FAILED_PRECONDITION,_g);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Ls(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,ye.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,ye.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>of(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Ul(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return yd(e).get("owner").next(t=>ee.resolve(this.Ri(t)))}Pi(e){return of(e).delete(this.clientId)}bi(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Fr(r,"clientMetadata");return o.j().next(u=>{const c=e.Si(u,18e5),m=u.filter(w=>-1===c.indexOf(w));return ee.forEach(m,w=>o.delete(w.clientId)).next(()=>m)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ee.resolve(!0):yd(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Ae(re.FAILED_PRECONDITION,_g);return!1}}return!(!this.networkEnabled||!this.inForeground)||of(e).j().next(r=>void 0===this.Si(r,5e3).find(o=>{if(this.clientId!==o.clientId){const c=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||c&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new s0(t,Ls.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>of(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return $y.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new fC(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return pg.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Pe("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=15===(c=this.ui)?ob:14===c?DI:13===c?CI:12===c?II:11===c?sb:void st();var c;let m;return this.wi.runTransaction(e,o,u,w=>(m=new s0(w,this.Os?this.Os.next():Ls.ct),"readwrite-primary"===t?this.Ti(m).next(T=>!!T||this.Ei(m)).next(T=>{if(!T)throw Vn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Ae(re.FAILED_PRECONDITION,hI);return r(m)}).next(T=>this.vi(m).next(()=>T)):this.Oi(m).next(()=>r(m)))).then(w=>(m.raiseOnCommittedEvent(),w))}Oi(e){return yd(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ae(re.FAILED_PRECONDITION,_g)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return yd(e).put("owner",t)}static D(){return Go.D()}Ai(e){const t=yd(e);return t.get("owner").next(r=>this.Ri(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ee.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Vn(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,an.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Vn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Vn("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function yd(n){return Fr(n,"owner")}function of(n){return Fr(n,"clientMetadata")}function wg(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Eg{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=o}static Li(e,t){let r=Gt(),o=Gt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Eg(e,t.fromCache,r,o)}}class Hy{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Ki(e,t).next(u=>u||this.Gi(e,t,o,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(v0(t))return ee.resolve(null);let r=Ni(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=Yp(t,null,"F"),r=Ni(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const c=Gt(...u);return this.Ui.getDocuments(e,c).next(m=>this.indexManager.getMinOffset(e,r).next(w=>{const T=this.ji(t,m);return this.zi(t,T,c,w.readTime)?this.Ki(e,Yp(t,null,"F")):this.Wi(e,T,t,w)}))})))}Gi(e,t,r,o){return v0(t)||o.isEqual(dt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const c=this.ji(t,u);return this.zi(t,c,r,o)?this.Qi(e,t):(oy()<=xl.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Gl(t)),this.Wi(e,c,t,dy(o,-1)))})}ji(e,t){let r=new Rn(db(e));return t.forEach((o,u)=>{Qp(e,u)&&(r=r.add(u))}),r}zi(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Qi(e,t){return oy()<=xl.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",Gl(t)),this.Ui.getDocumentsMatchingQuery(e,t,fs.min())}Wi(e,t,r,o){return this.Ui.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(c=>{u=u.insert(c.key,c)}),u))}}class iw{constructor(e,t,r,o){this.persistence=e,this.Hi=t,this.serializer=o,this.Ji=new fn(xt),this.Yi=new Nu(u=>Ou(u),ad),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new S(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Gy(n,e,t,r){return new iw(n,e,t,r)}function wS(n,e){return Bb.apply(this,arguments)}function Bb(){return Bb=(0,ye.Z)(function*(n,e){const t=Qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const c=[],m=[];let w=Gt();for(const T of o){c.push(T.batchId);for(const M of T.mutations)w=w.add(M.key)}for(const T of u){m.push(T.batchId);for(const M of T.mutations)w=w.add(M.key)}return t.localDocuments.getDocuments(r,w).next(T=>({er:T,removedBatchIds:c,addedBatchIds:m}))})})}),Bb.apply(this,arguments)}function VM(n,e){const t=Qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(c,m,w,T){const M=w.batch,P=M.keys();let G=ee.resolve();return P.forEach(K=>{G=G.next(()=>T.getEntry(m,K)).next(Ce=>{const Ne=w.docVersions.get(K);ct(null!==Ne),Ce.version.compareTo(Ne)<0&&(M.applyToRemoteDocument(Ce,w),Ce.isValidDocument()&&(Ce.setReadTime(w.commitVersion),T.addEntry(Ce)))})}),G.next(()=>c.mutationQueue.removeMutationBatch(m,M))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let m=Gt();for(let w=0;w<c.mutationResults.length;++w)c.mutationResults[w].transformResults.length>0&&(m=m.add(c.batch.mutations[w].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function ES(n){const e=Qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function UM(n,e){const t=Qe(n),r=e.snapshotVersion;let o=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=t.Zi.newChangeBuffer({trackRemovals:!0});o=t.Ji;const m=[];e.targetChanges.forEach((M,P)=>{const G=o.get(P);if(!G)return;m.push(t.Bs.removeMatchingKeys(u,M.removedDocuments,P).next(()=>t.Bs.addMatchingKeys(u,M.addedDocuments,P)));let K=G.withSequenceNumber(u.currentSequenceNumber);var Ce,Ne,Ve;null!==e.targetMismatches.get(P)?K=K.withResumeToken(Kr.EMPTY_BYTE_STRING,dt.min()).withLastLimboFreeSnapshotVersion(dt.min()):M.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(M.resumeToken,r)),o=o.insert(P,K),Ne=K,Ve=M,(0===(Ce=G).resumeToken.approximateByteSize()||Ne.snapshotVersion.toMicroseconds()-Ce.snapshotVersion.toMicroseconds()>=3e8||Ve.addedDocuments.size+Ve.modifiedDocuments.size+Ve.removedDocuments.size>0)&&m.push(t.Bs.updateTargetData(u,K))});let w=gs(),T=Gt();if(e.documentUpdates.forEach(M=>{e.resolvedLimboDocuments.has(M)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,M))}),m.push(IS(u,c,e.documentUpdates).next(M=>{w=M.nr,T=M.sr})),!r.isEqual(dt.min())){const M=t.Bs.getLastRemoteSnapshotVersion(u).next(P=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(M)}return ee.waitFor(m).next(()=>c.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,w,T)).next(()=>w)}).then(u=>(t.Ji=o,u))}function IS(n,e,t){let r=Gt(),o=Gt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let c=gs();return t.forEach((m,w)=>{const T=u.get(m);w.isFoundDocument()!==T.isFoundDocument()&&(o=o.add(m)),w.isNoDocument()&&w.version.isEqual(dt.min())?(e.removeEntry(m,w.readTime),c=c.insert(m,w)):!T.isValidDocument()||w.version.compareTo(T.version)>0||0===w.version.compareTo(T.version)&&T.hasPendingWrites?(e.addEntry(w),c=c.insert(m,w)):Pe("LocalStore","Ignoring outdated watch update for ",m,". Current version:",T.version," Watch version:",w.version)}),{nr:c,sr:o}})}function BM(n,e){const t=Qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qy(n,e){const t=Qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Bs.getTargetData(r,e).next(u=>u?(o=u,ee.resolve(o)):t.Bs.allocateTargetId(r).next(c=>(o=new Kl(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ji.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function Zy(n,e,t){return jb.apply(this,arguments)}function jb(){return jb=(0,ye.Z)(function*(n,e,t){const r=Qe(n),o=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Ul(c))throw c;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(o.target)}),jb.apply(this,arguments)}function vC(n,e,t){const r=Qe(n);let o=dt.min(),u=Gt();return r.persistence.runTransaction("Execute query","readonly",c=>function(m,w,T){const M=Qe(m),P=M.Yi.get(T);return void 0!==P?ee.resolve(M.Ji.get(P)):M.Bs.getTargetData(w,T)}(r,c,Ni(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(c,m.targetId).next(w=>{u=w})}).next(()=>r.Hi.getDocumentsMatchingQuery(c,e,t?o:dt.min(),t?u:Gt())).next(m=>(bS(r,$I(e),m),{documents:m,ir:u})))}function CS(n,e){const t=Qe(n),r=Qe(t.Bs),o=t.Ji.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.le(u,e).next(c=>c?c.target:null))}function DS(n,e){const t=Qe(n),r=t.Xi.get(e)||dt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Zi.getAllFromCollectionGroup(o,e,dy(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(bS(t,e,o),o))}function bS(n,e,t){let r=n.Xi.get(e)||dt.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}function $b(){return $b=(0,ye.Z)(function*(n,e,t,r){const o=Qe(n);let u=Gt(),c=gs();for(const T of t){const M=e.rr(T.metadata.name);T.document&&(u=u.add(M));const P=e.ur(T);P.setReadTime(e.cr(T.metadata.readTime)),c=c.insert(M,P)}const m=o.Zi.newChangeBuffer({trackRemovals:!0}),w=yield qy(o,(T=r,Ni(ud(Yt.fromString(`__bundle__/docs/${T}`)))));var T;return o.persistence.runTransaction("Apply bundle documents","readwrite",T=>IS(T,m,c).next(M=>(m.apply(T),M)).next(M=>o.Bs.removeMatchingKeysForTargetId(T,w.targetId).next(()=>o.Bs.addMatchingKeys(T,u,w.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(T,M.nr,M.sr)).next(()=>M.nr)))}),$b.apply(this,arguments)}function $M(n,e){return Hb.apply(this,arguments)}function Hb(){return Hb=(0,ye.Z)(function*(n,e,t=Gt()){const r=yield qy(n,Ni(aC(e.bundledQuery))),o=Qe(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const c=vr(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return o.qs.saveNamedQuery(u,e);const m=r.withResumeToken(Kr.EMPTY_BYTE_STRING,c);return o.Ji=o.Ji.insert(m.targetId,m),o.Bs.updateTargetData(u,m).next(()=>o.Bs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.Bs.addMatchingKeys(u,t,r.targetId)).next(()=>o.qs.saveNamedQuery(u,e))})}),Hb.apply(this,arguments)}function TS(n,e){return`firestore_clients_${n}_${e}`}function AS(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Gb(n,e){return`firestore_targets_${n}_${e}`}class wC{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static ar(e,t,r){const o=JSON.parse(r);let u,c="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return c&&o.error&&(c="string"==typeof o.error.message&&"string"==typeof o.error.code,c&&(u=new Ae(o.error.code,o.error.message))),c?new wC(e,t,o.state,u):(Vn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Ae(r.error.code,r.error.message))),u?new sw(e,r.state,o):(Vn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class EC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=T0();for(let c=0;o&&c<r.activeTargetIds.length;++c)o=yI(r.activeTargetIds[c]),u=u.add(r.activeTargetIds[c]);return o?new EC(e,u):(Vn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class qb{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new qb(t.clientId,t.onlineState):(Vn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Zb{constructor(){this.activeTargetIds=T0()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zb{constructor(e,t,r,o,u){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new fn(xt),this.started=!1,this.yr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=TS(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Zb),this.Tr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.$i();for(const o of t){if(o===e.wr)continue;const u=e.getItem(TS(e.persistenceKey,o));if(u){const c=EC.ar(o,u);c&&(e.gr=e.gr.insert(c.clientId,c))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const o=e.br(r);o&&e.Vr(o)}for(const o of e.yr)e.mr(o);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Gb(this.persistenceKey,e));if(r){const o=sw.ar(e,r);o&&(t=o.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Gb(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Cr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Vn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const o=t.Or(r.key);return t.Fr(o,null)}{const o=t.Br(r.key,r.newValue);if(o)return t.Fr(o.clientId,o)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const o=t.Lr(r.key,r.newValue);if(o)return t.qr(o)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const o=t.Ur(r.key,r.newValue);if(o)return t.Kr(o)}}else if(r.key===t.vr){if(null!==r.newValue){const o=t.br(r.newValue);if(o)return t.Vr(o)}}else if(r.key===t.Ir){const o=function(u){let c=Ls.ct;if(null!=u)try{const m=JSON.parse(u);ct("number"==typeof m),c=m}catch(m){Vn("SharedClientState","Failed to read sequence number from WebStorage",m)}return c}(r.newValue);o!==Ls.ct&&t.sequenceNumberHandler(o)}else if(r.key===t.Rr){const o=t.Gr(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const o=new wC(this.currentUser,e,t,r),u=AS(this.persistenceKey,this.currentUser,e);this.setItem(u,o.hr())}Cr(e){const t=AS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const o=Gb(this.persistenceKey,e),u=new sw(e,t,r);this.setItem(o,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return EC.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),o=Number(r[1]);return wC.ar(new zr(void 0!==r[2]?r[2]:null),o,t)}Ur(e,t){const r=this.Ar.exec(e),o=Number(r[1]);return sw.ar(o,t)}br(e){return qb.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),o=this.Sr(this.gr),u=this.Sr(r),c=[],m=[];return u.forEach(w=>{o.has(w)||c.push(w)}),o.forEach(w=>{u.has(w)||m.push(w)}),this.syncEngine.Wr(c,m).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=T0();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class SS{constructor(){this.Hr=new Zb,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Zb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class HM{Yr(e){}shutdown(){}}class xS{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let IC=null;function Wb(){return null===IC?IC=268435456+Math.round(2147483648*Math.random()):IC++,"0x"+IC.toString(16)}const GM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qM{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ms="WebChannelConnection";class ZM extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,o,u){const c=Wb(),m=this.To(e,t);Pe("RestConnection",`Sending RPC '${e}' ${c}:`,m,r);const w={};return this.Eo(w,o,u),this.Ao(e,m,w,r).then(T=>(Pe("RestConnection",`Received RPC '${e}' ${c}: `,T),T),T=>{throw Pi("RestConnection",`RPC '${e}' ${c} failed with error: `,T,"url: ",m,"request:",r),T})}vo(e,t,r,o,u,c){return this.Io(e,t,r,o,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Su,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}To(e,t){return`${this.mo}/v1/${t}:${GM[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,o){const u=Wb();return new Promise((c,m)=>{const w=new qD;w.setWithCredentials(!0),w.listenOnce(nI.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case iy.NO_ERROR:const M=w.getResponseJson();Pe(ms,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(M)),c(M);break;case iy.TIMEOUT:Pe(ms,`RPC '${e}' ${u} timed out`),m(new Ae(re.DEADLINE_EXCEEDED,"Request time out"));break;case iy.HTTP_ERROR:const P=w.getStatus();if(Pe(ms,`RPC '${e}' ${u} failed with status:`,P,"response text:",w.getResponseText()),P>0){let G=w.getResponseJson();Array.isArray(G)&&(G=G[0]);const K=null==G?void 0:G.error;if(K&&K.status&&K.message){const Ce=function(Ne){const Ve=Ne.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(Ve)>=0?Ve:re.UNKNOWN}(K.status);m(new Ae(Ce,K.message))}else m(new Ae(re.UNKNOWN,"Server responded with status "+w.getStatus()))}else m(new Ae(re.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Pe(ms,`RPC '${e}' ${u} completed.`)}});const T=JSON.stringify(o);Pe(ms,`RPC '${e}' ${u} sending request:`,o),w.send(t,"POST",T,r,15)})}Ro(e,t,r){const o=Wb(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=$D(),m=HD(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},T=this.longPollingOptions.timeoutSeconds;void 0!==T&&(w.longPollingTimeout=Math.round(1e3*T)),this.useFetchStreams&&(w.xmlHttpFactory=new GD({})),this.Eo(w.initMessageHeaders,t,r),w.encodeInitMessageHeaders=!0;const M=u.join("");Pe(ms,`Creating RPC '${e}' stream ${o}: ${M}`,w);const P=c.createWebChannel(M,w);let G=!1,K=!1;const Ce=new qM({ro:Ve=>{K?Pe(ms,`Not sending because RPC '${e}' stream ${o} is closed:`,Ve):(G||(Pe(ms,`Opening RPC '${e}' stream ${o} transport.`),P.open(),G=!0),Pe(ms,`RPC '${e}' stream ${o} sending:`,Ve),P.send(Ve))},oo:()=>P.close()}),Ne=(Ve,lt,Pt)=>{Ve.listen(lt,ht=>{try{Pt(ht)}catch(At){setTimeout(()=>{throw At},0)}})};return Ne(P,sy.EventType.OPEN,()=>{K||Pe(ms,`RPC '${e}' stream ${o} transport opened.`)}),Ne(P,sy.EventType.CLOSE,()=>{K||(K=!0,Pe(ms,`RPC '${e}' stream ${o} transport closed`),Ce.wo())}),Ne(P,sy.EventType.ERROR,Ve=>{K||(K=!0,Pi(ms,`RPC '${e}' stream ${o} transport errored:`,Ve),Ce.wo(new Ae(re.UNAVAILABLE,"The operation could not be completed")))}),Ne(P,sy.EventType.MESSAGE,Ve=>{var lt;if(!K){const Pt=Ve.data[0];ct(!!Pt);const ht=Pt,At=ht.error||(null===(lt=ht[0])||void 0===lt?void 0:lt.error);if(At){Pe(ms,`RPC '${e}' stream ${o} received error:`,At);const Zt=At.status;let nn=function(xg){const xM=_r[xg];if(void 0!==xM)return Dy(xM)}(Zt),ys=At.message;void 0===nn&&(nn=re.INTERNAL,ys="Unknown error status: "+Zt+" with message "+At.message),K=!0,Ce.wo(new Ae(nn,ys)),P.close()}else Pe(ms,`RPC '${e}' stream ${o} received:`,Pt),Ce._o(Pt)}}),Ne(m,rI.STAT_EVENT,Ve=>{Ve.stat===Qv.PROXY?Pe(ms,`RPC '${e}' stream ${o} detected buffering proxy`):Ve.stat===Qv.NOPROXY&&Pe(ms,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Ce.fo()},0),Ce}}function MS(){return"undefined"!=typeof window?window:null}function CC(){return"undefined"!=typeof document?document:null}function ow(n){return new Eb(n,!0)}class Kb{constructor(e,t,r=1e3,o=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=o,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),o=Math.max(0,t-r);o>0&&Pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class RS{constructor(e,t,r,o,u,c,m,w){this.ii=e,this.$o=r,this.Oo=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=w,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Kb(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ye.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ye.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,ye.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(Vn(t.toString()),Vn("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===re.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Fo===t&&this.Zo(r,o)},r=>{e(()=>{const o=new Ae(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(o)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{r(()=>this.tu(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Go(){var e=this;this.state=5,this.qo.No((0,ye.Z)(function*(){e.state=0,e.start()}))}tu(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zM extends RS{constructor(e,t,r,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,c),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Db(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:st(),o=e.targetChange.targetIds||[],u=function(w,T){return w.useProto3Json?(ct(void 0===T||"string"==typeof T),Kr.fromBase64String(T||"")):(ct(void 0===T||T instanceof Uint8Array),Kr.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&function(w){const T=void 0===w.code?re.UNKNOWN:Dy(w.code);return new Ae(T,w.message||"")}(c);t=new JI(r,o,u,m||null)}else if("documentChange"in e){const r=e.documentChange,o=Ua(n,r.document.name),u=vr(r.document.updateTime),c=r.document.createTime?vr(r.document.createTime):dt.min(),m=new di({mapValue:{fields:r.document.fields}}),w=Un.newFoundDocument(o,u,c,m);t=new My(r.targetIds||[],r.removedTargetIds||[],w.key,w)}else if("documentDelete"in e){const r=e.documentDelete,o=Ua(n,r.document),u=r.readTime?vr(r.readTime):dt.min(),c=Un.newNoDocument(o,u);t=new My([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,o=Ua(n,r.document);t=new My([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return st();{const r=e.filter,{count:o=0,unchangedNames:u}=r,c=new Jh(o,u);t=new Ry(r.targetId,c)}}var w;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return dt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?dt.min():u.readTime?vr(u.readTime):dt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=dg(this.serializer),t.addTarget=function(o,u){let c;const m=u.target;if(c=_y(m)?{documents:G0(o,m)}:{query:Ny(o,m)},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=B0(o,u.resumeToken);const w=U0(o,u.expectedCount);null!==w&&(c.expectedCount=w)}else if(u.snapshotVersion.compareTo(dt.min())>0){c.readTime=zl(o,u.snapshotVersion.toTimestamp());const w=U0(o,u.expectedCount);null!==w&&(c.expectedCount=w)}return c}(this.serializer,e);const r=function bb(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return st()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=dg(this.serializer),t.removeTarget=e,this.Wo(t)}}class WM extends RS{constructor(e,t,r,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,c),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function gS(n,e){return n&&n.length>0?(ct(void 0!==e),n.map(t=>function(r,o){let u=vr(r.updateTime?r.updateTime:o);return u.isEqual(dt.min())&&(u=vr(o)),new fb(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=vr(e.commitTime);return this.listener.cu(r,t)}return ct(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=dg(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Xh(this.serializer,r))};this.Wo(t)}}class KM extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new Ae(re.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Io(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ae(re.UNKNOWN,o.toString())})}vo(e,t,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.vo(e,t,r,u,c,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ae(re.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class QM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Vn(t),this.mu=!1):Pe("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class JM{constructor(e,t,r,o,u){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(m=>{r.enqueueAndForget((0,ye.Z)(function*(){var w;af(c)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,ye.Z)(function*(T){const M=Qe(T);M.vu.add(4),yield zy(M),M.bu.set("Unknown"),M.vu.delete(4),yield aw(M)}),function(T){return w.apply(this,arguments)})(c))}))}),this.bu=new QM(r,o)}}function aw(n){return Qb.apply(this,arguments)}function Qb(){return Qb=(0,ye.Z)(function*(n){if(af(n))for(const e of n.Ru)yield e(!0)}),Qb.apply(this,arguments)}function zy(n){return Jb.apply(this,arguments)}function Jb(){return Jb=(0,ye.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),Jb.apply(this,arguments)}function DC(n,e){const t=Qe(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),tT(t)?eT(t):Ky(t).Ko()&&Xb(t,e))}function uw(n,e){const t=Qe(n),r=Ky(t);t.Au.delete(e),r.Ko()&&PS(t,e),0===t.Au.size&&(r.Ko()?r.jo():af(t)&&t.bu.set("Unknown"))}function Xb(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(dt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ky(n).su(e)}function PS(n,e){n.Vu.qt(e),Ky(n).iu(e)}function eT(n){n.Vu=new vb({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Ky(n).start(),n.bu.gu()}function tT(n){return af(n)&&!Ky(n).Uo()&&n.Au.size>0}function af(n){return 0===Qe(n).vu.size}function OS(n){n.Vu=void 0}function XM(n){return nT.apply(this,arguments)}function nT(){return nT=(0,ye.Z)(function*(n){n.Au.forEach((e,t)=>{Xb(n,e)})}),nT.apply(this,arguments)}function e1(n,e){return rT.apply(this,arguments)}function rT(){return rT=(0,ye.Z)(function*(n,e){OS(n),tT(n)?(n.bu.Iu(e),eT(n)):n.bu.set("Unknown")}),rT.apply(this,arguments)}function t1(n,e,t){return iT.apply(this,arguments)}function iT(){return iT=(0,ye.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof JI&&2===e.state&&e.cause)try{yield(r=(0,ye.Z)(function*(o,u){const c=u.cause;for(const m of u.targetIds)o.Au.has(m)&&(yield o.remoteSyncer.rejectListen(m,c),o.Au.delete(m),o.Vu.removeTarget(m))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield bC(n,r)}else if(e instanceof My?n.Vu.Ht(e):e instanceof Ry?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(dt.min()))try{const r=yield ES(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const c=o.Vu.ce(u);return c.targetChanges.forEach((m,w)=>{if(m.resumeToken.approximateByteSize()>0){const T=o.Au.get(w);T&&o.Au.set(w,T.withResumeToken(m.resumeToken,u))}}),c.targetMismatches.forEach((m,w)=>{const T=o.Au.get(m);if(!T)return;o.Au.set(m,T.withResumeToken(Kr.EMPTY_BYTE_STRING,T.snapshotVersion)),PS(o,m);const M=new Kl(T.target,m,w,T.sequenceNumber);Xb(o,M)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield bC(n,r)}var r}),iT.apply(this,arguments)}function bC(n,e,t){return sT.apply(this,arguments)}function sT(){return sT=(0,ye.Z)(function*(n,e,t){if(!Ul(e))throw e;n.vu.add(1),yield zy(n),n.bu.set("Offline"),t||(t=()=>ES(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield aw(n)}))}),sT.apply(this,arguments)}function NS(n,e){return e().catch(t=>bC(n,t,e))}function Wy(n){return oT.apply(this,arguments)}function oT(){return oT=(0,ye.Z)(function*(n){const e=Qe(n),t=uf(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;n1(e);)try{const o=yield BM(e.localStore,r);if(null===o){0===e.Eu.length&&t.jo();break}r=o.batchId,r1(e,o)}catch(o){yield bC(e,o)}kS(e)&&FS(e)}),oT.apply(this,arguments)}function n1(n){return af(n)&&n.Eu.length<10}function r1(n,e){n.Eu.push(e);const t=uf(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function kS(n){return af(n)&&!uf(n).Uo()&&n.Eu.length>0}function FS(n){uf(n).start()}function i1(n){return aT.apply(this,arguments)}function aT(){return aT=(0,ye.Z)(function*(n){uf(n).hu()}),aT.apply(this,arguments)}function s1(n){return uT.apply(this,arguments)}function uT(){return uT=(0,ye.Z)(function*(n){const e=uf(n);for(const t of n.Eu)e.uu(t.mutations)}),uT.apply(this,arguments)}function o1(n,e,t){return lT.apply(this,arguments)}function lT(){return lT=(0,ye.Z)(function*(n,e,t){const r=n.Eu.shift(),o=Qh.from(r,e,t);yield NS(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Wy(n)}),lT.apply(this,arguments)}function a1(n,e){return cT.apply(this,arguments)}function cT(){return cT=(0,ye.Z)(function*(n,e){var t;e&&uf(n).ou&&(yield(t=(0,ye.Z)(function*(r,o){if(QI(u=o.code)&&u!==re.ABORTED){const c=r.Eu.shift();uf(r).Qo(),yield NS(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o)),yield Wy(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),kS(n)&&FS(n)}),cT.apply(this,arguments)}function LS(n,e){return dT.apply(this,arguments)}function dT(){return dT=(0,ye.Z)(function*(n,e){const t=Qe(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=af(t);t.vu.add(3),yield zy(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield aw(t)}),dT.apply(this,arguments)}function hT(n,e){return fT.apply(this,arguments)}function fT(){return fT=(0,ye.Z)(function*(n,e){const t=Qe(n);e?(t.vu.delete(2),yield aw(t)):e||(t.vu.add(2),yield zy(t),t.bu.set("Unknown"))}),fT.apply(this,arguments)}function Ky(n){return n.Su||(n.Su=function(e,t,r){const o=Qe(e);return o.fu(),new zM(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:XM.bind(null,n),ao:e1.bind(null,n),nu:t1.bind(null,n)}),n.Ru.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Su.Qo(),tT(n)?eT(n):n.bu.set("Unknown")):(yield n.Su.stop(),OS(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function uf(n){return n.Du||(n.Du=function(e,t,r){const o=Qe(e);return o.fu(),new WM(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:i1.bind(null,n),ao:a1.bind(null,n),au:s1.bind(null,n),cu:o1.bind(null,n)}),n.Ru.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Du.Qo(),yield Wy(n)):(yield n.Du.stop(),n.Eu.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class pT{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,o,u){const c=Date.now()+r,m=new pT(e,t,c,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ae(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yy(n,e){if(Vn("AsyncQueue",`${e}: ${n}`),Ul(n))return new Ae(re.UNAVAILABLE,`${e}: ${n}`);throw n}class Qy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ze.comparator(t.key,r.key):(t,r)=>ze.comparator(t.key,r.key),this.keyedMap=Xp(),this.sortedSet=new fn(this.comparator)}static emptySet(e){return new Qy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Qy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class VS{constructor(){this.Cu=new fn(ze.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):st():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Jy{constructor(e,t,r,o,u,c,m,w,T){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=w,this.hasCachedResults=T}static fromInitialDocuments(e,t,r,o,u){const c=[];return t.forEach(m=>{c.push({type:0,doc:m})}),new Jy(e,t,Qy.emptySet(t),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class u1{constructor(){this.Nu=void 0,this.listeners=[]}}class l1{constructor(){this.queries=new Nu(e=>ki(e),Wh),this.onlineState="Unknown",this.ku=new Set}}function gT(n,e){return mT.apply(this,arguments)}function mT(){return mT=(0,ye.Z)(function*(n,e){const t=Qe(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new u1),o)try{u.Nu=yield t.onListen(r)}catch(c){const m=Yy(c,`Initialization of query '${Gl(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&vT(t)}),mT.apply(this,arguments)}function yT(n,e){return _T.apply(this,arguments)}function _T(){return _T=(0,ye.Z)(function*(n,e){const t=Qe(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const c=u.listeners.indexOf(e);c>=0&&(u.listeners.splice(c,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),_T.apply(this,arguments)}function c1(n,e){const t=Qe(n);let r=!1;for(const o of e){const c=t.queries.get(o.query);if(c){for(const m of c.listeners)m.$u(o)&&(r=!0);c.Nu=o}}r&&vT(t)}function d1(n,e,t){const r=Qe(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function vT(n){n.ku.forEach(e=>{e.next()})}class wT{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Jy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Jy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class h1{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class US{constructor(e){this.serializer=e}rr(e){return Ua(this.serializer,e)}ur(e){return e.metadata.exists?$0(this.serializer,e.document,!1):Un.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return vr(e)}}class f1{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=BS(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=Yt.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new US(this.serializer);for(const o of e)if(o.metadata.queries){const u=r.rr(o.metadata.name);for(const c of o.metadata.queries){const m=(t.get(c)||Gt()).add(u);t.set(c,m)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function jM(n,e,t,r){return $b.apply(this,arguments)}(e.localStore,new US(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const o of e.queries)yield $M(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function BS(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class jS{constructor(e){this.key=e}}class $S{constructor(e){this.key=e}}class HS{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Gt(),this.mutatedKeys=Gt(),this.tc=db(e),this.ec=new Qy(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new VS,o=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,c=o,m=!1;const w="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,T="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((M,P)=>{const G=o.get(M),K=Qp(this.query,P)?P:null,Ce=!!G&&this.mutatedKeys.has(G.key),Ne=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let Ve=!1;G&&K?G.data.isEqual(K.data)?Ce!==Ne&&(r.track({type:3,doc:K}),Ve=!0):this.rc(G,K)||(r.track({type:2,doc:K}),Ve=!0,(w&&this.tc(K,w)>0||T&&this.tc(K,T)<0)&&(m=!0)):!G&&K?(r.track({type:0,doc:K}),Ve=!0):G&&!K&&(r.track({type:1,doc:G}),Ve=!0,(w||T)&&(m=!0)),Ve&&(K?(c=c.add(K),u=Ne?u.add(M):u.delete(M)):(c=c.delete(M),u=u.delete(M)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const M="F"===this.query.limitType?c.last():c.first();c=c.delete(M.key),u=u.delete(M.key),r.track({type:1,doc:M})}return{ec:c,ic:r,zi:m,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((T,M)=>function(P,G){const K=Ce=>{switch(Ce){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return K(P)-K(G)}(T.type,M.type)||this.tc(T.doc,M.doc)),this.oc(r);const c=t?this.uc():[],m=0===this.Zu.size&&this.current?1:0,w=m!==this.Xu;return this.Xu=m,0!==u.length||w?{snapshot:new Jy(this.query,e.ec,o,u,e.mutatedKeys,0===m,w,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new VS,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Gt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new $S(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new jS(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Gt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Jy.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class p1{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class g1{constructor(e){this.key=e,this.fc=!1}}class m1{constructor(e,t,r,o,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new Nu(m=>ki(m),Wh),this._c=new Map,this.mc=new Set,this.gc=new fn(ze.comparator),this.yc=new Map,this.Ic=new B,this.Tc={},this.Ec=new Map,this.Ac=gd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function y1(n,e){return ET.apply(this,arguments)}function ET(){return ET=(0,ye.Z)(function*(n,e){const t=GT(n);let r,o;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.lc();else{const c=yield qy(t.localStore,Ni(e)),m=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,o=yield IT(t,e,r,"current"===m,c.resumeToken),t.isPrimaryClient&&DC(t.remoteStore,c)}return o}),ET.apply(this,arguments)}function IT(n,e,t,r,o){return CT.apply(this,arguments)}function CT(){return CT=(0,ye.Z)(function*(n,e,t,r,o){n.Rc=(P,G,K)=>{return(Ce=(0,ye.Z)(function*(Ne,Ve,lt,Pt){let ht=Ve.view.sc(lt);ht.zi&&(ht=yield vC(Ne.localStore,Ve.query,!1).then(({documents:nn})=>Ve.view.sc(nn,ht)));const At=Pt&&Pt.targetChanges.get(Ve.targetId),Zt=Ve.view.applyChanges(ht,Ne.isPrimaryClient,At);return OT(Ne,Ve.targetId,Zt.cc),Zt.snapshot}),function(Ne,Ve,lt,Pt){return Ce.apply(this,arguments)})(n,P,G,K);var Ce};const u=yield vC(n.localStore,e,!0),c=new HS(e,u.ir),m=c.sc(u.documents),w=xy.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),T=c.applyChanges(m,n.isPrimaryClient,w);OT(n,t,T.cc);const M=new p1(e,t,c);return n.wc.set(e,M),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),T.snapshot}),CT.apply(this,arguments)}function _1(n,e){return DT.apply(this,arguments)}function DT(){return DT=(0,ye.Z)(function*(n,e){const t=Qe(n),r=t.wc.get(e),o=t._c.get(r.targetId);if(o.length>1)return t._c.set(r.targetId,o.filter(u=>!Wh(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Zy(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),uw(t.remoteStore,r.targetId),Xy(t,r.targetId)}).catch(Vl))):(Xy(t,r.targetId),yield Zy(t.localStore,r.targetId,!0))}),DT.apply(this,arguments)}function bT(){return bT=(0,ye.Z)(function*(n,e,t){const r=qT(n);try{const o=yield function(u,c){const m=Qe(u),w=qn.now(),T=c.reduce((G,K)=>G.add(K.key),Gt());let M,P;return m.persistence.runTransaction("Locally write mutations","readwrite",G=>{let K=gs(),Ce=Gt();return m.Zi.getEntries(G,T).next(Ne=>{K=Ne,K.forEach((Ve,lt)=>{lt.isValidDocument()||(Ce=Ce.add(Ve))})}).next(()=>m.localDocuments.getOverlayedDocuments(G,K)).next(Ne=>{M=Ne;const Ve=[];for(const lt of c){const Pt=fS(lt,M.get(lt.key).overlayedDocument);null!=Pt&&Ve.push(new Zl(lt.key,Pt,PI(Pt.value.mapValue),Bn.exists(!0)))}return m.mutationQueue.addMutationBatch(G,w,Ve,c)}).next(Ne=>{P=Ne;const Ve=Ne.applyToLocalDocumentSet(M,Ce);return m.documentOverlayCache.saveOverlays(G,Ne.batchId,Ve)})}).then(()=>({batchId:P.batchId,changes:HI(M)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,c,m){let w=u.Tc[u.currentUser.toKey()];w||(w=new fn(xt)),w=w.insert(c,m),u.Tc[u.currentUser.toKey()]=w}(r,o.batchId,t),yield _d(r,o.changes),yield Wy(r.remoteStore)}catch(o){const u=Yy(o,"Failed to persist write");t.reject(u)}}),bT.apply(this,arguments)}function GS(n,e){return TT.apply(this,arguments)}function TT(){return TT=(0,ye.Z)(function*(n,e){const t=Qe(n);try{const r=yield UM(t.localStore,e);e.targetChanges.forEach((o,u)=>{const c=t.yc.get(u);c&&(ct(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.fc=!0:o.modifiedDocuments.size>0?ct(c.fc):o.removedDocuments.size>0&&(ct(c.fc),c.fc=!1))}),yield _d(t,r,e)}catch(r){yield Vl(r)}}),TT.apply(this,arguments)}function qS(n,e,t){const r=Qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.wc.forEach((u,c)=>{const m=c.view.Mu(e);m.snapshot&&o.push(m.snapshot)}),function(u,c){const m=Qe(u);m.onlineState=c;let w=!1;m.queries.forEach((T,M)=>{for(const P of M.listeners)P.Mu(c)&&(w=!0)}),w&&vT(m)}(r.eventManager,e),o.length&&r.dc.nu(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function w1(n,e,t){return AT.apply(this,arguments)}function AT(){return AT=(0,ye.Z)(function*(n,e,t){const r=Qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.yc.get(e),u=o&&o.key;if(u){let c=new fn(ze.comparator);c=c.insert(u,Un.newNoDocument(u,dt.min()));const m=Gt().add(u),w=new Sy(dt.min(),new Map,new fn(xt),c,m);yield GS(r,w),r.gc=r.gc.remove(u),r.yc.delete(e),NT(r)}else yield Zy(r.localStore,e,!1).then(()=>Xy(r,e,t)).catch(Vl)}),AT.apply(this,arguments)}function E1(n,e){return ST.apply(this,arguments)}function ST(){return ST=(0,ye.Z)(function*(n,e){const t=Qe(n),r=e.batch.batchId;try{const o=yield VM(t.localStore,e);PT(t,r,null),RT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield _d(t,o)}catch(o){yield Vl(o)}}),ST.apply(this,arguments)}function I1(n,e,t){return xT.apply(this,arguments)}function xT(){return xT=(0,ye.Z)(function*(n,e,t){const r=Qe(n);try{const o=yield function(u,c){const m=Qe(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let T;return m.mutationQueue.lookupMutationBatch(w,c).next(M=>(ct(null!==M),T=M.keys(),m.mutationQueue.removeMutationBatch(w,M))).next(()=>m.mutationQueue.performConsistencyCheck(w)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(w,T,c)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,T)).next(()=>m.localDocuments.getDocuments(w,T))})}(r.localStore,e);PT(r,e,t),RT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield _d(r,o)}catch(o){yield Vl(o)}}),xT.apply(this,arguments)}function MT(){return MT=(0,ye.Z)(function*(n,e){const t=Qe(n);af(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const c=Qe(u);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>c.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.Ec.get(r)||[];o.push(e),t.Ec.set(r,o)}catch(r){const o=Yy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),MT.apply(this,arguments)}function RT(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function PT(n,e,t){const r=Qe(n);let o=r.Tc[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.Tc[r.currentUser.toKey()]=o}}function Xy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||ZS(n,r)})}function ZS(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(uw(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),NT(n))}function OT(n,e,t){for(const r of t)r instanceof jS?(n.Ic.addReference(r.key,e),D1(n,r)):r instanceof $S?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||ZS(n,r.key)):st()}function D1(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.mc.add(r),NT(n))}function NT(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new ze(Yt.fromString(e)),r=n.Ac.next();n.yc.set(r,new g1(t)),n.gc=n.gc.insert(t,r),DC(n.remoteStore,new Kl(Ni(ud(t.path)),r,"TargetPurposeLimboResolution",Ls.ct))}}function _d(n,e,t){return kT.apply(this,arguments)}function kT(){return kT=(0,ye.Z)(function*(n,e,t){const r=Qe(n),o=[],u=[],c=[];var m;r.wc.isEmpty()||(r.wc.forEach((m,w)=>{c.push(r.Rc(w,e,t).then(T=>{if((T||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,(null==T?void 0:T.fromCache)?"not-current":"current"),T){o.push(T);const M=Eg.Li(w.targetId,T);u.push(M)}}))}),yield Promise.all(c),r.dc.nu(o),yield(m=(0,ye.Z)(function*(w,T){const M=Qe(w);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>ee.forEach(T,G=>ee.forEach(G.Fi,K=>M.persistence.referenceDelegate.addReference(P,G.targetId,K)).next(()=>ee.forEach(G.Bi,K=>M.persistence.referenceDelegate.removeReference(P,G.targetId,K)))))}catch(P){if(!Ul(P))throw P;Pe("LocalStore","Failed to update sequence numbers: "+P)}for(const P of T){const G=P.targetId;if(!P.fromCache){const K=M.Ji.get(G),Ne=K.withLastLimboFreeSnapshotVersion(K.snapshotVersion);M.Ji=M.Ji.insert(G,Ne)}}}),function(w,T){return m.apply(this,arguments)})(r.localStore,u))}),kT.apply(this,arguments)}function b1(n,e){return FT.apply(this,arguments)}function FT(){return FT=(0,ye.Z)(function*(n,e){const t=Qe(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield wS(t.localStore,e);t.currentUser=e,(o=t).Ec.forEach(c=>{c.forEach(m=>{m.reject(new Ae(re.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield _d(t,r.er)}var o}),FT.apply(this,arguments)}function T1(n,e){const t=Qe(n),r=t.yc.get(e);if(r&&r.fc)return Gt().add(r.key);{let o=Gt();const u=t._c.get(e);if(!u)return o;for(const c of u){const m=t.wc.get(c);o=o.unionWith(m.view.nc)}return o}}function A1(n,e){return LT.apply(this,arguments)}function LT(){return LT=(0,ye.Z)(function*(n,e){const t=Qe(n),r=yield vC(t.localStore,e.query,!0),o=e.view.hc(r);return t.isPrimaryClient&&OT(t,e.targetId,o.cc),o}),LT.apply(this,arguments)}function S1(n,e){return VT.apply(this,arguments)}function VT(){return VT=(0,ye.Z)(function*(n,e){const t=Qe(n);return DS(t.localStore,e).then(r=>_d(t,r))}),VT.apply(this,arguments)}function x1(n,e,t,r){return UT.apply(this,arguments)}function UT(){return UT=(0,ye.Z)(function*(n,e,t,r){const o=Qe(n),u=yield function(c,m){const w=Qe(c),T=Qe(w.mutationQueue);return w.persistence.runTransaction("Lookup mutation documents","readonly",M=>T.Sn(M,m).next(P=>P?w.localDocuments.getDocuments(M,P):ee.resolve(null)))}(o.localStore,e);var m;null!==u?("pending"===t?yield Wy(o.remoteStore):"acknowledged"===t||"rejected"===t?(PT(o,e,r||null),RT(o,e),m=e,Qe(Qe(o.localStore).mutationQueue).Cn(m)):st(),yield _d(o,u)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),UT.apply(this,arguments)}function BT(){return BT=(0,ye.Z)(function*(n,e){const t=Qe(n);if(GT(t),qT(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield zS(t,r.toArray());t.vc=!0,yield hT(t.remoteStore,!0);for(const u of o)DC(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const r=[];let o=Promise.resolve();t._c.forEach((u,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):o=o.then(()=>(Xy(t,c),Zy(t.localStore,c,!0))),uw(t.remoteStore,c)}),yield o,yield zS(t,r),function(u){const c=Qe(u);c.yc.forEach((m,w)=>{uw(c.remoteStore,w)}),c.Ic.Ts(),c.yc=new Map,c.gc=new fn(ze.comparator)}(t),t.vc=!1,yield hT(t.remoteStore,!1)}}),BT.apply(this,arguments)}function zS(n,e,t){return jT.apply(this,arguments)}function jT(){return jT=(0,ye.Z)(function*(n,e,t){const r=Qe(n),o=[],u=[];for(const c of e){let m;const w=r._c.get(c);if(w&&0!==w.length){m=yield qy(r.localStore,Ni(w[0]));for(const T of w){const M=r.wc.get(T),P=yield A1(r,M);P.snapshot&&u.push(P.snapshot)}}else{const T=yield CS(r.localStore,c);m=yield qy(r.localStore,T),yield IT(r,WS(T),c,!1,m.resumeToken)}o.push(m)}return r.dc.nu(u),o}),jT.apply(this,arguments)}function WS(n){return wy(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function R1(n){const e=Qe(n);return Qe(Qe(e.localStore).persistence).$i()}function P1(n,e,t,r){return $T.apply(this,arguments)}function $T(){return $T=(0,ye.Z)(function*(n,e,t,r){const o=Qe(n);if(o.vc)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const u=o._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const c=yield DS(o.localStore,$I(u[0])),m=Sy.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Kr.EMPTY_BYTE_STRING);yield _d(o,c,m);break}case"rejected":yield Zy(o.localStore,e,!0),Xy(o,e,r);break;default:st()}}),$T.apply(this,arguments)}function O1(n,e,t){return HT.apply(this,arguments)}function HT(){return HT=(0,ye.Z)(function*(n,e,t){const r=GT(n);if(r.vc){for(const o of e){if(r._c.has(o)){Pe("SyncEngine","Adding an already active target "+o);continue}const u=yield CS(r.localStore,o),c=yield qy(r.localStore,u);yield IT(r,WS(u),c.targetId,!1,c.resumeToken),DC(r.remoteStore,c)}for(const o of t)r._c.has(o)&&(yield Zy(r.localStore,o,!1).then(()=>{uw(r.remoteStore,o),Xy(r,o)}).catch(Vl))}}),HT.apply(this,arguments)}function GT(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=GS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w1.bind(null,e),e.dc.nu=c1.bind(null,e.eventManager),e.dc.Pc=d1.bind(null,e.eventManager),e}function qT(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=E1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I1.bind(null,e),e}class lw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.serializer=ow(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Gy(this.persistence,new Hy,e.initialUser,this.serializer)}createPersistence(e){return new be(qt.zs,this.serializer)}createSharedClientState(e){return new SS}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ZT extends lw{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield qT(r.Vc.syncEngine),yield Wy(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Gy(this.persistence,new Hy,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Fb(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new mI(t,this.persistence);return new gI(e.asyncQueue,r)}createPersistence(e){const t=wg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Fi.withCacheSize(this.cacheSizeBytes):Fi.DEFAULT;return new vg(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,MS(),CC(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new SS}}class KS extends ZT{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e);const o=r.Vc.syncEngine;r.sharedClientState instanceof zb&&(r.sharedClientState.syncEngine={jr:x1.bind(null,o),zr:P1.bind(null,o),Wr:O1.bind(null,o),$i:R1.bind(null,o),Qr:S1.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var u=(0,ye.Z)(function*(c){yield function M1(n,e){return BT.apply(this,arguments)}(r.Vc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=MS();if(!zb.D(t))throw new Ae(re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=wg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new zb(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class e_{initialize(e,t){var r=this;return(0,ye.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>qS(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=b1.bind(null,r.syncEngine),yield hT(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new l1}createDatastore(e){const t=ow(e.databaseInfo.databaseId),r=new ZM(e.databaseInfo);return new KM(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=m=>qS(this.syncEngine,m,0),c=xS.D()?new xS:new HM,new JM(t,r,o,u,c);var t,r,o,u,c}createSyncEngine(e,t){return function(r,o,u,c,m,w,T){const M=new m1(r,o,u,c,m,w);return T&&(M.vc=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const r=Qe(t);Pe("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield zy(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function YS(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class TC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Vn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class F1{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new br,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),o=Number(r);isNaN(o)&&e.Mc(`length string (${r}) is not valid number`);const u=yield e.$c(o);return new h1(JSON.parse(u),t.length+o)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,ye.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class L1{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ae(re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,ye.Z)(function*(u,c){const m=Qe(u),w=dg(m.serializer)+"/documents",T={documents:c.map(K=>lg(m.serializer,K))},M=yield m.vo("BatchGetDocuments",w,T,c.length),P=new Map;M.forEach(K=>{const Ce=function Cb(n,e){return"found"in e?function(t,r){ct(!!r.found);const o=Ua(t,r.found.name),u=vr(r.found.updateTime),c=r.found.createTime?vr(r.found.createTime):dt.min(),m=new di({mapValue:{fields:r.found.fields}});return Un.newFoundDocument(o,u,c,m)}(n,e):"missing"in e?function(t,r){ct(!!r.missing),ct(!!r.readTime);const o=Ua(t,r.missing),u=vr(r.readTime);return Un.newNoDocument(o,u)}(n,e):st()}(m.serializer,K);P.set(Ce.key.toString(),Ce)});const G=[];return c.forEach(K=>{const Ce=P.get(K.toString());ct(!!Ce),G.push(Ce)}),G}),function(u,c){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new og(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=ze.fromPath(o);e.mutations.push(new WI(u,e.precondition(u)))}),yield(r=(0,ye.Z)(function*(o,u){const c=Qe(o),m=dg(c.serializer)+"/documents",w={writes:u.map(T=>Xh(c.serializer,T))};yield c.Io("Commit",m,w)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw st();t=dt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ae(re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(dt.min())?Bn.exists(!1):Bn.updateTime(t):Bn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(dt.min()))throw new Ae(re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Bn.updateTime(t)}return Bn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class V1{constructor(e,t,r,o,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=u,this.Bc=r.maxAttempts,this.qo=new Kb(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,ye.Z)(function*(){const t=new L1(e.datastore),r=e.qc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.Uc(u)}))}).catch(o=>{e.Uc(o)})}))}qc(e){try{const t=this.updateFunction(e);return!jp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!QI(t)}return!1}}class U1{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=zr.UNAUTHENTICATED,this.clientId=e0.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,ye.Z)(function*(m){Pe("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Pe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(re.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Yy(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function AC(n,e){return zT.apply(this,arguments)}function zT(){return zT=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,ye.Z)(function*(u){r.isEqual(u)||(yield wS(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),zT.apply(this,arguments)}function WT(n,e){return KT.apply(this,arguments)}function KT(){return KT=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield YT(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>LS(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>LS(e.remoteStore,u)),n._onlineComponents=e}),KT.apply(this,arguments)}function QS(n){return"FirebaseError"===n.name?n.code===re.FAILED_PRECONDITION||n.code===re.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function YT(n){return QT.apply(this,arguments)}function QT(){return QT=(0,ye.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Pe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield AC(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!QS(t))throw t;Pi("Error using user provided cache. Falling back to memory cache: "+t),yield AC(n,new lw)}}else Pe("FirestoreClient","Using default OfflineComponentProvider"),yield AC(n,new lw);return n._offlineComponents}),QT.apply(this,arguments)}function SC(n){return JT.apply(this,arguments)}function JT(){return JT=(0,ye.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Pe("FirestoreClient","Using user provided OnlineComponentProvider"),yield WT(n,n._uninitializedComponentsProvider._online)):(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield WT(n,new e_))),n._onlineComponents}),JT.apply(this,arguments)}function JS(n){return YT(n).then(e=>e.persistence)}function xC(n){return YT(n).then(e=>e.localStore)}function XS(n){return SC(n).then(e=>e.remoteStore)}function XT(n){return SC(n).then(e=>e.syncEngine)}function t_(n){return eA.apply(this,arguments)}function eA(){return eA=(0,ye.Z)(function*(n){const e=yield SC(n),t=e.eventManager;return t.onListen=y1.bind(null,e.syncEngine),t.onUnlisten=_1.bind(null,e.syncEngine),t}),eA.apply(this,arguments)}function tx(n,e,t={}){const r=new br;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(o,u,c,m,w){const T=new TC({next:P=>{u.enqueueAndForget(()=>yT(o,M));const G=P.docs.has(c);!G&&P.fromCache?w.reject(new Ae(re.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&P.fromCache&&m&&"server"===m.source?w.reject(new Ae(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(P)},error:P=>w.reject(P)}),M=new wT(ud(c.path),T,{includeMetadataChanges:!0,Ku:!0});return gT(o,M)}(yield t_(n),n.asyncQueue,e,t,r)})),r.promise}function nx(n,e,t={}){const r=new br;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(o,u,c,m,w){const T=new TC({next:P=>{u.enqueueAndForget(()=>yT(o,M)),P.fromCache&&"server"===m.source?w.reject(new Ae(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(P)},error:P=>w.reject(P)}),M=new wT(c,T,{includeMetadataChanges:!0,Ku:!0});return gT(o,M)}(yield t_(n),n.asyncQueue,e,t,r)})),r.promise}function rx(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const ix=new Map;function tA(n,e,t){if(!t)throw new Ae(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function sx(n,e,t,r){if(!0===e&&!0===r)throw new Ae(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ox(n){if(!ze.isDocumentKey(n))throw new Ae(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ax(n){if(ze.isDocumentKey(n))throw new Ae(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function MC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":st()}function Xt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=MC(n);throw new Ae(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ux(n,e){if(e<=0)throw new Ae(re.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class lx{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ae(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ae(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=rx(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Ae(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ae(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ae(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cw{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lx({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ae(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ae(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lx(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ZD;switch(t.type){case"firstParty":return new lS(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ae(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ix.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),ix.delete(e),t.terminate())}(this),Promise.resolve()}}class er{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ec(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new er(this.firestore,e,this._key)}}class Yi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yi(this.firestore,e,this._query)}}class ec extends Yi{constructor(e,t,r){super(e,t,ud(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new ze(e))}withConverter(e){return new ec(this.firestore,e,this._path)}}function dx(n,e,...t){if(n=(0,an.m9)(n),tA("collection","path",e),n instanceof cw){const r=Yt.fromString(e,...t);return ax(r),new ec(n,null,r)}{if(!(n instanceof er||n instanceof ec))throw new Ae(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Yt.fromString(e,...t));return ax(r),new ec(n.firestore,null,r)}}function RC(n,e,...t){if(n=(0,an.m9)(n),1===arguments.length&&(e=e0.A()),tA("doc","path",e),n instanceof cw){const r=Yt.fromString(e,...t);return ox(r),new er(n,null,new ze(r))}{if(!(n instanceof er||n instanceof ec))throw new Ae(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Yt.fromString(e,...t));return ox(r),new er(n.firestore,n instanceof ec?n.converter:null,new ze(r))}}function hx(n,e){return n=(0,an.m9)(n),e=(0,an.m9)(e),(n instanceof er||n instanceof ec)&&(e instanceof er||e instanceof ec)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function nA(n,e){return n=(0,an.m9)(n),e=(0,an.m9)(e),n instanceof Yi&&e instanceof Yi&&n.firestore===e.firestore&&Wh(n._query,e._query)&&n.converter===e.converter}class K1{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Kb(this,"async_queue_retry"),this.Xc=()=>{const t=CC();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=CC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=CC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new br;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ye.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Ul(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Vn("INTERNAL UNHANDLED ERROR: ",function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),c}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const o=pT.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(o),o}Zc(){this.Wc&&st()}verifyOperationInProgress(){}sa(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function rA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class Y1{constructor(){this._progressObserver={},this._taskCompletionResolver=new br,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class tr extends cw{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new K1,this._persistenceKey=(null==o?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||fx(this),this._firestoreClient.terminate()}}function Lr(n){return n._firestoreClient||fx(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function fx(n){var e,t,r;const o=n._freezeSettings(),u=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new lb(n._databaseId,m,n._persistenceKey,(T=o).host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,rx(T.experimentalLongPollingOptions),T.useFetchStreams));var m,T;n._firestoreClient=new U1(n._authCredentials,n._appCheckCredentials,n._queue,u),(null===(t=o.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=o.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}function px(n,e,t){const r=new br;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield AC(n,t),yield WT(n,e),r.resolve()}catch(o){const u=o;if(!QS(u))throw u;Pi("Error enabling indexeddb cache. Falling back to memory cache: "+u),r.reject(u)}})).then(()=>r.promise)}function gx(n){if(n._initialized||n._terminated)throw new Ae(re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class tc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tc(Kr.fromBase64String(e))}catch(t){throw new Ae(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new tc(Kr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class vd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ae(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ig{constructor(e){this._methodName=e}}class PC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}}const aR=/^__.*__$/;class uR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Zl(e,this.data,this.fieldMask,t,this.fieldTransforms):new sg(e,this.data,t,this.fieldTransforms)}}class mx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Zl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class OC{constructor(e,t,r,o,u,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new OC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.fa(e),o}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.ua(),o}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return FC(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(yx(this.ca)&&aR.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class lR{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ow(e)}ya(e,t,r,o=!1){return new OC({ca:e,methodName:t,ga:r,path:hr.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cg(n){const e=n._freezeSettings(),t=ow(n._databaseId);return new lR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function NC(n,e,t,r,o,u={}){const c=n.ya(u.merge||u.mergeFields?2:0,e,t,o);aA("Data must be an object, but it was:",c,r);const m=wx(r,c);let w,T;if(u.merge)w=new ps(c.fieldMask),T=c.fieldTransforms;else if(u.mergeFields){const M=[];for(const P of u.mergeFields){const G=fw(e,P,t);if(!c.contains(G))throw new Ae(re.INVALID_ARGUMENT,`Field '${G}' is specified in your field mask but missing from your input data.`);Ix(M,G)||M.push(G)}w=new ps(M),T=c.fieldTransforms.filter(P=>w.covers(P.field))}else w=null,T=c.fieldTransforms;return new uR(new di(m),w,T)}class hw extends Ig{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hw}}function _x(n,e,t){return new OC({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class iA extends Ig{_toFieldTransform(e){return new tg(e.path,new Yh)}isEqual(e){return e instanceof iA}}class cR extends Ig{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=_x(this,e,!0),r=this.pa.map(u=>Dg(u,t)),o=new ld(r);return new tg(e.path,o)}isEqual(e){return this===e}}class dR extends Ig{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=_x(this,e,!0),r=this.pa.map(u=>Dg(u,t)),o=new ql(r);return new tg(e.path,o)}isEqual(e){return this===e}}class hR extends Ig{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new cd(e.serializer,S0(e.serializer,this.Ia));return new tg(e.path,t)}isEqual(e){return this===e}}function sA(n,e,t,r){const o=n.ya(1,e,t);aA("Data must be an object, but it was:",o,r);const u=[],c=di.empty();ka(r,(w,T)=>{const M=kC(e,w,t);T=(0,an.m9)(T);const P=o.da(M);if(T instanceof hw)u.push(M);else{const G=Dg(T,P);null!=G&&(u.push(M),c.set(M,G))}});const m=new ps(u);return new mx(c,m,o.fieldTransforms)}function oA(n,e,t,r,o,u){const c=n.ya(1,e,t),m=[fw(e,r,t)],w=[o];if(u.length%2!=0)throw new Ae(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let G=0;G<u.length;G+=2)m.push(fw(e,u[G])),w.push(u[G+1]);const T=[],M=di.empty();for(let G=m.length-1;G>=0;--G)if(!Ix(T,m[G])){const K=m[G];let Ce=w[G];Ce=(0,an.m9)(Ce);const Ne=c.da(K);if(Ce instanceof hw)T.push(K);else{const Ve=Dg(Ce,Ne);null!=Ve&&(T.push(K),M.set(K,Ve))}}const P=new ps(T);return new mx(M,P,c.fieldTransforms)}function vx(n,e,t,r=!1){return Dg(t,n.ya(r?4:3,e))}function Dg(n,e){if(Ex(n=(0,an.m9)(n)))return aA("Unsupported field value:",e,n),wx(n,e);if(n instanceof Ig)return function(t,r){if(!yx(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const c of t){let m=Dg(c,r.wa(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,an.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return S0(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=qn.fromDate(t);return{timestampValue:zl(r.serializer,o)}}if(t instanceof qn){const o=new qn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:zl(r.serializer,o)}}if(t instanceof PC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tc)return{bytesValue:B0(r.serializer,t._byteString)};if(t instanceof er){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Oy(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${MC(t)}`)}(n,e)}function wx(n,e){const t={};return Gp(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ka(n,(r,o)=>{const u=Dg(o,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function Ex(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof qn||n instanceof PC||n instanceof tc||n instanceof er||n instanceof Ig)}function aA(n,e,t){if(!Ex(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=MC(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function fw(n,e,t){if((e=(0,an.m9)(e))instanceof vd)return e._internalPath;if("string"==typeof e)return kC(n,e);throw FC("Field path arguments must be of type string or ",n,!1,void 0,t)}const fR=new RegExp("[~\\*/\\[\\]]");function kC(n,e,t){if(e.search(fR)>=0)throw FC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new vd(...e.split("."))._internalPath}catch(r){throw FC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function FC(n,e,t,r,o){const u=r&&!r.isEmpty(),c=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let w="";return(u||c)&&(w+=" (found",u&&(w+=` in field ${r}`),c&&(w+=` in document ${o}`),w+=")"),new Ae(re.INVALID_ARGUMENT,m+n+w)}function Ix(n,e){return n.some(t=>t.isEqual(e))}class pw{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new pR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(LC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class pR extends pw{data(){return super.data()}}function LC(n,e){return"string"==typeof e?kC(n,e):e instanceof vd?e._internalPath:e._delegate._internalPath}function Cx(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ae(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uA{}class gw extends uA{}function lf(n,e,...t){let r=[];e instanceof uA&&r.push(e),r=r.concat(t),function(o){const u=o.filter(m=>m instanceof n_).length,c=o.filter(m=>m instanceof mw).length;if(u>1||u>0&&c>0)throw new Ae(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class mw extends gw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new mw(e,t,r)}_apply(e){const t=this._parse(e);return Ax(e._query,t),new Yi(e.firestore,e.converter,E0(e._query,t))}_parse(e){const t=Cg(e.firestore);return function(o,u,c,m,w,T,M){let P;if(w.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new Ae(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if("in"===T||"not-in"===T){Tx(M,T);const G=[];for(const K of M)G.push(bx(m,o,K));P={arrayValue:{values:G}}}else P=bx(m,o,M)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||Tx(M,T),P=vx(c,"where",M,"in"===T||"not-in"===T);return Kt.create(w,T,P)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class n_ extends uA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:ln.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let u=r;const c=o.getFlattenedFilters();for(const m of c)Ax(u,m),u=E0(u,m)}(e._query,t),new Yi(e.firestore,e.converter,E0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class lA extends gw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new lA(e,t)}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new Ae(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ae(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Zh(o,u);return function(m,w){if(null===Ey(m)){const T=Kp(m);null!==T&&Sx(0,T,w.field)}}(r,c),c}(e._query,this._field,this._direction);return new Yi(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new Va(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class VC extends gw{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new VC(e,t,r)}_apply(e){return new Yi(e.firestore,e.converter,Yp(e._query,this._limit,this._limitType))}}class UC extends gw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new UC(e,t,r)}_apply(e){const t=Dx(e,this.type,this._docOrFields,this._inclusive);return new Yi(e.firestore,e.converter,(o=t,new Va((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class BC extends gw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new BC(e,t,r)}_apply(e){const t=Dx(e,this.type,this._docOrFields,this._inclusive);return new Yi(e.firestore,e.converter,(o=t,new Va((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function Dx(n,e,t,r){if(t[0]=(0,an.m9)(t[0]),t[0]instanceof pw)return function(o,u,c,m,w){if(!m)throw new Ae(re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const T=[];for(const M of Hl(o))if(M.field.isKeyField())T.push(od(u,m.key));else{const P=m.data.field(M.field);if(Mu(P))throw new Ae(re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const G=M.field.canonicalString();throw new Ae(re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${G}' (used as the orderBy) does not exist.`)}T.push(P)}return new $l(T,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Cg(n.firestore);return function(u,c,m,w,T,M){const P=u.explicitOrderBy;if(T.length>P.length)throw new Ae(re.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const G=[];for(let K=0;K<T.length;K++){const Ce=T[K];if(P[K].field.isKeyField()){if("string"!=typeof Ce)throw new Ae(re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof Ce}`);if(!w0(u)&&-1!==Ce.indexOf("/"))throw new Ae(re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${Ce}' contains a slash.`);const Ne=u.path.child(Yt.fromString(Ce));if(!ze.isDocumentKey(Ne))throw new Ae(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${Ne}' is not because it contains an odd number of segments.`);const Ve=new ze(Ne);G.push(od(c,Ve))}else{const Ne=vx(m,w,Ce);G.push(Ne)}}return new $l(G,M)}(n._query,n.firestore._databaseId,o,e,t,r)}}function bx(n,e,t){if("string"==typeof(t=(0,an.m9)(t))){if(""===t)throw new Ae(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w0(e)&&-1!==t.indexOf("/"))throw new Ae(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Yt.fromString(t));if(!ze.isDocumentKey(r))throw new Ae(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return od(n,new ze(r))}if(t instanceof er)return od(n,t._key);throw new Ae(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${MC(t)}.`)}function Tx(n,e){if(!Array.isArray(n)||0===n.length)throw new Ae(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ax(n,e){if(e.isInequality()){const r=Kp(n),o=e.field;if(null!==r&&!r.isEqual(o))throw new Ae(re.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const u=Ey(n);null!==u&&Sx(0,o,u)}const t=function(r,o){for(const u of r)for(const c of u.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ae(re.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Sx(n,e,t){if(!t.isEqual(e))throw new Ae(re.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class cA{convertValue(e,t="none"){switch(Pu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw st()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ka(e,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new PC(Tn(e.latitude),Tn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=a0(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(jh(e));default:return null}}convertTimestamp(e){const t=Bl(e);return new qn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Yt.fromString(e);ct(iC(r));const o=new sd(r.get(1),r.get(3)),u=new ze(r.popFirst(5));return o.isEqual(t)||Vn(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function jC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class CR extends cA{constructor(e){super(),this.firestore=e}convertBytes(e){return new tc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}}class bg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wd extends pw{constructor(e,t,r,o,u,c){super(e,t,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(LC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class yw extends wd{data(e={}){return super.data(e)}}class cf{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new bg(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new yw(this._firestore,this._userDataWriter,r.key,r,new bg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new yw(r._firestore,r._userDataWriter,c.doc.key,c.doc,new bg(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>o||3!==c.type).map(c=>{const m=new yw(r._firestore,r._userDataWriter,c.doc.key,c.doc,new bg(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,T=-1;return 0!==c.type&&(w=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),1!==c.type&&(u=u.add(c.doc),T=u.indexOf(c.doc.key)),{type:bR(c.type),doc:m,oldIndex:w,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function bR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function Mx(n,e){return n instanceof wd&&e instanceof wd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof cf&&e instanceof cf&&n._firestore===e._firestore&&nA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class df extends cA{constructor(e){super(),this.firestore=e}convertBytes(e){return new tc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}}function Rx(n,e,t){n=Xt(n,er);const r=Xt(n.firestore,tr),o=jC(n.converter,e,t);return r_(r,[NC(Cg(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Bn.none())])}function Px(n,e,t,...r){n=Xt(n,er);const o=Xt(n.firestore,tr),u=Cg(o);let c;return c="string"==typeof(e=(0,an.m9)(e))||e instanceof vd?oA(u,"updateDoc",n._key,e,t,r):sA(u,"updateDoc",n._key,e),r_(o,[c.toMutation(n._key,Bn.exists(!0))])}function Ox(n,...e){var t,r,o;n=(0,an.m9)(n);let u={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||rA(e[c])||(u=e[c],c++);const m={includeMetadataChanges:u.includeMetadataChanges};if(rA(e[c])){const P=e[c];e[c]=null===(t=P.next)||void 0===t?void 0:t.bind(P),e[c+1]=null===(r=P.error)||void 0===r?void 0:r.bind(P),e[c+2]=null===(o=P.complete)||void 0===o?void 0:o.bind(P)}let w,T,M;if(n instanceof er)T=Xt(n.firestore,tr),M=ud(n._key.path),w={next:P=>{e[c]&&e[c](dA(T,n,P))},error:e[c+1],complete:e[c+2]};else{const P=Xt(n,Yi);T=Xt(P.firestore,tr),M=P._query;const G=new df(T);w={next:K=>{e[c]&&e[c](new cf(T,G,P,K))},error:e[c+1],complete:e[c+2]},Cx(n._query)}return function(P,G,K,Ce){const Ne=new TC(Ce),Ve=new wT(G,Ne,K);return P.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return gT(yield t_(P),Ve)})),()=>{Ne.Dc(),P.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return yT(yield t_(P),Ve)}))}}(Lr(T),M,m,w)}function r_(n,e){return function(t,r){const o=new br;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function v1(n,e,t){return bT.apply(this,arguments)}(yield XT(t),r,o)})),o.promise}(Lr(n),e)}function dA(n,e,t){const r=t.docs.get(e._key),o=new df(n);return new wd(n,o,e._key,r,new bg(t.hasPendingWrites,t.fromCache),e.converter)}const HR={maxAttempts:5};class Nx{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Cg(e)}set(e,t,r){this._verifyNotCommitted();const o=hf(e,this._firestore),u=jC(o.converter,t,r),c=NC(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(c.toMutation(o._key,Bn.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=hf(e,this._firestore);let c;return c="string"==typeof(t=(0,an.m9)(t))||t instanceof vd?oA(this._dataReader,"WriteBatch.update",u._key,t,r,o):sA(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(c.toMutation(u._key,Bn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=hf(e,this._firestore);return this._mutations=this._mutations.concat(new og(t._key,Bn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hf(n,e){if((n=(0,an.m9)(n)).firestore!==e)throw new Ae(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class GR extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Cg(e)}get(e){const t=hf(e,this._firestore),r=new CR(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return st();const u=o[0];if(u.isFoundDocument())return new pw(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new pw(this._firestore,r,t._key,null,t.converter);throw st()})}set(e,t,r){const o=hf(e,this._firestore),u=jC(o.converter,t,r),c=NC(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,c),this}update(e,t,r,...o){const u=hf(e,this._firestore);let c;return c="string"==typeof(t=(0,an.m9)(t))||t instanceof vd?oA(this._dataReader,"Transaction.update",u._key,t,r,o):sA(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,c),this}delete(e){const t=hf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=hf(e,this._firestore),r=new df(this._firestore);return super.get(e).then(o=>new wd(this._firestore,r,t._key,o._document,new bg(!1,!1),t.converter))}}function hA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Fx(){if("undefined"==typeof Uint8Array)throw new Ae("unimplemented","Uint8Arrays are not available in this environment.")}function Lx(){if(!function ab(){return"undefined"!=typeof atob}())throw new Ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Su=mh.SDK_VERSION,(0,mh._registerComponent)(new fp.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const u=t.getProvider("app").getImmediate(),c=new tr(new aS(t.getProvider("auth-internal")),new ay(t.getProvider("app-check-internal")),function(m,w){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ae(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sd(m.options.projectId,w)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),(0,mh.registerVersion)(iI,"3.13.0",n),(0,mh.registerVersion)(iI,"3.13.0","esm2017")}();class _w{constructor(e){this._delegate=e}static fromBase64String(e){return Lx(),new _w(tc.fromBase64String(e))}static fromUint8Array(e){return Fx(),new _w(tc.fromUint8Array(e))}toBase64(){return Lx(),this._delegate.toBase64()}toUint8Array(){return Fx(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function fA(n){return function XR(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class eP{enableIndexedDbPersistence(e,t){return function J1(n,e){gx(n=Xt(n,tr));const t=Lr(n);if(t._uninitializedComponentsProvider)throw new Ae(re.FAILED_PRECONDITION,"SDK cache is already specified.");Pi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),o=new e_;return px(t,o,new ZT(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function X1(n){gx(n=Xt(n,tr));const e=Lr(n);if(e._uninitializedComponentsProvider)throw new Ae(re.FAILED_PRECONDITION,"SDK cache is already specified.");Pi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new e_;return px(e,r,new KS(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function eR(n){if(n._initialized&&!n._terminated)throw new Ae(re.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new br;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(r){if(!Go.D())return Promise.resolve();const o=r+"main";yield Go.delete(o)}),function(r){return t.apply(this,arguments)})(wg(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Vx{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof sd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Pi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function cx(n,e,t,r={}){var o;const u=(n=Xt(n,cw))._getSettings(),c=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==c&&Pi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:c,ssl:!1})),r.mockUserToken){let m,w;if("string"==typeof r.mockUserToken)m=r.mockUserToken,w=zr.MOCK_USER;else{m=(0,an.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new Ae(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new zr(T)}n._authCredentials=new oS(new aI(m,w))}}(this._delegate,e,t,r)}enableNetwork(){return function nR(n){return function B1(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield JS(n),t=yield XS(n);return e.setNetworkEnabled(!0),function(r){const o=Qe(r);return o.vu.delete(0),aw(o)}(t)}))}(Lr(n=Xt(n,tr)))}(this._delegate)}disableNetwork(){return function rR(n){return function j1(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield JS(n),t=yield XS(n);return e.setNetworkEnabled(!1),(r=(0,ye.Z)(function*(o){const u=Qe(o);u.vu.add(0),yield zy(u),u.bu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Lr(n=Xt(n,tr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,sx("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function tR(n){return function(e){const t=new br;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function C1(n,e){return MT.apply(this,arguments)}(yield XT(e),t)})),t.promise}(Lr(n=Xt(n,tr)))}(this._delegate)}onSnapshotsInSync(e){return function NR(n,e){return function G1(n,e){const t=new TC(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield t_(n),o=t,Qe(r).ku.add(o),void o.next();var r,o})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield t_(n),o=t,void Qe(r).ku.delete(o);var r,o}))}}(Lr(n=Xt(n,tr)),rA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new i_(this,dx(this._delegate,e))}catch(t){throw Bs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ba(this,RC(this._delegate,e))}catch(t){throw Bs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new js(this,function W1(n,e){if(n=Xt(n,cw),tA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ae(re.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Yi(n,null,(t=e,new Va(Yt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Bs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function qR(n,e,t){n=Xt(n,tr);const r=Object.assign(Object.assign({},HR),t);return function(o){if(o.maxAttempts<1)throw new Ae(re.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,c){const m=new br;return o.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const w=yield function ex(n){return SC(n).then(e=>e.datastore)}(o);new V1(o.asyncQueue,w,c,u,m).run()})),m.promise}(Lr(n),o=>e(new GR(n,o)),r)}(this._delegate,t=>e(new Ux(this,t)))}batch(){return Lr(this._delegate),new Bx(new Nx(this._delegate,e=>r_(this._delegate,e)))}loadBundle(e){return function iR(n,e){const t=Lr(n=Xt(n,tr)),r=new Y1;return function q1(n,e,t,r){const o=function(u,c){let m;return m="string"==typeof u?F0().encode(u):u,w=function(w,T){if(w instanceof Uint8Array)return YS(w,T);if(w instanceof ArrayBuffer)return YS(new Uint8Array(w),T);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new F1(w,c);var w}(t,ow(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function N1(n,e,t){const r=Qe(n);var o;(o=(0,ye.Z)(function*(u,c,m){try{const w=yield c.getMetadata();if(yield function(G,K){const Ce=Qe(G),Ne=vr(K.createTime);return Ce.persistence.runTransaction("hasNewerBundle","readonly",Ve=>Ce.qs.getBundleMetadata(Ve,K.id)).then(Ve=>!!Ve&&Ve.createTime.compareTo(Ne)>=0)}(u.localStore,w))return yield c.close(),m._completeWith({taskState:"Success",documentsLoaded:(G=w).totalDocuments,bytesLoaded:G.totalBytes,totalDocuments:G.totalDocuments,totalBytes:G.totalBytes}),Promise.resolve(new Set);m._updateProgress(BS(w));const T=new f1(w,u.localStore,c.serializer);let M=yield c.bc();for(;M;){const G=yield T.zu(M);G&&m._updateProgress(G),M=yield c.bc()}const P=yield T.complete();return yield _d(u,P.Ju,void 0),yield function(G,K){const Ce=Qe(G);return Ce.persistence.runTransaction("Save bundle","readwrite",Ne=>Ce.qs.saveBundleMetadata(Ne,K))}(u.localStore,w),m._completeWith(P.progress),Promise.resolve(P.Hu)}catch(w){return Pi("SyncEngine",`Loading bundle failed with ${w}`),m._failWith(w),Promise.resolve(new Set)}var G}),function(u,c,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield XT(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function sR(n,e){return function Z1(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,r){const o=Qe(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.qs.getNamedQuery(u,r))}(yield xC(n),e)}))}(Lr(n=Xt(n,tr)),e).then(t=>t?new Yi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new js(this,t):null)}}class $C extends cA{constructor(e){super(),this.firestore=e}convertBytes(e){return new _w(new tc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ba.forKey(t,this.firestore,null)}}class Ux{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new $C(e)}get(e){const t=Ag(e);return this._delegate.get(t).then(r=>new vw(this._firestore,new wd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Ag(e);return r?(hA("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Ag(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Ag(e);return this._delegate.delete(t),this}}class Bx{constructor(e){this._delegate=e}set(e,t,r){const o=Ag(e);return r?(hA("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Ag(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Ag(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Tg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new yw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ww(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Tg.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new Tg(e,new $C(e),t),o.set(t,u)),u}}Tg.INSTANCES=new WeakMap;class Ba{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $C(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ba(t,new er(t._delegate,r,new ze(e)))}static forKey(e,t,r){return new Ba(t,new er(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new i_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new i_(this.firestore,dx(this._delegate,e))}catch(t){throw Bs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,an.m9)(e))instanceof er&&hx(this._delegate,e)}set(e,t){t=hA("DocumentReference.set",t);try{return t?Rx(this._delegate,e,t):Rx(this._delegate,e)}catch(r){throw Bs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?Px(this._delegate,e):Px(this._delegate,e,t,...r)}catch(o){throw Bs(o,"updateDoc()","DocumentReference.update()")}}delete(){return function PR(n){return r_(Xt(n.firestore,tr),[new og(n._key,Bn.none())])}(this._delegate)}onSnapshot(...e){const t=jx(e),r=$x(e,o=>new vw(this.firestore,new wd(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return Ox(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function AR(n){n=Xt(n,er);const e=Xt(n.firestore,tr),t=Lr(e),r=new df(e);return function $1(n,e){const t=new br;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(o,u,c){try{const m=yield function(w,T){const M=Qe(w);return M.persistence.runTransaction("read document","readonly",P=>M.localDocuments.getDocument(P,T))}(o,u);m.isFoundDocument()?c.resolve(m):m.isNoDocument()?c.resolve(null):c.reject(new Ae(re.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const w=Yy(m,`Failed to get document '${u} from cache`);c.reject(w)}}),function(o,u,c){return r.apply(this,arguments)})(yield xC(n),e,t);var r})),t.promise}(t,n._key).then(o=>new wd(e,r,n._key,o,new bg(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function SR(n){n=Xt(n,er);const e=Xt(n.firestore,tr);return tx(Lr(e),n._key,{source:"server"}).then(t=>dA(e,n,t))}(this._delegate):function TR(n){n=Xt(n,er);const e=Xt(n.firestore,tr);return tx(Lr(e),n._key).then(t=>dA(e,n,t))}(this._delegate),t.then(r=>new vw(this.firestore,new wd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ba(this.firestore,this._delegate.withConverter(e?Tg.getInstance(this.firestore,e):null))}}function Bs(n,e,t){return n.message=n.message.replace(e,t),n}function jx(n){for(const e of n)if("object"==typeof e&&!fA(e))return e;return{}}function $x(n,e){var t,r;let o;return o=fA(n[0])?n[0]:fA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class vw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ba(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Mx(this._delegate,e._delegate)}}class ww extends vw{data(e){const t=this._delegate.data(e);return function oI(n,e){n||st()}(void 0!==t),t}}class js{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $C(e)}where(e,t,r){try{return new js(this.firestore,lf(this._delegate,function gR(n,e,t){const r=e,o=LC("where",n);return mw._create(o,r,t)}(e,t,r)))}catch(o){throw Bs(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new js(this.firestore,lf(this._delegate,function mR(n,e="asc"){const t=e,r=LC("orderBy",n);return lA._create(r,t)}(e,t)))}catch(r){throw Bs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new js(this.firestore,lf(this._delegate,function yR(n){return ux("limit",n),VC._create("limit",n,"F")}(e)))}catch(t){throw Bs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new js(this.firestore,lf(this._delegate,function _R(n){return ux("limitToLast",n),VC._create("limitToLast",n,"L")}(e)))}catch(t){throw Bs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new js(this.firestore,lf(this._delegate,function vR(...n){return UC._create("startAt",n,!0)}(...e)))}catch(t){throw Bs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new js(this.firestore,lf(this._delegate,function wR(...n){return UC._create("startAfter",n,!1)}(...e)))}catch(t){throw Bs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new js(this.firestore,lf(this._delegate,function ER(...n){return BC._create("endBefore",n,!1)}(...e)))}catch(t){throw Bs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new js(this.firestore,lf(this._delegate,function IR(...n){return BC._create("endAt",n,!0)}(...e)))}catch(t){throw Bs(t,"endAt()","Query.endAt()")}}isEqual(e){return nA(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function MR(n){n=Xt(n,Yi);const e=Xt(n.firestore,tr),t=Lr(e),r=new df(e);return function H1(n,e){const t=new br;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(o,u,c){try{const m=yield vC(o,u,!0),w=new HS(u,m.ir),T=w.sc(m.documents),M=w.applyChanges(T,!1);c.resolve(M.snapshot)}catch(m){const w=Yy(m,`Failed to execute query '${u} against cache`);c.reject(w)}}),function(o,u,c){return r.apply(this,arguments)})(yield xC(n),e,t);var r})),t.promise}(t,n._query).then(o=>new cf(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function RR(n){n=Xt(n,Yi);const e=Xt(n.firestore,tr),t=Lr(e),r=new df(e);return nx(t,n._query,{source:"server"}).then(o=>new cf(e,r,n,o))}(this._delegate):function xR(n){n=Xt(n,Yi);const e=Xt(n.firestore,tr),t=Lr(e),r=new df(e);return Cx(n._query),nx(t,n._query).then(o=>new cf(e,r,n,o))}(this._delegate),t.then(r=>new pA(this.firestore,new cf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=jx(e),r=$x(e,o=>new pA(this.firestore,new cf(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return Ox(this._delegate,t,r)}withConverter(e){return new js(this.firestore,this._delegate.withConverter(e?Tg.getInstance(this.firestore,e):null))}}class nP{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ww(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class pA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new js(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ww(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new nP(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new ww(this._firestore,r))})}isEqual(e){return Mx(this._delegate,e._delegate)}}class i_ extends js{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ba(this.firestore,e):null}doc(e){try{return new Ba(this.firestore,void 0===e?RC(this._delegate):RC(this._delegate,e))}catch(t){throw Bs(t,"doc()","CollectionReference.doc()")}}add(e){return function OR(n,e){const t=Xt(n.firestore,tr),r=RC(n),o=jC(n.converter,e);return r_(t,[NC(Cg(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Bn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ba(this.firestore,t))}isEqual(e){return hx(this._delegate,e._delegate)}withConverter(e){return new i_(this.firestore,this._delegate.withConverter(e?Tg.getInstance(this.firestore,e):null))}}function Ag(n){return Xt(n,er)}class gA{constructor(...e){this._delegate=new vd(...e)}static documentId(){return new gA(hr.keyField().canonicalString())}isEqual(e){return(e=(0,an.m9)(e))instanceof vd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Sg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function zR(){return new iA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Sg(e)}static delete(){const e=function ZR(){return new hw("deleteField")}();return e._methodName="FieldValue.delete",new Sg(e)}static arrayUnion(...e){const t=function WR(...n){return new cR("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Sg(t)}static arrayRemove(...e){const t=function KR(...n){return new dR("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Sg(t)}static increment(e){const t=function YR(n){return new hR("increment",n)}(e);return t._methodName="FieldValue.increment",new Sg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const rP={Firestore:Vx,GeoPoint:PC,Timestamp:qn,Blob:_w,Transaction:Ux,WriteBatch:Bx,DocumentReference:Ba,DocumentSnapshot:vw,Query:js,QueryDocumentSnapshot:ww,QuerySnapshot:pA,CollectionReference:i_,FieldPath:gA,FieldValue:Sg,setLogLevel:function tP(n){!function sI(n){xu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function sP(n){(function iP(n,e){n.INTERNAL.registerComponent(new fp.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},rP)))})(n,(e,t)=>new Vx(e,t,new eP)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(ID.Z);var oP=N(6451),HC=N(5363),aP=N(6063);class uP extends Ei.x{constructor(e=1/0,t=1/0,r=aP.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:c}=this;t||(r.push(e),!o&&r.push(u.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let c=0;c<u.length&&!e.closed;c+=r?1:2)e.next(u[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const c=t.now();let m=0;for(let w=1;w<r.length&&r[w]<=c;w+=2)m=w;m&&r.splice(0,m+1)}}}var lP=N(3099);function Hx(n,e,t){var r,o;let u,c=!1;return n&&"object"==typeof n?(u=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(o=n.windowTime)&&void 0!==o?o:1/0,c=!!n.refCount,t=n.scheduler):u=null!=n?n:1/0,(0,lP.B)({connector:()=>new uP(u,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}function Gx(n,e){return(0,bf.m)(e)?Er(()=>n,e):Er(()=>n)}var mA=N(9468);N(259);const _A=new Map,Zx={activated:!1,tokenObservers:[]},pP={initialized:!1,enabled:!1};function Tr(n){return _A.get(n)||Object.assign({},Zx)}function qC(){return pP}class wP{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new an.BH,yield function EP(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new an.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Qi=new an.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function wA(n){if(!Tr(n).activated)throw Qi.create("use-before-activation",{appName:n.name})}function WC(n,e){return IA.apply(this,arguments)}function IA(){return IA=(0,ye.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const P=yield o.getHeartbeatsHeader();P&&(r["X-Firebase-Client"]=P)}const u={method:"POST",body:JSON.stringify(e),headers:r};let c,m;try{c=yield fetch(n,u)}catch(P){throw Qi.create("fetch-network-error",{originalErrorMessage:null==P?void 0:P.message})}if(200!==c.status)throw Qi.create("fetch-status-error",{httpStatus:c.status});try{m=yield c.json()}catch(P){throw Qi.create("fetch-parse-error",{originalErrorMessage:null==P?void 0:P.message})}const w=m.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw Qi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const T=1e3*Number(w[1]),M=Date.now();return{token:m.token,expireTimeMillis:M+T,issuedAtTimeMillis:M}}),IA.apply(this,arguments)}function Wx(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const Ew="firebase-app-check-store";let KC=null;function Yx(){return KC||(KC=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(Qi.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ew,{keyPath:"compositeKey"})}}catch(t){e(Qi.create("storage-open",{originalErrorMessage:null==t?void 0:t.message}))}}),KC)}function CA(){return CA=(0,ye.Z)(function*(n,e){const r=(yield Yx()).transaction(Ew,"readwrite"),u=r.objectStore(Ew).put({compositeKey:n,value:e});return new Promise((c,m)=>{u.onsuccess=w=>{c()},r.onerror=w=>{var T;m(Qi.create("storage-set",{originalErrorMessage:null===(T=w.target.error)||void 0===T?void 0:T.message}))}})}),CA.apply(this,arguments)}const Iw=new xl.Yd("@firebase/app-check");function TA(n,e){return(0,an.hl)()?function SP(n,e){return function Qx(n,e){return CA.apply(this,arguments)}(function Xx(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Iw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function SA(){return qC().enabled}function xA(){return MA.apply(this,arguments)}function MA(){return MA=(0,ye.Z)(function*(){const n=qC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),MA.apply(this,arguments)}const NP={error:"UNKNOWN_ERROR"};function kP(n){return an.US.encodeString(JSON.stringify(n),!1)}function YC(n){return RA.apply(this,arguments)}function RA(){return RA=(0,ye.Z)(function*(n,e=!1){const t=n.app;wA(t);const r=Tr(t);let u,o=r.token;if(o&&!s_(o)&&(r.token=void 0,o=void 0),!o){const w=yield r.cachedTokenPromise;w&&(s_(w)?o=w:yield TA(t,void 0))}if(!e&&o&&s_(o))return{token:o.token};let m,c=!1;if(SA()){r.exchangeTokenPromise||(r.exchangeTokenPromise=WC(Wx(t,yield xA()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const w=yield r.exchangeTokenPromise;return yield TA(t,w),r.token=w,{token:w.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),o=yield Tr(t).exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?Iw.warn(w.message):Iw.error(w),u=w}return o?u?m=s_(o)?{token:o.token,internalError:u}:rM(u):(m={token:o.token},r.token=o,yield TA(t,o)):m=rM(u),c&&nM(t,m),m}),RA.apply(this,arguments)}function PA(){return PA=(0,ye.Z)(function*(n){const e=n.app;wA(e);const{provider:t}=Tr(e);if(SA()){const r=yield xA(),{token:o}=yield WC(Wx(e,r),n.heartbeatServiceProvider);return{token:o}}{const{token:r}=yield t.getToken();return{token:r}}}),PA.apply(this,arguments)}function NA(n,e){const t=Tr(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function tM(n){const{app:e}=n,t=Tr(e);let r=t.tokenRefresher;r||(r=function FP(n){const{app:e}=n;return new wP((0,ye.Z)(function*(){let r;if(r=Tr(e).token?yield YC(n,!0):yield YC(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Tr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function nM(n,e){const t=Tr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function s_(n){return n.expireTimeMillis-Date.now()>0}function rM(n){return{token:kP(NP),error:n}}class LP{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Tr(this.app);for(const t of e)NA(this.app,t.next);return Promise.resolve()}}const dM="app-check-internal";!function QP(){(0,mh._registerComponent)(new fp.wA("app-check",n=>function VP(n,e){return new LP(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(dM).initialize()})),(0,mh._registerComponent)(new fp.wA(dM,n=>function UP(n){return{getToken:e=>YC(n,e),getLimitedUseToken:()=>function eM(n){return PA.apply(this,arguments)}(n),addTokenListener:e=>function OA(n,e,t,r){const{app:o}=n,u=Tr(o);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&s_(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),tM(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>tM(n))}(n,"INTERNAL",e),removeTokenListener:e=>NA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,mh.registerVersion)("@firebase/app-check","0.8.0")}();class VA{constructor(){return(0,ai.vb)("app-check")}}"undefined"!=typeof window&&window,N(9260);const fM=new f.OlP("angularfire2.auth.use-emulator"),pM=new f.OlP("angularfire2.auth.settings"),gM=new f.OlP("angularfire2.auth.tenant-id"),mM=new f.OlP("angularfire2.auth.langugage-code"),yM=new f.OlP("angularfire2.auth.use-device-language"),_M=new f.OlP("angularfire.auth.persistence"),vM=(n,e,t,r,o,u,c,m)=>(0,Vo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=o,u&&w.useDeviceLanguage(),c)for(const[T,M]of Object.entries(c))w.settings[T]=M;return m&&w.setPersistence(m),w},[t,r,o,u,c,m]);let wM=(()=>{class n{constructor(t,r,o,u,c,m,w,T,M,P,G,K){const Ce=new Ei.x,Ne=vt(void 0).pipe((0,HC.Q)(c.outsideAngular),Er(()=>u.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,1825)))),(0,Vt.U)(()=>(0,Vo.on)(t,u,r)),(0,Vt.U)(Ve=>vM(Ve,u,m,T,M,P,w,G)),Hx({bufferSize:1,refCount:!1}));if(za(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=vt(null);else{Ne.pipe(Eo()).subscribe();const lt=Ne.pipe(Er(At=>At.getRedirectResult().then(Zt=>Zt,()=>null)),ai.iC,Hx({bufferSize:1,refCount:!1})),Pt=Ne.pipe(Er(At=>new Jn.y(Zt=>({unsubscribe:u.runOutsideAngular(()=>At.onAuthStateChanged(nn=>Zt.next(nn),nn=>Zt.error(nn),()=>Zt.complete()))})))),ht=Ne.pipe(Er(At=>new Jn.y(Zt=>({unsubscribe:u.runOutsideAngular(()=>At.onIdTokenChanged(nn=>Zt.next(nn),nn=>Zt.error(nn),()=>Zt.complete()))}))));this.authState=lt.pipe(Gx(Pt),(0,mA.R)(c.outsideAngular),(0,HC.Q)(c.insideAngular)),this.user=lt.pipe(Gx(ht),(0,mA.R)(c.outsideAngular),(0,HC.Q)(c.insideAngular)),this.idToken=this.user.pipe(Er(At=>At?(0,mn.D)(At.getIdToken()):vt(null))),this.idTokenResult=this.user.pipe(Er(At=>At?(0,mn.D)(At.getIdTokenResult()):vt(null))),this.credential=(0,oP.T)(lt,Ce,this.authState.pipe(Hi(At=>!At))).pipe((0,Vt.U)(At=>(null==At?void 0:At.user)?At:null),(0,mA.R)(c.outsideAngular),(0,HC.Q)(c.insideAngular))}return(0,Vo.pX)(this,Ne,u,{spy:{apply:(Ve,lt,Pt)=>{(Ve.startsWith("signIn")||Ve.startsWith("createUser"))&&Pt.then(ht=>Ce.next(ht))}}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Vo.Dh),f.LFG(Vo.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(ai.HU),f.LFG(fM,8),f.LFG(pM,8),f.LFG(gM,8),f.LFG(mM,8),f.LFG(yM,8),f.LFG(_M,8),f.LFG(VA,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function EM(n,e){return function rO(n,e=cE.z){return new Jn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function BA(n,e){return EM(n,e).pipe((0,Vt.U)(t=>({payload:t,type:"query"})))}function JC(n,e){return BA(n,e).pipe(on(void 0),Cm(),(0,Vt.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,m)=>{const w=o.find(M=>M.doc.ref.isEqual(c.ref)),T=null==t?void 0:t.payload.docs.find(M=>M.ref.isEqual(c.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(c.metadata)||!w&&T&&JSON.stringify(T.metadata)===JSON.stringify(c.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:c}})}),u}))}function IM(n,e,t){return JC(n,t).pipe(Mn((r,o)=>function sO(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function oO(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return jA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return jA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return jA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),function dE(n,e=zs.y){return n=null!=n?n:ED,(0,mr.e)((t,r)=>{let o,u=!0;t.subscribe(new ar.Q(r,c=>{const m=e(c);(u||!n(o,m))&&(u=!1,o=m,r.next(c))}))})}(),(0,Vt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function jA(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function CM(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class DM{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=JC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Vt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(on(void 0),Cm(),Hi(([r,o])=>o.length>0||!r),(0,Vt.U)(([r,o])=>o),ai.iC)}auditTrail(e){return this.stateChanges(e).pipe(Mn((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=CM(e);return IM(this.query,t,this.afs.schedulers.outsideAngular).pipe(ai.iC)}valueChanges(e={}){return BA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Vt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ai.iC)}get(e){return(0,mn.D)(this.query.get(e)).pipe(ai.iC)}add(e){return this.ref.add(e)}doc(e){return new bM(this.ref.doc(e),this.afs)}}class bM{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=TM(r,t);return new DM(o,u,this.afs)}snapshotChanges(){return function iO(n,e){return EM(n,e).pipe(on(void 0),Cm(),(0,Vt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ai.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Vt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,mn.D)(this.ref.get(e)).pipe(ai.iC)}}class aO{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?JC(this.query,this.afs.schedulers.outsideAngular).pipe((0,Vt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Hi(t=>t.length>0),ai.iC):JC(this.query,this.afs.schedulers.outsideAngular).pipe(ai.iC)}auditTrail(e){return this.stateChanges(e).pipe(Mn((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=CM(e);return IM(this.query,t,this.afs.schedulers.outsideAngular).pipe(ai.iC)}valueChanges(e={}){return BA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Vt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),ai.iC)}get(e){return(0,mn.D)(this.query.get(e)).pipe(ai.iC)}}const uO=new f.OlP("angularfire2.enableFirestorePersistence"),lO=new f.OlP("angularfire2.firestore.persistenceSettings"),cO=new f.OlP("angularfire2.firestore.settings"),dO=new f.OlP("angularfire2.firestore.use-emulator");function TM(n,e=(t=>t)){return{query:e(n),ref:n}}let AM=(()=>{class n{constructor(t,r,o,u,c,m,w,T,M,P,G,K,Ce,Ne,Ve,lt,Pt){this.schedulers=w;const ht=(0,Vo.on)(t,m,r),At=M;P&&vM(ht,m,G,Ce,Ne,Ve,K,lt),[this.firestore,this.persistenceEnabled$]=(0,Vo.cc)(`${ht.name}.firestore`,"AngularFirestore",ht.name,()=>{const Zt=m.runOutsideAngular(()=>ht.firestore());if(u&&Zt.settings(u),At&&Zt.useEmulator(...At),o&&!za(c)){const nn=()=>{try{return(0,mn.D)(Zt.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(ys){return"undefined"!=typeof console&&console.warn(ys),vt(!1)}};return[Zt,m.runOutsideAngular(nn)]}return[Zt,vt(!1)]},[u,At,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:c}=TM(o,r),m=this.schedulers.ngZone.run(()=>u);return new DM(m,c,this)}collectionGroup(t,r){const o=r||(c=>c),u=this.firestore.collectionGroup(t);return new aO(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new bM(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Vo.Dh),f.LFG(Vo.xv,8),f.LFG(uO,8),f.LFG(cO,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(ai.HU),f.LFG(lO,8),f.LFG(dO,8),f.LFG(wM,8),f.LFG(fM,8),f.LFG(pM,8),f.LFG(gM,8),f.LFG(mM,8),f.LFG(yM,8),f.LFG(_M,8),f.LFG(VA,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const hO=["sliderContainer"];let fO=(()=>{class n{constructor(t){this.renderer=t,this.currentSlideIndex=0,this.slideInterval=3500}ngAfterViewInit(){this.initializeSlider()}ngOnDestroy(){clearInterval(this.intervalId)}initializeSlider(){!this.sliderContainer||(this.sliderItems=this.sliderContainer.nativeElement.querySelectorAll(".items li"),this.showSlide(),this.startSlideShow(),this.sliderItems.forEach(t=>{t.addEventListener("click",()=>{clearInterval(this.intervalId),this.showNextSlide()})}))}prev(){clearInterval(this.intervalId),this.showPrevSlide(),this.startSlideShow()}next(){clearInterval(this.intervalId),this.showNextSlide(),this.startSlideShow()}showSlide(){this.sliderItems.forEach((t,r)=>{this.renderer.setStyle(t,"display",r===this.currentSlideIndex?"block":"none")})}startSlideShow(){this.intervalId=setInterval(()=>{this.showNextSlide()},this.slideInterval)}showNextSlide(){this.currentSlideIndex=(this.currentSlideIndex+1)%this.sliderItems.length,this.showSlide()}showPrevSlide(){this.currentSlideIndex=(this.currentSlideIndex-1+this.sliderItems.length)%this.sliderItems.length,this.showSlide()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-header"]],viewQuery:function(t,r){if(1&t&&f.Gf(hO,5),2&t){let o;f.iGM(o=f.CRH())&&(r.sliderContainer=o.first)}},decls:32,vars:0,consts:[["id","header",1,"header"],["header",""],[1,"h1-large","animated-text-left"],["src","assets/images/icons/ie.png","alt","Avatar",1,"icon"],[1,"wrapper"],[1,"slider"],["sliderContainer",""],[1,"items"],["src","assets/images/slider-img01.png","alt",""],["src","assets/images/slider-img02.png","alt",""],["src","assets/images/slider-img03.png","alt",""],[1,"banner1-bg"],[1,"text-container"],[1,"banner-1"],["src","assets/images/banner-1.png",1,"flip"],[1,"p-large","animated-text-right"],["href","#classes",1,"btn-outline-lg"]],template:function(t,r){1&t&&(f.TgZ(0,"header",0,1),f.TgZ(2,"h1",2),f._uU(3,"Na Eala\xed Damhsa | Elevate Your Ballet Journey With Eilish Heneghan"),f._UZ(4,"img",3),f.qZA(),f.TgZ(5,"div",4),f.TgZ(6,"div",5,6),f.TgZ(8,"ul",7),f.TgZ(9,"li"),f._UZ(10,"img",8),f.qZA(),f.TgZ(11,"li"),f._UZ(12,"img",9),f.qZA(),f.TgZ(13,"li"),f._UZ(14,"img",10),f.qZA(),f.qZA(),f.qZA(),f._UZ(15,"div",11),f.qZA(),f.TgZ(16,"div",4),f.TgZ(17,"div",12),f.TgZ(18,"div",13),f._UZ(19,"img",14),f.qZA(),f.TgZ(20,"p",15),f._uU(21," Unlocking Potential through ISTD Graded Syllabus,"),f._UZ(22,"br"),f._uU(23," Technique Excellence, Personalized Guidance,"),f._UZ(24,"br"),f._uU(25,"Private Ballet Tuition for Exam Preparation "),f._UZ(26,"br"),f._uU(27,"for all backgrounds and levels in Shantalla, Galway."),f._UZ(28,"br"),f._uU(29," All Teens and Young Children are welcomed! "),f.qZA(),f.TgZ(30,"a",16),f._uU(31,"Class Details"),f.qZA(),f.qZA(),f.qZA(),f.qZA())},styles:['@font-face{font-family:Dancing Script;src:url(DancingScript-VariableFont_wght.152e2869d827ab02.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:Caveat;src:url(Caveat-VariableFont_wght.3393fd2e69e2b3e2.ttf) format("truetype");font-weight:400;font-style:normal}.wrapper[_ngcontent-%COMP%]{text-align:right;width:100%;overflow:hidden;display:inline-flex;justify-content:flex-end;position:relative}@media (min-width: 800px){.wrapper[_ngcontent-%COMP%]{text-align:right;width:100%;overflow:hidden;display:inline-flex;justify-content:flex-end;position:relative}}.text-container[_ngcontent-%COMP%]{padding:1rem}.h1-large[_ngcontent-%COMP%]{font-family:Dancing Script,cursive;color:#ee7f99!important;text-shadow:2px 2px #cfcfcf;font-size:2.5rem;text-align:left}.icon[_ngcontent-%COMP%]{max-width:2rem;max-height:2rem;vertical-align:top}.p-large[_ngcontent-%COMP%]{font-family:Caveat,cursive;letter-spacing:6px;color:#212121;text-shadow:2px 2px #bdbdbd;font-size:2rem;line-height:1.5}@media (max-width: 500px){.p-large[_ngcontent-%COMP%]{font-size:1.25rem;letter-spacing:0px;line-height:1.75}}.animated-text-left[_ngcontent-%COMP%]{opacity:0;animation:fadeInLeft 1.5s ease-in-out forwards}.animate-on-scroll.animated-text-left[_ngcontent-%COMP%]{animation:fadeInLeft 1.5s ease-in-out forwards}.animate-on-scroll.animated-text-left[_ngcontent-%COMP%]:not(.animate-on-scroll){animation:none;opacity:0}@keyframes fadeInLeft{0%{opacity:0;transform:translate(0)}to{opacity:1;transform:translate(20px)}}.animated-text-right[_ngcontent-%COMP%]{opacity:0;animation:fadeInRight 5s ease-in-out forwards}.animate-on-scroll.animated-text-right[_ngcontent-%COMP%]{animation:fadeInRight 5s ease-in-out forwards}.animate-on-scroll.animated-text-right[_ngcontent-%COMP%]:not(.animate-on-scroll){animation:none;opacity:0}@keyframes fadeInRight{0%{opacity:0;transform:translate(20px)}to{opacity:1;transform:translate(0)}}.flip[_ngcontent-%COMP%]{width:250px;perspective:1000px;animation:flipAnimation 14s ease-in-out infinite}@keyframes flipAnimation{0%,to{transform:rotateY(0)}16.67%,50%{transform:rotateY(180deg)}33.33%,83.33%{transform:rotateY(360deg)}66.67%{transform:rotateY(540deg)}}.slider-inner[_ngcontent-%COMP%]{padding-left:284px}.slider[_ngcontent-%COMP%]{width:736px;height:397px}@media (max-width: 960px){.slider[_ngcontent-%COMP%]{width:100%;height:100%}}.slider[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;object-fit:contain}.next[_ngcontent-%COMP%], .prev[_ngcontent-%COMP%]{display:block;width:58px;height:58px;text-indent:-9999px;background:url(slider-control.1e7fd5396abf801b.png) 0 0 no-repeat;position:absolute;left:0;top:47px;z-index:99;cursor:pointer}.next[_ngcontent-%COMP%]{left:auto;right:0;background-position:left bottom}.banner-1[_ngcontent-%COMP%]{width:250px;position:absolute;left:0;top:0;z-index:9}@media (max-width: 960px){.banner-1[_ngcontent-%COMP%]{position:static;z-index:-1;margin-top:20px}}@media (min-width: 1500px){.banner-1[_ngcontent-%COMP%]{left:10rem}}']}),n})(),pO=(()=>{class n{constructor(){}ngOnInit(){this.initMap()}initMap(){const r=new google.maps.Map(document.getElementById("map"),{center:{lat:53.27599862135748,lng:-9.071016311645508},zoom:15}),o=new google.maps.Marker({position:{lat:53.27599862135748,lng:-9.071016311645508},map:r,title:"St. Joseph's Community Centre"}),c=new google.maps.InfoWindow({content:'\n  <div>\n    <strong>St. Joseph\'s Community Centre</strong><br><br>\n    Ashe Rd, Shantalla<br>\n    Galway, Ireland<br><br>\n    <a href="https://goo.gl/maps/QZCUaC1tVGWvr2it9" target="_blank">View on Google Maps</a>\n  </div>\n'});c.open(r,o),o.addListener("click",()=>{c.open(r,o)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-map"]],decls:1,vars:0,consts:[["id","map",2,"height","400px"]],template:function(t,r){1&t&&f._UZ(0,"div",0)},styles:[""]}),n})(),gO=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-class"]],decls:57,vars:0,consts:[[1,"class-details"],[1,"container"],[1,"row"],[1,"col-lg-12"],[1,"section-title"],[1,"content-wrapper"],[1,"text-column"],[1,"card-title"],[1,"section-divider"],[1,"card-text"],[1,"image-column"],["src","assets/images/ballet-dance-classes.png","alt","Ballet Dance Classes"],[1,"card"],[1,"bi","bi-mortarboard-fill",2,"color","#ff4a8a"],[1,"bi","bi-cash-stack",2,"color","#ff4a8a"],[1,"pink"],[1,"bi","bi-calendar3",2,"color","#ff4a8a"],[1,"time"],[1,"bi","bi-geo-alt-fill",2,"color","#ff4a8a"]],template:function(t,r){1&t&&(f.TgZ(0,"section",0),f.TgZ(1,"div",1),f.TgZ(2,"div",2),f.TgZ(3,"div",3),f.TgZ(4,"div",4),f._uU(5,"CLASS TIMES & DETAILS"),f.qZA(),f.TgZ(6,"div",5),f.TgZ(7,"div",6),f.TgZ(8,"h2",7),f._uU(9,"Why Choose Our Ballet Classes?"),f.qZA(),f._UZ(10,"hr",8),f.TgZ(11,"p",9),f._uU(12," Our ballet classes are designed for young dancers of all backgrounds and levels. With a focus on ISTD Graded ballet syllabus and Progressing Ballet Technique, along with personalized private tuition for exam preparation, we provide a comprehensive dance education. "),f.qZA(),f.qZA(),f.TgZ(13,"div",10),f._UZ(14,"img",11),f.qZA(),f.qZA(),f.TgZ(15,"div",12),f.TgZ(16,"h3",7),f._UZ(17,"i",13),f._uU(18,"\xa0\xa0Expert Instruction"),f.qZA(),f.TgZ(19,"p",9),f._uU(20,"Our experienced instructors are dedicated to nurturing your child's passion for ballet while honing their skills."),f.qZA(),f.qZA(),f.TgZ(21,"div",12),f.TgZ(22,"h3",7),f._UZ(23,"i",14),f._uU(24,"\xa0\xa0Flexible Pricing"),f.qZA(),f.TgZ(25,"p",9),f._uU(26,"Enjoy affordable rates at just "),f.TgZ(27,"span",15),f._uU(28,"\u20ac5 per class"),f.qZA(),f._uU(29," or "),f.TgZ(30,"span",15),f._uU(31,"\u20ac50 for a 10-week term"),f.qZA(),f._uU(32,"."),f.qZA(),f.qZA(),f.TgZ(33,"div",12),f.TgZ(34,"h3",7),f._UZ(35,"i",16),f._uU(36,"\xa0\xa0Tailored Timetable"),f.qZA(),f.TgZ(37,"p",9),f._uU(38,"We offer convenient class times on Wednesdays, catering to different levels:"),f.qZA(),f.TgZ(39,"div",17),f.TgZ(40,"p",15),f._uU(41,"Primary / Grade 1: 3:00 PM - 3:45 PM"),f.qZA(),f.TgZ(42,"p",15),f._uU(43,"Grade 2 / Grade 3: 3:45 PM - 4:45 PM"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(44,"div",12),f.TgZ(45,"h3",7),f._UZ(46,"i",18),f._uU(47,"\xa0\xa0Convenient Venue"),f.qZA(),f.TgZ(48,"p",9),f._uU(49,"Classes are held at the welcoming "),f.TgZ(50,"span",15),f._uU(51,"St. Joseph's Community Centre"),f.qZA(),f._uU(52," in "),f.TgZ(53,"span",15),f._uU(54,"Ashe Rd, Shantalla, Galway"),f.qZA(),f._uU(55,"."),f.qZA(),f._UZ(56,"app-map"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA())},directives:[pO],styles:[".class-details[_ngcontent-%COMP%]{padding-top:10rem}.class-details[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media (min-width: 768px){.class-details[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{flex-direction:row}}.class-details[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .text-column[_ngcontent-%COMP%]{flex:1;padding-right:20px}@media (min-width: 768px){.class-details[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .text-column[_ngcontent-%COMP%]{padding-right:40px}}.class-details[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .image-column[_ngcontent-%COMP%]{margin-top:20px}@media (min-width: 768px){.class-details[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .image-column[_ngcontent-%COMP%]{margin-top:0;flex-basis:40%;max-width:40%}}.class-details[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .image-column[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;display:block;margin:1rem auto;opacity:80%}@media (min-width: 768px){.class-details[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .image-column[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-block:1rem}}.class-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem!important}.class-details[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:20px;background-color:#fff;box-shadow:0 3px 6px #0000001a;margin-bottom:20px;border-radius:5px}.class-details[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .class-details[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin-bottom:10px;font-family:Caveat,cursive!important}.class-details[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   hr.section-divider[_ngcontent-%COMP%]{border:0;border-top:1px solid #eee;margin:20px 0}.class-details[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .pink[_ngcontent-%COMP%]{color:#ff66b2;font-weight:700}.class-details[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{text-align:left}.class-details[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{padding-left:20px}.class-details[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]{text-align:center}.class-details[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]{max-width:100%;height:auto;margin-top:20px}"]}),n})();function mO(n,e){1&n&&(f.TgZ(0,"p"),f._uU(1," Eilish's dance world is a fusion of tradition and innovation, offering the perfect platform for your young ones to blossom. Let Eilish nurture their potential, molding them into graceful dancers and confident individuals. Enroll today for a dance journey that's magical and transformative! "),f.qZA())}function yO(n,e){1&n&&(f.ynx(0),f._UZ(1,"i",81),f._uU(2," Read More... "),f.BQk())}function _O(n,e){1&n&&(f._UZ(0,"i",82),f._uU(1," Collapse... "))}function vO(n,e){1&n&&(f.TgZ(0,"div",83),f._uU(1,"Email is required"),f.qZA())}function wO(n,e){1&n&&(f.TgZ(0,"div",83),f._uU(1,"Please enter a valid email"),f.qZA())}function EO(n,e){1&n&&(f.TgZ(0,"div",83),f._uU(1,"Please enter a valid phone number (10 digits)"),f.qZA())}function IO(n,e){1&n&&(f.TgZ(0,"div",83),f._uU(1,"*Either Email or Phone number is required"),f.qZA())}function CO(n,e){1&n&&(f.TgZ(0,"div",84),f._uU(1,"Your enquiry has been submitted."),f.qZA())}function DO(n,e){1&n&&(f.TgZ(0,"div",83),f._uU(1,"Error during submission, Please try again."),f.qZA())}function SM(n){var e,t;const r=null===(e=n.get("email"))||void 0===e?void 0:e.value,o=null===(t=n.get("phone"))||void 0===t?void 0:t.value;return r||o?null:{emailOrPhoneRequired:!0}}let bO=(()=>{class n{constructor(t,r,o){this.firestore=t,this.viewportScroller=r,this.formBuilder=o,this.isExpanded=!1,this.activeSection="header",this.contactForm=this.formBuilder.group({name:["",Re.required],email:["",[Re.email]],phone:["",[Re.pattern("[- +()0-9]{6,}")]],message:["",Re.required]},{validators:[SM]}),this.equiryForm=this.firestore.collection("equiry"),this.submitted=!1,this.submission_error=!1,this.sections=["header","about","classes","testimonials","contact"]}ngOnInit(){this.contactForm=this.formBuilder.group({name:["",Re.required],email:["",[Re.email]],phone:["",[Re.pattern("[- +()0-9]{6,}")]],message:["",Re.required]},{validators:[SM]})}onScroll(t){this.updateActiveSection()}submitForm(){this.submitted=!1,this.submission_error=!1,this.contactForm.valid?(console.log("formData",this.contactForm.value),this.equiryForm.add(this.contactForm.value).then(r=>{console.log("Data Added",r)}).catch(r=>{console.log(r),this.submission_error=!0}).finally(()=>{this.submitted=!0,this.submission_error=!1}),this.submitted=!0):(console.log(this.contactForm.errors),this.submission_error=!0)}updateActiveSection(){for(const t of this.sections){const r=document.getElementById(t);if(r){const o=r.getBoundingClientRect();if(o.top<=50&&o.bottom>=50){this.activeSection=t,console.log("action section",this.activeSection);break}}}}expandDetail(){this.isExpanded=!this.isExpanded}scrollToSection(t){this.viewportScroller.scrollToAnchor(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(AM),f.Y36(Uu),f.Y36(ro))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-root"]],hostBindings:function(t,r){1&t&&f.NdJ("scroll",function(u){return r.onScroll(u)},!1,f.Jf7)},decls:202,vars:20,consts:[["id","navbarExample","aria-label","Main navigation",1,"navbar","navbar-expand-lg","fixed-top","navbar-light"],[1,"container"],["href","#",1,"navbar-brand","logo-image","logo-text"],["src","assets/images/logo.jpg"],["type","button","id","navbarSideCollapse","aria-label","Toggle navigation",1,"navbar-toggler","p-0","border-0"],[1,"navbar-toggler-icon"],["id","navbarsExampleDefault",1,"navbar-collapse","offcanvas-collapse"],[1,"navbar-nav","ms-auto","navbar-nav-scroll"],[1,"nav-item"],["aria-current","page","href","#header",1,"nav-link","active"],["href","#about",1,"nav-link"],["href","#classes",1,"nav-link"],["href","#testimonials",1,"nav-link"],["href","#contact",1,"nav-link"],[1,"social-container"],[1,"fa-stack"],["href","https://www.instagram.com/nahealai_damhsa/"],[1,"fas","fa-circle","fa-stack-2x"],[1,"fab","fa-instagram","fa-stack-1x"],["href","#contact",1,"btn-solid-sm"],["id","about",1,"basic-2"],[1,"row"],[1,"col-lg-6","col-xl-5"],[1,"text-container"],[1,"section-title"],[4,"ngIf"],[1,"btn-outline-reg",3,"click"],[4,"ngIf","ngIfElse"],["collapse",""],[1,"col-lg-6","col-xl-7"],[1,"image-container"],["src","assets/images/detail-02.jpg","alt","alternative",1,"img-fluid"],["id","classes"],["id","testimonials",1,"cards-2","bg-gray"],[1,"col-lg-12"],[1,"h2-heading"],[1,"card"],["src","assets/images/quotes.svg","alt","alternative",1,"quotes"],[1,"card-body"],[1,"testimonial-text"],[1,"testimonial-author"],[1,"gradient-floor","red-to-blue"],[1,"gradient-floor","blue-to-purple"],[1,"gradient-floor","purple-to-green"],["id","contact",1,"basic-3"],["id","contact-container"],["id","contact-section",1,"container","text-center"],[1,"row","padded","clearfix"],[1,"col-xs-6","col-md-3","text-center","contact-col"],[1,"fa","fa-user"],[1,"fa","fa-phone"],["title","Text Us","href","tel:00353858112261"],[1,"hidden-md","hidden-lg"],[1,"fa","fa-paper-plane"],["title","Email Us","href","mailto:info@metropolitanschoolofdance.ie"],[1,"fa","fa-share-alt"],["title","Join us on Instagram","href","https://www.instagram.com/nahealai_damhsa/","target","_blank"],["id","quote",1,"form-1"],[1,"col-lg-6"],[2,"font-size","smaller"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","formControlName","name","placeholder","Name*","required","",1,"form-control-input"],["type","email","formControlName","email","placeholder","Email",1,"form-control-input"],["style","color:red",4,"ngIf"],["type","text","formControlName","phone","placeholder","Phone Number","pattern","[0-9]{10}","title","Please enter a 10-digit phone number",1,"form-control-input"],["id","message","formControlName","message","placeholder","Leave me a message"],["type","submit",1,"form-control-submit-button"],["style","color:blue",4,"ngIf"],["style","color: red",4,"ngIf"],[1,"footer","bg-gray"],["src","assets/images/decoration-circles.png","alt","alternative",1,"decoration-circles"],[1,"copyright","bg-gray"],[1,"col-lg-6","col-md-12","col-sm-12"],[1,"list-unstyled","li-space-lg","p-small"],["href","#"],[1,"col-lg-3","col-md-12","col-sm-12"],[1,"p-small","statement"],["href","https://woonhimwong.me/","target","_blank"],["id","myBtn"],["src","assets/images/up-arrow.png","alt","alternative"],[1,"bi","bi-chevron-down"],[1,"bi","bi-chevron-up"],[2,"color","red"],[2,"color","blue"]],template:function(t,r){if(1&t&&(f.TgZ(0,"nav",0),f.TgZ(1,"div",1),f.TgZ(2,"a",2),f._UZ(3,"img",3),f.qZA(),f.TgZ(4,"button",4),f._UZ(5,"span",5),f.qZA(),f.TgZ(6,"div",6),f.TgZ(7,"ul",7),f.TgZ(8,"li",8),f.TgZ(9,"a",9),f._uU(10,"HOME"),f.qZA(),f.qZA(),f.TgZ(11,"li",8),f.TgZ(12,"a",10),f._uU(13,"OUR TEACHER"),f.qZA(),f.qZA(),f.TgZ(14,"li",8),f.TgZ(15,"a",11),f._uU(16,"CLASSES"),f.qZA(),f.qZA(),f.TgZ(17,"li",8),f.TgZ(18,"a",12),f._uU(19,"TESTIMONIALS"),f.qZA(),f.qZA(),f.TgZ(20,"li",8),f.TgZ(21,"a",13),f._uU(22,"CONTACTS"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(23,"div",14),f.TgZ(24,"span",15),f.TgZ(25,"a",16),f._UZ(26,"i",17),f._UZ(27,"i",18),f.qZA(),f.qZA(),f.qZA(),f.TgZ(28,"span",8),f.TgZ(29,"a",19),f._uU(30,"Let's Dance and Enroll Now"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f._UZ(31,"app-header"),f.TgZ(32,"div",20),f.TgZ(33,"div",1),f.TgZ(34,"div",21),f.TgZ(35,"div",22),f.TgZ(36,"div",23),f.TgZ(37,"div",24),f._uU(38,"OUR TEACHER"),f.qZA(),f.TgZ(39,"h2"),f._uU(40,"Unleash Your Child's Ballet Dance Passion with Eilish!"),f.qZA(),f.TgZ(41,"p"),f._uU(42," Discover the enchanting world of ballet with Eilish, your child's dance guide. With a lifelong passion for movement, Eilish started her journey at Corrib Dance Academy at just 6 years old and completed her training with Antoinette Casserly. From captivating performances to excelling in RAD exams, she's a rising dance star. "),f.qZA(),f.TgZ(43,"p"),f._uU(44," At 21, Eilish fearlessly embraced full-time training at Inchicore College, earning a prestigious QQI Level 5 Dance Certificate. Her dance palette includes ballet, modern theatre, tap, jazz, hip-hop, and contemporary styles, making her a joyful dance virtuoso. "),f.qZA(),f.TgZ(45,"p"),f._uU(46," Eilish's journey even took her to Paris for a 3-week choreographic Erasmus program, adding an international touch to her expertise. Now, armed with the esteemed ISTD teaching qualification, she's ready to ignite your kids and teens' passion for ballet. "),f.qZA(),f.YNc(47,mO,2,0,"p",25),f.TgZ(48,"a",26),f.NdJ("click",function(){return r.expandDetail()}),f.YNc(49,yO,3,0,"ng-container",27),f.YNc(50,_O,2,0,"ng-template",null,28,f.W1O),f.qZA(),f.qZA(),f.qZA(),f.TgZ(52,"div",29),f.TgZ(53,"div",30),f._UZ(54,"img",31),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f._UZ(55,"app-class",32),f.TgZ(56,"div",33),f.TgZ(57,"div",1),f.TgZ(58,"div",21),f.TgZ(59,"div",34),f.TgZ(60,"h2",35),f._uU(61,"Testimonials & Reviews"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(62,"div",21),f.TgZ(63,"div",34),f.TgZ(64,"div",36),f._UZ(65,"img",37),f.TgZ(66,"div",38),f.TgZ(67,"p",39),f._uU(68," Eilish has ignited my daughter's love for ballet! Her caring and expert guidance has brought out the best in my child. I've seen her confidence soar and her skills improve with each class. Eilish's passion is infectious, and we're so grateful for the positive impact she's had. "),f.qZA(),f.TgZ(69,"div",40),f._uU(70,"Lisa R."),f.qZA(),f.qZA(),f._UZ(71,"div",41),f.qZA(),f.TgZ(72,"div",36),f._UZ(73,"img",37),f.TgZ(74,"div",38),f.TgZ(75,"p",39),f._uU(76," Eilish is a fantastic ballet teacher. Her classes are engaging and inspiring for my son. She's helped him build a strong foundation in ballet while fostering his creativity. We're thankful for the transformative impact Eilish has had on his dance journey. "),f.qZA(),f.TgZ(77,"div",40),f._uU(78,"Aofie M."),f.qZA(),f.qZA(),f._UZ(79,"div",42),f.qZA(),f.TgZ(80,"div",36),f._UZ(81,"img",37),f.TgZ(82,"div",38),f.TgZ(83,"p",39),f._uU(84," Eilish is a gift to young dancers. My 2 kids have thrived under her guidance. Eilish's dedication, combined with her ability to make learning fun, has made ballet a true passion for my children. We're lucky to have found such a wonderful teacher! "),f.qZA(),f.TgZ(85,"div",40),f._uU(86,"Brigid W."),f.qZA(),f.qZA(),f._UZ(87,"div",43),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(88,"div",44),f.TgZ(89,"div",1),f.TgZ(90,"div",21),f.TgZ(91,"div",34),f.TgZ(92,"div",23),f.TgZ(93,"h2"),f._uU(94,"Enroll today and empower your child with the grace, discipline, and joy of ballet! "),f.qZA(),f.TgZ(95,"div",45),f.TgZ(96,"div",46),f.TgZ(97,"div",47),f.TgZ(98,"div",48),f.TgZ(99,"em",49),f._uU(100,"\xa0"),f.qZA(),f.TgZ(101,"p"),f._uU(102,"Eilish Heneghan"),f.qZA(),f.qZA(),f.TgZ(103,"div",48),f.TgZ(104,"em",50),f._uU(105,"\xa0"),f.qZA(),f.TgZ(106,"p"),f.TgZ(107,"strong"),f._uU(108,"Mobile (Text Only):"),f.qZA(),f._UZ(109,"br"),f.TgZ(110,"a",51),f._uU(111,"+353 (0)85 811 2261"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(112,"div",52),f._uU(113,"\xa0"),f.qZA(),f.TgZ(114,"div",48),f.TgZ(115,"em",53),f._uU(116,"\xa0"),f.qZA(),f.TgZ(117,"p"),f.TgZ(118,"strong"),f._uU(119,"Email:"),f.qZA(),f._UZ(120,"br"),f.TgZ(121,"a",54),f._uU(122,"eilish.heneghan@gmail.com"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(123,"div",48),f.TgZ(124,"em",55),f._uU(125,"\xa0"),f.qZA(),f.TgZ(126,"p"),f.TgZ(127,"strong"),f._uU(128,"Follow & Like:"),f.qZA(),f._UZ(129,"br"),f.TgZ(130,"a",56),f._uU(131,"Instagram"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(132,"div",57),f.TgZ(133,"div",1),f.TgZ(134,"div",21),f.TgZ(135,"div",58),f.TgZ(136,"div",23),f.TgZ(137,"div",24),f._uU(138,"Contact Us"),f.qZA(),f.TgZ(139,"h2"),f._uU(140,"Enquiry Form"),f.qZA(),f.TgZ(141,"p"),f._uU(142," If you require more information please do not hesitate to get in touch. Please complete the form below providing detailed information, then I\u2019ll get back to you as soon as I can. To request a text or call back, please include your phone number. "),f.qZA(),f.TgZ(143,"p",59),f._uU(144,"* All personal data herein are processed in accordance with EU data protection legislation. All feasible security measures are in place."),f.qZA(),f.qZA(),f.qZA(),f.TgZ(145,"div",58),f.TgZ(146,"form",60),f.NdJ("ngSubmit",function(){return r.submitForm()}),f.TgZ(147,"div",61),f._UZ(148,"input",62),f.qZA(),f.TgZ(149,"div",61),f._UZ(150,"input",63),f.YNc(151,vO,2,0,"div",64),f.YNc(152,wO,2,0,"div",64),f.qZA(),f.TgZ(153,"div",61),f._UZ(154,"input",65),f.YNc(155,EO,2,0,"div",64),f.qZA(),f.TgZ(156,"div",61),f._UZ(157,"textarea",66),f.YNc(158,IO,2,0,"div",64),f.qZA(),f.TgZ(159,"div",61),f.TgZ(160,"button",67),f._uU(161," Submit "),f.qZA(),f.qZA(),f.YNc(162,CO,2,0,"div",68),f.YNc(163,DO,2,0,"div",69),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(164,"div",70),f._UZ(165,"img",71),f.TgZ(166,"div",1),f.TgZ(167,"div",21),f.TgZ(168,"div",34),f.TgZ(169,"h4"),f._uU(170," If you want to find out our latest news then follow us! "),f.qZA(),f.TgZ(171,"div",14),f.TgZ(172,"span",15),f.TgZ(173,"a",16),f._UZ(174,"i",17),f._UZ(175,"i",18),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(176,"div",72),f.TgZ(177,"div",1),f.TgZ(178,"div",21),f.TgZ(179,"div",73),f.TgZ(180,"ul",74),f.TgZ(181,"li"),f.TgZ(182,"a",75),f._uU(183,"Article Details"),f.qZA(),f.qZA(),f.TgZ(184,"li"),f.TgZ(185,"a",75),f._uU(186,"Terms & Conditions"),f.qZA(),f.qZA(),f.TgZ(187,"li"),f.TgZ(188,"a",75),f._uU(189,"Privacy Policy"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(190,"div",76),f.TgZ(191,"p",77),f._uU(192," Copyright \xa9 "),f.TgZ(193,"a",75),f._uU(194,"Lindy @ Woondrous.com"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(195,"div",76),f.TgZ(196,"p",77),f._uU(197," Distributed by "),f.TgZ(198,"a",78),f._uU(199,"Lindy @ Woondrous.com"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(200,"button",79),f._UZ(201,"img",80),f.qZA()),2&t){const o=f.MAs(51);let u,c,m;f.xp6(9),f.ekj("active","header"===r.activeSection),f.xp6(3),f.ekj("active","about"===r.activeSection),f.xp6(3),f.ekj("active","classes"===r.activeSection),f.xp6(3),f.ekj("active","testimonials"===r.activeSection),f.xp6(3),f.ekj("active","contact"===r.activeSection),f.xp6(26),f.Q6J("ngIf",r.isExpanded),f.xp6(2),f.Q6J("ngIf",!r.isExpanded)("ngIfElse",o),f.xp6(97),f.Q6J("formGroup",r.contactForm),f.xp6(5),f.Q6J("ngIf",(null==(u=r.contactForm.get("email"))?null:u.touched)&&(null==(u=r.contactForm.get("email"))?null:u.hasError("required"))),f.xp6(1),f.Q6J("ngIf",null==(c=r.contactForm.get("email"))?null:c.hasError("email")),f.xp6(3),f.Q6J("ngIf",null==(m=r.contactForm.get("phone"))?null:m.hasError("pattern")),f.xp6(3),f.Q6J("ngIf",r.contactForm.hasError("emailOrPhoneRequired")),f.xp6(4),f.Q6J("ngIf",r.submitted),f.xp6(1),f.Q6J("ngIf",r.submission_error)}},directives:[fO,gi,gO,G_,xw,mm,b,iD,Z_,dp,Im],styles:['.navbar[_ngcontent-%COMP%]{background-color:#fff;font-weight:600;font-size:.875rem;line-height:1.25rem;box-shadow:0 1px 6px #0000000d}.logo-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10rem;height:7rem}.logo-text[_ngcontent-%COMP%]{color:#6d6e70;font-family:Recoleta-SemiBold,sans-serif}.img-fluid[_ngcontent-%COMP%]{max-width:100%;height:auto}.map-container[_ngcontent-%COMP%]{width:100%;height:300px;overflow:hidden}@keyframes highlight{0%,to{opacity:0}50%{opacity:1}}.time[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg,rgba(255,153,204,.3),transparent);animation:highlight 3s infinite;opacity:0}.time[_ngcontent-%COMP%]{position:relative}.card-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ff4a8a}.pink[_ngcontent-%COMP%]{color:#ff4a8a;font-family:Caveat,cursive;font-size:x-large}.section-title[_ngcontent-%COMP%]{font-family:Caveat,cursive}#contact-container[_ngcontent-%COMP%]{padding:4rem 0}#contact-section[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.row[_ngcontent-%COMP%]{justify-content:center}.contact-col[_ngcontent-%COMP%]{padding:1.5rem;border:1px solid #ccc;border-radius:8px;background-color:#fff;margin:1rem}@media (max-width: 767px){.contact-col[_ngcontent-%COMP%]{margin:1rem 0}}.contact-col[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:2rem;color:#ff4a8a}.contact-col[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;font-size:1rem;color:#333;line-height:1.4;text-align:center}.contact-col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ff4a8a;text-decoration:none;transition:color .3s}.contact-col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ff1769}']}),n})(),TO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n,bootstrap:[bO]}),n.\u0275inj=f.cJS({providers:[AM],imports:[[Ja,O_,Vo.hO.initializeApp({apiKey:"AIzaSyAQnkkRwZvLD7W9Uy9OJIy_PQSZW7FbCr0",authDomain:"eilishballet.firebaseapp.com",projectId:"eilishballet",storageBucket:"eilishballet.appspot.com",messagingSenderId:"82205126231",appId:"1:82205126231:web:d69ec08e91805055ee7d12"}),uE]]}),n})();(0,f.G48)(),zu().bootstrapModule(TO).catch(n=>console.error(n))},8306:(nt,Ee,N)=>{N.d(Ee,{y:()=>j});var f=N(2961),Q=N(727),k=N(8822),ie=N(4671);var ae=N(2416),he=N(576),fe=N(2806);let j=(()=>{class xe{constructor(Ze){Ze&&(this._subscribe=Ze)}lift(Ze){const le=new xe;return le.source=this,le.operator=Ze,le}subscribe(Ze,le,ve){const je=function Ke(xe){return xe&&xe instanceof f.Lv||function te(xe){return xe&&(0,he.m)(xe.next)&&(0,he.m)(xe.error)&&(0,he.m)(xe.complete)}(xe)&&(0,Q.Nn)(xe)}(Ze)?Ze:new f.Hp(Ze,le,ve);return(0,fe.x)(()=>{const{operator:$e,source:Fe}=this;je.add($e?$e.call(je,Fe):Fe?this._subscribe(je):this._trySubscribe(je))}),je}_trySubscribe(Ze){try{return this._subscribe(Ze)}catch(le){Ze.error(le)}}forEach(Ze,le){return new(le=q(le))((ve,je)=>{let $e;$e=this.subscribe(Fe=>{try{Ze(Fe)}catch(tt){je(tt),null==$e||$e.unsubscribe()}},je,ve)})}_subscribe(Ze){var le;return null===(le=this.source)||void 0===le?void 0:le.subscribe(Ze)}[k.L](){return this}pipe(...Ze){return function ge(xe){return 0===xe.length?ie.y:1===xe.length?xe[0]:function(Ze){return xe.reduce((le,ve)=>ve(le),Ze)}}(Ze)(this)}toPromise(Ze){return new(Ze=q(Ze))((le,ve)=>{let je;this.subscribe($e=>je=$e,$e=>ve($e),()=>le(je))})}}return xe.create=ke=>new xe(ke),xe})();function q(xe){var ke;return null!==(ke=null!=xe?xe:ae.v.Promise)&&void 0!==ke?ke:Promise}},7579:(nt,Ee,N)=>{N.d(Ee,{x:()=>ae});var f=N(8306),Q=N(727);const ie=(0,N(3888).d)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=N(8737),ge=N(2806);let ae=(()=>{class fe extends f.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const te=new he(this,this);return te.operator=q,te}_throwIfClosed(){if(this.closed)throw new ie}next(q){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const te=this.observers.slice();for(const Ke of te)Ke.next(q)}})}error(q){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:te}=this;for(;te.length;)te.shift().error(q)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:te,isStopped:Ke,observers:xe}=this;return te||Ke?Q.Lc:(xe.push(q),new Q.w0(()=>(0,oe.P)(xe,q)))}_checkFinalizedStatuses(q){const{hasError:te,thrownError:Ke,isStopped:xe}=this;te?q.error(Ke):xe&&q.complete()}asObservable(){const q=new f.y;return q.source=this,q}}return fe.create=(j,q)=>new he(j,q),fe})();class he extends ae{constructor(j,q){super(),this.destination=j,this.source=q}next(j){var q,te;null===(te=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===te||te.call(q,j)}error(j){var q,te;null===(te=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===te||te.call(q,j)}complete(){var j,q;null===(q=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===q||q.call(j)}_subscribe(j){var q,te;return null!==(te=null===(q=this.source)||void 0===q?void 0:q.subscribe(j))&&void 0!==te?te:Q.Lc}}},2961:(nt,Ee,N)=>{N.d(Ee,{Hp:()=>Ke,Lv:()=>te});var f=N(576),Q=N(727),k=N(2416),ie=N(7849);function oe(){}const ge=fe("C",void 0,void 0);function fe(ve,je,$e){return{kind:ve,value:je,error:$e}}var j=N(3410),q=N(2806);class te extends Q.w0{constructor(je){super(),this.isStopped=!1,je?(this.destination=je,(0,Q.Nn)(je)&&je.add(this)):this.destination=le}static create(je,$e,Fe){return new Ke(je,$e,Fe)}next(je){this.isStopped?Ze(function he(ve){return fe("N",ve,void 0)}(je),this):this._next(je)}error(je){this.isStopped?Ze(function ae(ve){return fe("E",void 0,ve)}(je),this):(this.isStopped=!0,this._error(je))}complete(){this.isStopped?Ze(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(je){this.destination.next(je)}_error(je){try{this.destination.error(je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ke extends te{constructor(je,$e,Fe){let tt;if(super(),(0,f.m)(je))tt=je;else if(je){let Me;({next:tt,error:$e,complete:Fe}=je),this&&k.v.useDeprecatedNextContext?(Me=Object.create(je),Me.unsubscribe=()=>this.unsubscribe()):Me=je,tt=null==tt?void 0:tt.bind(Me),$e=null==$e?void 0:$e.bind(Me),Fe=null==Fe?void 0:Fe.bind(Me)}this.destination={next:tt?xe(tt):oe,error:xe(null!=$e?$e:ke),complete:Fe?xe(Fe):oe}}}function xe(ve,je){return(...$e)=>{try{ve(...$e)}catch(Fe){k.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(Fe):(0,ie.h)(Fe)}}}function ke(ve){throw ve}function Ze(ve,je){const{onStoppedNotification:$e}=k.v;$e&&j.z.setTimeout(()=>$e(ve,je))}const le={closed:!0,next:oe,error:ke,complete:oe}},727:(nt,Ee,N)=>{N.d(Ee,{Lc:()=>ge,w0:()=>oe,Nn:()=>ae});var f=N(576);const k=(0,N(3888).d)(fe=>function(q){fe(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((te,Ke)=>`${Ke+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var ie=N(8737);class oe{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const xe of q)xe.remove(this);else q.remove(this);const{initialTeardown:te}=this;if((0,f.m)(te))try{te()}catch(xe){j=xe instanceof k?xe.errors:[xe]}const{_teardowns:Ke}=this;if(Ke){this._teardowns=null;for(const xe of Ke)try{he(xe)}catch(ke){j=null!=j?j:[],ke instanceof k?j=[...j,...ke.errors]:j.push(ke)}}if(j)throw new k(j)}}add(j){var q;if(j&&j!==this)if(this.closed)he(j);else{if(j instanceof oe){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._teardowns=null!==(q=this._teardowns)&&void 0!==q?q:[]).push(j)}}_hasParent(j){const{_parentage:q}=this;return q===j||Array.isArray(q)&&q.includes(j)}_addParent(j){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(j),q):q?[q,j]:j}_removeParent(j){const{_parentage:q}=this;q===j?this._parentage=null:Array.isArray(q)&&(0,ie.P)(q,j)}remove(j){const{_teardowns:q}=this;q&&(0,ie.P)(q,j),j instanceof oe&&j._removeParent(this)}}oe.EMPTY=(()=>{const fe=new oe;return fe.closed=!0,fe})();const ge=oe.EMPTY;function ae(fe){return fe instanceof oe||fe&&"closed"in fe&&(0,f.m)(fe.remove)&&(0,f.m)(fe.add)&&(0,f.m)(fe.unsubscribe)}function he(fe){(0,f.m)(fe)?fe():fe.unsubscribe()}},2416:(nt,Ee,N)=>{N.d(Ee,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(nt,Ee,N)=>{N.d(Ee,{E:()=>Q});const Q=new(N(8306).y)(oe=>oe.complete())},8996:(nt,Ee,N)=>{N.d(Ee,{D:()=>tt});var f=N(8421),Q=N(5363),k=N(9468),ge=N(8306),he=N(2202),fe=N(576),j=N(9672);function te(Me,rt){if(!Me)throw new Error("Iterable cannot be null");return new ge.y(We=>{(0,j.f)(We,rt,()=>{const _t=Me[Symbol.asyncIterator]();(0,j.f)(We,rt,()=>{_t.next().then(Y=>{Y.done?We.complete():We.next(Y.value)})},0,!0)})})}var Ke=N(3670),xe=N(8239),ke=N(1144),Ze=N(6495),le=N(2206),ve=N(4532),je=N(3260);function tt(Me,rt){return rt?function Fe(Me,rt){if(null!=Me){if((0,Ke.c)(Me))return function ie(Me,rt){return(0,f.Xf)(Me).pipe((0,k.R)(rt),(0,Q.Q)(rt))}(Me,rt);if((0,ke.z)(Me))return function ae(Me,rt){return new ge.y(We=>{let _t=0;return rt.schedule(function(){_t===Me.length?We.complete():(We.next(Me[_t++]),We.closed||this.schedule())})})}(Me,rt);if((0,xe.t)(Me))return function oe(Me,rt){return(0,f.Xf)(Me).pipe((0,k.R)(rt),(0,Q.Q)(rt))}(Me,rt);if((0,le.D)(Me))return te(Me,rt);if((0,Ze.T)(Me))return function q(Me,rt){return new ge.y(We=>{let _t;return(0,j.f)(We,rt,()=>{_t=Me[he.h](),(0,j.f)(We,rt,()=>{let Y,pe;try{({value:Y,done:pe}=_t.next())}catch(we){return void We.error(we)}pe?We.complete():We.next(Y)},0,!0)}),()=>(0,fe.m)(null==_t?void 0:_t.return)&&_t.return()})}(Me,rt);if((0,je.L)(Me))return function $e(Me,rt){return te((0,je.Q)(Me),rt)}(Me,rt)}throw(0,ve.z)(Me)}(Me,rt):(0,f.Xf)(Me)}},8421:(nt,Ee,N)=>{N.d(Ee,{Xf:()=>Ke});var f=N(5987),Q=N(1144),k=N(8239),ie=N(8306),oe=N(3670),ge=N(2206),ae=N(4532),he=N(6495),fe=N(3260),j=N(576),q=N(7849),te=N(8822);function Ke(Fe){if(Fe instanceof ie.y)return Fe;if(null!=Fe){if((0,oe.c)(Fe))return function xe(Fe){return new ie.y(tt=>{const Me=Fe[te.L]();if((0,j.m)(Me.subscribe))return Me.subscribe(tt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,Q.z)(Fe))return function ke(Fe){return new ie.y(tt=>{for(let Me=0;Me<Fe.length&&!tt.closed;Me++)tt.next(Fe[Me]);tt.complete()})}(Fe);if((0,k.t)(Fe))return function Ze(Fe){return new ie.y(tt=>{Fe.then(Me=>{tt.closed||(tt.next(Me),tt.complete())},Me=>tt.error(Me)).then(null,q.h)})}(Fe);if((0,ge.D)(Fe))return ve(Fe);if((0,he.T)(Fe))return function le(Fe){return new ie.y(tt=>{for(const Me of Fe)if(tt.next(Me),tt.closed)return;tt.complete()})}(Fe);if((0,fe.L)(Fe))return function je(Fe){return ve((0,fe.Q)(Fe))}(Fe)}throw(0,ae.z)(Fe)}function ve(Fe){return new ie.y(tt=>{(function $e(Fe,tt){var Me,rt,We,_t;return(0,f.mG)(this,void 0,void 0,function*(){try{for(Me=(0,f.KL)(Fe);!(rt=yield Me.next()).done;)if(tt.next(rt.value),tt.closed)return}catch(Y){We={error:Y}}finally{try{rt&&!rt.done&&(_t=Me.return)&&(yield _t.call(Me))}finally{if(We)throw We.error}}tt.complete()})})(Fe,tt).catch(Me=>tt.error(Me))})}},6451:(nt,Ee,N)=>{N.d(Ee,{T:()=>ge});var f=N(8189),Q=N(8421),k=N(515),ie=N(7669),oe=N(8996);function ge(...ae){const he=(0,ie.yG)(ae),fe=(0,ie._6)(ae,1/0),j=ae;return j.length?1===j.length?(0,Q.Xf)(j[0]):(0,f.J)(fe)((0,oe.D)(j,he)):k.E}},5403:(nt,Ee,N)=>{N.d(Ee,{Q:()=>Q});var f=N(2961);class Q extends f.Lv{constructor(ie,oe,ge,ae,he){super(ie),this.onFinalize=he,this._next=oe?function(fe){try{oe(fe)}catch(j){ie.error(j)}}:super._next,this._error=ae?function(fe){try{ae(fe)}catch(j){ie.error(j)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(fe){ie.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;const{closed:oe}=this;super.unsubscribe(),!oe&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}},4004:(nt,Ee,N)=>{N.d(Ee,{U:()=>k});var f=N(4482),Q=N(5403);function k(ie,oe){return(0,f.e)((ge,ae)=>{let he=0;ge.subscribe(new Q.Q(ae,fe=>{ae.next(ie.call(oe,fe,he++))}))})}},8189:(nt,Ee,N)=>{N.d(Ee,{J:()=>k});var f=N(5577),Q=N(4671);function k(ie=1/0){return(0,f.z)(Q.y,ie)}},5577:(nt,Ee,N)=>{N.d(Ee,{z:()=>he});var f=N(4004),Q=N(8421),k=N(4482),ie=N(9672),oe=N(5403),ae=N(576);function he(fe,j,q=1/0){return(0,ae.m)(j)?he((te,Ke)=>(0,f.U)((xe,ke)=>j(te,xe,Ke,ke))((0,Q.Xf)(fe(te,Ke))),q):("number"==typeof j&&(q=j),(0,k.e)((te,Ke)=>function ge(fe,j,q,te,Ke,xe,ke,Ze){const le=[];let ve=0,je=0,$e=!1;const Fe=()=>{$e&&!le.length&&!ve&&j.complete()},tt=rt=>ve<te?Me(rt):le.push(rt),Me=rt=>{xe&&j.next(rt),ve++;let We=!1;(0,Q.Xf)(q(rt,je++)).subscribe(new oe.Q(j,_t=>{null==Ke||Ke(_t),xe?tt(_t):j.next(_t)},()=>{We=!0},void 0,()=>{if(We)try{for(ve--;le.length&&ve<te;){const _t=le.shift();ke?(0,ie.f)(j,ke,()=>Me(_t)):Me(_t)}Fe()}catch(_t){j.error(_t)}}))};return fe.subscribe(new oe.Q(j,tt,()=>{$e=!0,Fe()})),()=>{null==Ze||Ze()}}(te,Ke,fe,q)))}},5363:(nt,Ee,N)=>{N.d(Ee,{Q:()=>ie});var f=N(9672),Q=N(4482),k=N(5403);function ie(oe,ge=0){return(0,Q.e)((ae,he)=>{ae.subscribe(new k.Q(he,fe=>(0,f.f)(he,oe,()=>he.next(fe),ge),()=>(0,f.f)(he,oe,()=>he.complete(),ge),fe=>(0,f.f)(he,oe,()=>he.error(fe),ge)))})}},3099:(nt,Ee,N)=>{N.d(Ee,{B:()=>ge});var f=N(8996),Q=N(5698),k=N(7579),ie=N(2961),oe=N(4482);function ge(he={}){const{connector:fe=(()=>new k.x),resetOnError:j=!0,resetOnComplete:q=!0,resetOnRefCountZero:te=!0}=he;return Ke=>{let xe=null,ke=null,Ze=null,le=0,ve=!1,je=!1;const $e=()=>{null==ke||ke.unsubscribe(),ke=null},Fe=()=>{$e(),xe=Ze=null,ve=je=!1},tt=()=>{const Me=xe;Fe(),null==Me||Me.unsubscribe()};return(0,oe.e)((Me,rt)=>{le++,!je&&!ve&&$e();const We=Ze=null!=Ze?Ze:fe();rt.add(()=>{le--,0===le&&!je&&!ve&&(ke=ae(tt,te))}),We.subscribe(rt),xe||(xe=new ie.Hp({next:_t=>We.next(_t),error:_t=>{je=!0,$e(),ke=ae(Fe,j,_t),We.error(_t)},complete:()=>{ve=!0,$e(),ke=ae(Fe,q),We.complete()}}),(0,f.D)(Me).subscribe(xe))})(Ke)}}function ae(he,fe,...j){return!0===fe?(he(),null):!1===fe?null:fe(...j).pipe((0,Q.q)(1)).subscribe(()=>he())}},9468:(nt,Ee,N)=>{N.d(Ee,{R:()=>Q});var f=N(4482);function Q(k,ie=0){return(0,f.e)((oe,ge)=>{ge.add(k.schedule(()=>oe.subscribe(ge),ie))})}},5698:(nt,Ee,N)=>{N.d(Ee,{q:()=>ie});var f=N(515),Q=N(4482),k=N(5403);function ie(oe){return oe<=0?()=>f.E:(0,Q.e)((ge,ae)=>{let he=0;ge.subscribe(new k.Q(ae,fe=>{++he<=oe&&(ae.next(fe),oe<=he&&ae.complete())}))})}},8505:(nt,Ee,N)=>{N.d(Ee,{b:()=>oe});var f=N(576),Q=N(4482),k=N(5403),ie=N(4671);function oe(ge,ae,he){const fe=(0,f.m)(ge)||ae||he?{next:ge,error:ae,complete:he}:ge;return fe?(0,Q.e)((j,q)=>{var te;null===(te=fe.subscribe)||void 0===te||te.call(fe);let Ke=!0;j.subscribe(new k.Q(q,xe=>{var ke;null===(ke=fe.next)||void 0===ke||ke.call(fe,xe),q.next(xe)},()=>{var xe;Ke=!1,null===(xe=fe.complete)||void 0===xe||xe.call(fe),q.complete()},xe=>{var ke;Ke=!1,null===(ke=fe.error)||void 0===ke||ke.call(fe,xe),q.error(xe)},()=>{var xe,ke;Ke&&(null===(xe=fe.unsubscribe)||void 0===xe||xe.call(fe)),null===(ke=fe.finalize)||void 0===ke||ke.call(fe)}))}):ie.y}},4408:(nt,Ee,N)=>{N.d(Ee,{o:()=>oe});var f=N(727);class Q extends f.w0{constructor(ae,he){super()}schedule(ae,he=0){return this}}const k={setInterval(...ge){const{delegate:ae}=k;return((null==ae?void 0:ae.setInterval)||setInterval)(...ge)},clearInterval(ge){const{delegate:ae}=k;return((null==ae?void 0:ae.clearInterval)||clearInterval)(ge)},delegate:void 0};var ie=N(8737);class oe extends Q{constructor(ae,he){super(ae,he),this.scheduler=ae,this.work=he,this.pending=!1}schedule(ae,he=0){if(this.closed)return this;this.state=ae;const fe=this.id,j=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(j,fe,he)),this.pending=!0,this.delay=he,this.id=this.id||this.requestAsyncId(j,this.id,he),this}requestAsyncId(ae,he,fe=0){return k.setInterval(ae.flush.bind(ae,this),fe)}recycleAsyncId(ae,he,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return he;k.clearInterval(he)}execute(ae,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(ae,he);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,he){let j,fe=!1;try{this.work(ae)}catch(q){fe=!0,j=q||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:ae,scheduler:he}=this,{actions:fe}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(fe,this),null!=ae&&(this.id=this.recycleAsyncId(he,ae,null)),this.delay=null,super.unsubscribe()}}}},7565:(nt,Ee,N)=>{N.d(Ee,{v:()=>k});var f=N(6063);class Q{constructor(oe,ge=Q.now){this.schedulerActionCtor=oe,this.now=ge}schedule(oe,ge=0,ae){return new this.schedulerActionCtor(this,oe).schedule(ae,ge)}}Q.now=f.l.now;class k extends Q{constructor(oe,ge=Q.now){super(oe,ge),this.actions=[],this._active=!1,this._scheduled=void 0}flush(oe){const{actions:ge}=this;if(this._active)return void ge.push(oe);let ae;this._active=!0;do{if(ae=oe.execute(oe.state,oe.delay))break}while(oe=ge.shift());if(this._active=!1,ae){for(;oe=ge.shift();)oe.unsubscribe();throw ae}}}},4986:(nt,Ee,N)=>{N.d(Ee,{z:()=>k});var f=N(4408);const k=new(N(7565).v)(f.o)},6063:(nt,Ee,N)=>{N.d(Ee,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(nt,Ee,N)=>{N.d(Ee,{z:()=>f});const f={setTimeout(...Q){const{delegate:k}=f;return((null==k?void 0:k.setTimeout)||setTimeout)(...Q)},clearTimeout(Q){const{delegate:k}=f;return((null==k?void 0:k.clearTimeout)||clearTimeout)(Q)},delegate:void 0}},2202:(nt,Ee,N)=>{N.d(Ee,{h:()=>Q});const Q=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(nt,Ee,N)=>{N.d(Ee,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(nt,Ee,N)=>{N.d(Ee,{_6:()=>ge,jO:()=>ie,yG:()=>oe});var f=N(576);function k(ae){return ae[ae.length-1]}function ie(ae){return(0,f.m)(k(ae))?ae.pop():void 0}function oe(ae){return function Q(ae){return ae&&(0,f.m)(ae.schedule)}(k(ae))?ae.pop():void 0}function ge(ae,he){return"number"==typeof k(ae)?ae.pop():he}},8737:(nt,Ee,N)=>{function f(Q,k){if(Q){const ie=Q.indexOf(k);0<=ie&&Q.splice(ie,1)}}N.d(Ee,{P:()=>f})},3888:(nt,Ee,N)=>{function f(Q){const ie=Q(oe=>{Error.call(oe),oe.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}N.d(Ee,{d:()=>f})},2806:(nt,Ee,N)=>{N.d(Ee,{O:()=>ie,x:()=>k});var f=N(2416);let Q=null;function k(oe){if(f.v.useDeprecatedSynchronousErrorHandling){const ge=!Q;if(ge&&(Q={errorThrown:!1,error:null}),oe(),ge){const{errorThrown:ae,error:he}=Q;if(Q=null,ae)throw he}}else oe()}function ie(oe){f.v.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=oe)}},9672:(nt,Ee,N)=>{function f(Q,k,ie,oe=0,ge=!1){const ae=k.schedule(function(){ie(),ge?Q.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(Q.add(ae),!ge)return ae}N.d(Ee,{f:()=>f})},4671:(nt,Ee,N)=>{function f(Q){return Q}N.d(Ee,{y:()=>f})},1144:(nt,Ee,N)=>{N.d(Ee,{z:()=>f});const f=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},2206:(nt,Ee,N)=>{N.d(Ee,{D:()=>Q});var f=N(576);function Q(k){return Symbol.asyncIterator&&(0,f.m)(null==k?void 0:k[Symbol.asyncIterator])}},576:(nt,Ee,N)=>{function f(Q){return"function"==typeof Q}N.d(Ee,{m:()=>f})},3670:(nt,Ee,N)=>{N.d(Ee,{c:()=>k});var f=N(8822),Q=N(576);function k(ie){return(0,Q.m)(ie[f.L])}},6495:(nt,Ee,N)=>{N.d(Ee,{T:()=>k});var f=N(2202),Q=N(576);function k(ie){return(0,Q.m)(null==ie?void 0:ie[f.h])}},8239:(nt,Ee,N)=>{N.d(Ee,{t:()=>Q});var f=N(576);function Q(k){return(0,f.m)(null==k?void 0:k.then)}},3260:(nt,Ee,N)=>{N.d(Ee,{L:()=>ie,Q:()=>k});var f=N(5987),Q=N(576);function k(oe){return(0,f.FC)(this,arguments,function*(){const ae=oe.getReader();try{for(;;){const{value:he,done:fe}=yield(0,f.qq)(ae.read());if(fe)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(he)}}finally{ae.releaseLock()}})}function ie(oe){return(0,Q.m)(null==oe?void 0:oe.getReader)}},4482:(nt,Ee,N)=>{N.d(Ee,{A:()=>Q,e:()=>k});var f=N(576);function Q(ie){return(0,f.m)(null==ie?void 0:ie.lift)}function k(ie){return oe=>{if(Q(oe))return oe.lift(function(ge){try{return ie(ge,this)}catch(ae){this.error(ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(nt,Ee,N)=>{N.d(Ee,{h:()=>k});var f=N(2416),Q=N(3410);function k(ie){Q.z.setTimeout(()=>{const{onUnhandledError:oe}=f.v;if(!oe)throw ie;oe(ie)})}},4532:(nt,Ee,N)=>{function f(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(Ee,{z:()=>f})},5987:(nt,Ee,N)=>{function he(Y,pe,we,De){return new(we||(we=Promise))(function(ce,bt){function rn(Mt){try{ft(De.next(Mt))}catch(Yr){bt(Yr)}}function Ar(Mt){try{ft(De.throw(Mt))}catch(Yr){bt(Yr)}}function ft(Mt){Mt.done?ce(Mt.value):function Ue(ce){return ce instanceof we?ce:new we(function(bt){bt(ce)})}(Mt.value).then(rn,Ar)}ft((De=De.apply(Y,pe||[])).next())})}function le(Y){return this instanceof le?(this.v=Y,this):new le(Y)}function ve(Y,pe,we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,De=we.apply(Y,pe||[]),ce=[];return Ue={},bt("next"),bt("throw"),bt("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function bt(Zn){De[Zn]&&(Ue[Zn]=function(fr){return new Promise(function(cn,wr){ce.push([Zn,fr,cn,wr])>1||rn(Zn,fr)})})}function rn(Zn,fr){try{!function Ar(Zn){Zn.value instanceof le?Promise.resolve(Zn.value.v).then(ft,Mt):Yr(ce[0][2],Zn)}(De[Zn](fr))}catch(cn){Yr(ce[0][3],cn)}}function ft(Zn){rn("next",Zn)}function Mt(Zn){rn("throw",Zn)}function Yr(Zn,fr){Zn(fr),ce.shift(),ce.length&&rn(ce[0][0],ce[0][1])}}function $e(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,pe=Y[Symbol.asyncIterator];return pe?pe.call(Y):(Y=function te(Y){var pe="function"==typeof Symbol&&Symbol.iterator,we=pe&&Y[pe],De=0;if(we)return we.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&De>=Y.length&&(Y=void 0),{value:Y&&Y[De++],done:!Y}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),we={},De("next"),De("throw"),De("return"),we[Symbol.asyncIterator]=function(){return this},we);function De(ce){we[ce]=Y[ce]&&function(bt){return new Promise(function(rn,Ar){!function Ue(ce,bt,rn,Ar){Promise.resolve(Ar).then(function(ft){ce({value:ft,done:rn})},bt)}(rn,Ar,(bt=Y[ce](bt)).done,bt.value)})}}}N.d(Ee,{FC:()=>ve,KL:()=>$e,mG:()=>he,qq:()=>le})},5e3:(nt,Ee,N)=>{N.d(Ee,{$8M:()=>Er,$Z:()=>mv,AFp:()=>_r,AaK:()=>he,BQk:()=>Cp,CRH:()=>Kp,CZH:()=>Jh,CqO:()=>vv,EJc:()=>Ty,F4k:()=>xh,FYo:()=>II,FiY:()=>Ti,G48:()=>iC,Gf:()=>v0,GfV:()=>Fr,Gpc:()=>q,JOm:()=>Xs,Jf7:()=>Xd,LFG:()=>Cn,LSH:()=>zd,Lbi:()=>ag,MAs:()=>lv,NdJ:()=>wv,OlP:()=>hn,PXZ:()=>Cb,Q6J:()=>ci,QGY:()=>Sh,Qsj:()=>CI,R0b:()=>Vs,RDi:()=>bd,Rgc:()=>La,SBq:()=>Hp,Sil:()=>Ry,Suo:()=>Ey,TTD:()=>$a,TgZ:()=>Ah,VLi:()=>Ua,W1O:()=>Wh,X6Q:()=>Tb,XFs:()=>ot,Xpm:()=>Qr,Y36:()=>Du,YKP:()=>Fa,YNc:()=>uv,Yjl:()=>Rt,Yz7:()=>cn,ZZ4:()=>mg,_Bn:()=>vI,_UZ:()=>$m,_Vd:()=>$p,_c5:()=>$y,_uU:()=>GE,aQg:()=>Ql,c2e:()=>L0,cJS:()=>pr,cg1:()=>Op,dDg:()=>Oy,deG:()=>wc,dqk:()=>$t,eFA:()=>Xh,ekj:()=>Sv,g9A:()=>by,h0i:()=>Tn,hGG:()=>sf,iGM:()=>ud,ifc:()=>Bt,ip1:()=>k0,kL8:()=>Yv,lG2:()=>it,n5z:()=>kd,oAB:()=>Z,q4F:()=>o0,qLn:()=>Yd,qOj:()=>rv,qZA:()=>jm,sBO:()=>oC,sIi:()=>Ra,s_b:()=>Wp,soG:()=>ug,tBr:()=>sl,tb:()=>F0,tp0:()=>ma,uIk:()=>yp,vHH:()=>ke,vpe:()=>qo,wAp:()=>wt,xp6:()=>no,ynx:()=>Qc,z2F:()=>hg,zSh:()=>Q_,zs3:()=>ro});var f=N(7579),Q=N(727),k=N(8306),ie=N(6451),oe=N(3099);function ge(i){for(let s in i)if(i[s]===ge)return s;throw Error("Could not find renamed property on target object.")}function ae(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function he(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(he).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function fe(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const j=ge({__forward_ref__:ge});function q(i){return i.__forward_ref__=q,i.toString=function(){return he(this())},i}function te(i){return Ke(i)?i():i}function Ke(i){return"function"==typeof i&&i.hasOwnProperty(j)&&i.__forward_ref__===q}class ke extends Error{constructor(s,a){super(function Ze(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function le(i){return"string"==typeof i?i:null==i?"":String(i)}function ve(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():le(i)}function tt(i,s){const a=s?` in ${s}`:"";throw new ke(-201,`No provider for ${ve(i)} found${a}`)}function ft(i,s){null==i&&function Mt(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function cn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function pr(i){return{providers:i.providers||[],imports:i.imports||[]}}function Pn(i){return _s(i,lo)||_s(i,ws)}function _s(i,s){return i.hasOwnProperty(s)?i[s]:null}function Zo(i){return i&&(i.hasOwnProperty(Li)||i.hasOwnProperty(co))?i[Li]:null}const lo=ge({\u0275prov:ge}),Li=ge({\u0275inj:ge}),ws=ge({ngInjectableDef:ge}),co=ge({ngInjectorDef:ge});var ot=(()=>((ot=ot||{})[ot.Default=0]="Default",ot[ot.Host=1]="Host",ot[ot.Self=2]="Self",ot[ot.SkipSelf=4]="SkipSelf",ot[ot.Optional=8]="Optional",ot))();let On;function Nn(i){const s=On;return On=i,s}function ho(i,s,a){const l=Pn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&ot.Optional?null:void 0!==s?s:void tt(he(i),"Injector")}function un(i){return{toString:i}.toString()}var pn=(()=>((pn=pn||{})[pn.OnPush=0]="OnPush",pn[pn.Default=1]="Default",pn))(),Bt=(()=>{return(i=Bt||(Bt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Bt;var i})();const pt="undefined"!=typeof globalThis&&globalThis,Ct="undefined"!=typeof window&&window,hi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,$t=pt||"undefined"!=typeof global&&global||Ct||hi,Wt={},Xe=[],Ji=ge({\u0275cmp:ge}),jt=ge({\u0275dir:ge}),Vi=ge({\u0275pipe:ge}),zn=ge({\u0275mod:ge}),$n=ge({\u0275fac:ge}),rr=ge({__NG_ELEMENT_ID__:ge});let fo=0;function Qr(i){return un(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===pn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||Xe,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Bt.Emulated,id:"c",styles:i.styles||Xe,_:null,setInput:null,schemas:i.schemas||null,tView:null},h=i.directives,g=i.features,v=i.pipes;return l.id+=fo++,l.inputs=X(i.inputs,a),l.outputs=X(i.outputs),g&&g.forEach(I=>I(l)),l.directiveDefs=h?()=>("function"==typeof h?h():h).map(Jr):null,l.pipeDefs=v?()=>("function"==typeof v?v():v).map(U):null,l})}function Jr(i){return St(i)||function gn(i){return i[jt]||null}(i)}function U(i){return function sn(i){return i[Vi]||null}(i)}const V={};function Z(i){return un(()=>{const s={type:i.type,bootstrap:i.bootstrap||Xe,declarations:i.declarations||Xe,imports:i.imports||Xe,exports:i.exports||Xe,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(V[i.id]=i.type),s})}function X(i,s){if(null==i)return Wt;const a={};for(const l in i)if(i.hasOwnProperty(l)){let h=i[l],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),a[h]=l,s&&(s[h]=g)}return a}const it=Qr;function Rt(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function St(i){return i[Ji]||null}function dn(i,s){const a=i[zn]||null;if(!a&&!0===s)throw new Error(`Type ${he(i)} does not have '\u0275mod' property.`);return a}function sr(i){return Array.isArray(i)&&"object"==typeof i[1]}function Bi(i){return Array.isArray(i)&&!0===i[1]}function rc(i){return 0!=(8&i.flags)}function ic(i){return 2==(2&i.flags)}function Wo(i){return 1==(1&i.flags)}function ti(i){return null!==i.template}function sc(i){return 0!=(512&i[2])}function Gs(i,s){return i.hasOwnProperty($n)?i[$n]:null}class Cd{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function $a(){return Ha}function Ha(i){return i.type.prototype.ngOnChanges&&(i.setInput=Ga),vf}function vf(){const i=qa(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===Wt)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Ga(i,s,a,l){const h=qa(i)||function Dd(i,s){return i[uc]=s}(i,{previous:Wt,current:null}),g=h.current||(h.current={}),v=h.previous,I=this.declaredInputs[a],D=v[I];g[I]=new Cd(D&&D.currentValue,s,v===Wt),i[l]=s}$a.ngInherit=!0;const uc="__ngSimpleChanges__";function qa(i){return i[uc]||null}let Wa;function bd(i){Wa=i}function vn(i){return!!i.listen}const Ko={createRenderer:(i,s)=>function Uu(){return void 0!==Wa?Wa:"undefined"!=typeof document?document:void 0}()};function wn(i){for(;Array.isArray(i);)i=i[0];return i}function Ur(i,s){return wn(s[i.index])}function Yo(i,s){return i.data[s]}function Sn(i,s){const a=s[i];return sr(a)?a:a[0]}function Qo(i){return 4==(4&i[2])}function mo(i){return 128==(128&i[2])}function ji(i,s){return null==s?null:i[s]}function Ts(i){i[18]=0}function ju(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const Et={lFrame:Wu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function yo(){return Et.bindingsEnabled}function Se(){return Et.lFrame.lView}function Ut(){return Et.lFrame.tView}function En(){let i=_i();for(;null!==i&&64===i.type;)i=i.parent;return i}function _i(){return Et.lFrame.currentTNode}function or(i,s){const a=Et.lFrame;a.currentTNode=i,a.isParent=s}function Jo(){return Et.lFrame.isParent}function Gu(){Et.lFrame.isParent=!1}function Br(){return Et.isInCheckNoChangesMode}function vi(i){Et.isInCheckNoChangesMode=i}function es(){return Et.lFrame.bindingIndex++}function cc(i,s){const a=Et.lFrame;a.bindingIndex=a.bindingRootIndex=i,ts(s)}function ts(i){Et.lFrame.currentDirectiveIndex=i}function zu(){return Et.lFrame.currentQueryIndex}function ea(i){Et.lFrame.currentQueryIndex=i}function Ja(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Xa(i,s,a){if(a&ot.SkipSelf){let h=s,g=i;for(;!(h=h.parent,null!==h||a&ot.Host||(h=Ja(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;s=h,i=g}const l=Et.lFrame=dc();return l.currentTNode=s,l.lView=i,!0}function Ss(i){const s=dc(),a=i[1];Et.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function dc(){const i=Et.lFrame,s=null===i?null:i.child;return null===s?Wu(i):s}function Wu(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function ta(){const i=Et.lFrame;return Et.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const hc=ta;function xn(){const i=ta();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function gr(){return Et.lFrame.selectedIndex}function Qn(i){Et.lFrame.selectedIndex=i}function In(){const i=Et.lFrame;return Yo(i.tView,i.selectedIndex)}function ra(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const g=i.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:I,ngAfterViewInit:D,ngAfterViewChecked:S,ngOnDestroy:R}=g;v&&(i.contentHooks||(i.contentHooks=[])).push(-a,v),I&&((i.contentHooks||(i.contentHooks=[])).push(a,I),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,I)),D&&(i.viewHooks||(i.viewHooks=[])).push(-a,D),S&&((i.viewHooks||(i.viewHooks=[])).push(a,S),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,S)),null!=R&&(i.destroyHooks||(i.destroyHooks=[])).push(a,R)}}function _o(i,s,a){gc(i,s,3,a)}function ns(i,s,a,l){(3&i[2])===a&&gc(i,s,a,l)}function Qu(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function gc(i,s,a,l){const g=null!=l?l:-1,v=s.length-1;let I=0;for(let D=void 0!==l?65535&i[18]:0;D<v;D++)if("number"==typeof s[D+1]){if(I=s[D],null!=l&&I>=l)break}else s[D]<0&&(i[18]+=65536),(I<g||-1==g)&&(Rd(i,a,s,D),i[18]=(4294901760&i[18])+D+2),D++}function Rd(i,s,a,l){const h=a[l]<0,g=a[l+1],I=i[h?-a[l]:a[l]];if(h){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{g.call(I)}finally{}}}else try{g.call(I)}finally{}}class ia{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Ju(i,s,a){const l=vn(i);let h=0;for(;h<a.length;){const g=a[h];if("number"==typeof g){if(0!==g)break;h++;const v=a[h++],I=a[h++],D=a[h++];l?i.setAttribute(s,I,D,v):s.setAttributeNS(v,I,D)}else{const v=g,I=a[++h];rs(v)?l&&i.setProperty(s,v,I):l?i.setAttribute(s,v,I):s.setAttribute(v,I),h++}}return h}function mn(i){return 3===i||4===i||6===i}function rs(i){return 64===i.charCodeAt(0)}function vt(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const h=s[l];"number"==typeof h?a=h:0===a||Ei(i,a,h,null,-1===a||2===a?s[++l]:null)}}return i}function Ei(i,s,a,l,h){let g=0,v=i.length;if(-1===s)v=-1;else for(;g<i.length;){const I=i[g++];if("number"==typeof I){if(I===s){v=-1;break}if(I>s){v=g-1;break}}}for(;g<i.length;){const I=i[g];if("number"==typeof I)break;if(I===a){if(null===l)return void(null!==h&&(i[g+1]=h));if(l===i[g+1])return void(i[g+2]=h)}g++,null!==l&&g++,null!==h&&g++}-1!==v&&(i.splice(v,0,s),g=v+1),i.splice(g++,0,a),null!==l&&i.splice(g++,0,l),null!==h&&i.splice(g++,0,h)}function jr(i){return-1!==i}function Jn(i){return 32767&i}function Zs(i,s){let a=function _c(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let nu=!0;function vo(i){const s=nu;return nu=i,s}let Vt=0;function xs(i,s){const a=iu(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,ru(l.data,i),ru(s,null),ru(l.blueprint,null));const h=ar(i,s),g=i.injectorIndex;if(jr(h)){const v=Jn(h),I=Zs(h,s),D=I[1].data;for(let S=0;S<8;S++)s[g+S]=I[v+S]|D[v+S]}return s[g+8]=h,g}function ru(i,s){i.push(0,0,0,0,0,0,0,0,s)}function iu(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function ar(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,h=s;for(;null!==h;){const g=h[1],v=g.type;if(l=2===v?g.declTNode:1===v?h[6]:null,null===l)return-1;if(a++,h=h[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function oa(i,s,a){!function Cf(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(rr)&&(l=a[rr]),null==l&&(l=a[rr]=Vt++);const h=255&l;s.data[i+(h>>5)]|=1<<h}(i,s,a)}function Ws(i,s,a){if(a&ot.Optional)return i;tt(s,"NodeInjector")}function aa(i,s,a,l){if(a&ot.Optional&&void 0===l&&(l=null),0==(a&(ot.Self|ot.Host))){const h=i[9],g=Nn(void 0);try{return h?h.get(s,l,a&ot.Optional):ho(s,l,a&ot.Optional)}finally{Nn(g)}}return Ws(l,s,a)}function Nd(i,s,a,l=ot.Default,h){if(null!==i){const g=function Vg(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(rr)?i[rr]:void 0;return"number"==typeof s?s>=0?255&s:el:s}(a);if("function"==typeof g){if(!Xa(s,i,l))return l&ot.Host?Ws(h,a,l):aa(s,a,l,h);try{const v=g(l);if(null!=v||l&ot.Optional)return v;tt(a)}finally{hc()}}else if("number"==typeof g){let v=null,I=iu(i,s),D=-1,S=l&ot.Host?s[16][6]:null;for((-1===I||l&ot.SkipSelf)&&(D=-1===I?ar(i,s):s[I+8],-1!==D&&la(l,!1)?(v=s[1],I=Jn(D),s=Zs(D,s)):I=-1);-1!==I;){const R=s[1];if(ua(g,I,R.data)){const F=Lg(I,s,a,v,l,S);if(F!==wo)return F}D=s[I+8],-1!==D&&la(l,s[1].data[I+8]===S)&&ua(g,I,s)?(v=R,I=Jn(D),s=Zs(D,s)):I=-1}}}return aa(s,a,l,h)}const wo={};function el(){return new mr(En(),Se())}function Lg(i,s,a,l,h,g){const v=s[1],I=v.data[i+8],R=su(I,v,a,null==l?ic(I)&&nu:l!=v&&0!=(3&I.type),h&ot.Host&&g===I);return null!==R?Ms(s,v,R,I):wo}function su(i,s,a,l,h){const g=i.providerIndexes,v=s.data,I=1048575&g,D=i.directiveStart,R=g>>20,B=h?I+R:i.directiveEnd;for(let z=l?I:I+R;z<B;z++){const _e=v[z];if(z<D&&a===_e||z>=D&&_e.type===a)return z}if(h){const z=v[D];if(z&&ti(z)&&z.type===a)return D}return null}function Ms(i,s,a,l){let h=i[a];const g=s.data;if(function Pd(i){return i instanceof ia}(h)){const v=h;v.resolving&&function je(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new ke(-200,`Circular dependency in DI detected for ${i}${a}`)}(ve(g[a]));const I=vo(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?Nn(v.injectImpl):null;Xa(i,l,ot.Default);try{h=i[a]=v.factory(void 0,g,i,l),s.firstCreatePass&&a>=l.directiveStart&&function Yu(i,s,a){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:g}=s.type.prototype;if(l){const v=Ha(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,v)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,h),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,g))}(a,g[a],s)}finally{null!==D&&Nn(D),vo(I),v.resolving=!1,hc()}}return h}function ua(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function la(i,s){return!(i&ot.Self||i&ot.Host&&s)}class mr{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return Nd(this._tNode,this._lView,s,l,a)}}function kd(i){return un(()=>{const s=i.prototype.constructor,a=s[$n]||Fd(s),l=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==l;){const g=h[$n]||Fd(h);if(g&&g!==a)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Fd(i){return Ke(i)?()=>{const s=Fd(te(i));return s&&s()}:Gs(i)}function Er(i){return function Df(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let h=0;for(;h<l;){const g=a[h];if(mn(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<l&&"string"==typeof a[h];)h++;else{if(g===s)return a[h+1];h+=2}}}return null}(En(),i)}const on="__parameters__";function $r(i,s,a){return un(()=>{const l=function Hi(i){return function(...a){if(i){const l=i(...a);for(const h in l)this[h]=l[h]}}}(s);function h(...g){if(this instanceof h)return l.apply(this,g),this;const v=new h(...g);return I.annotation=v,I;function I(D,S,R){const F=D.hasOwnProperty(on)?D[on]:Object.defineProperty(D,on,{value:[]})[on];for(;F.length<=R;)F.push(null);return(F[R]=F[R]||[]).push(v),D}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}class hn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=cn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const wc=new hn("AnalyzeForEntryComponents");function Di(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),Di(l,s)):s!==i&&s.push(l)}return s}function Ir(i,s){i.forEach(a=>Array.isArray(a)?Ir(a,s):s(a))}function Dc(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function yn(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function mt(i,s,a){let l=Hr(i,s);return l>=0?i[1|l]=a:(l=~l,function cu(i,s,a,l){let h=i.length;if(h==s)i.push(a,l);else if(1===h)i.push(l,i[0]),i[0]=a;else{for(h--,i.push(i[h-1],i[h]);h>s;)i[h]=i[h-2],h--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function da(i,s){const a=Hr(i,s);if(a>=0)return i[1|a]}function Hr(i,s){return function Ps(i,s,a){let l=0,h=i.length>>a;for(;h!==l;){const g=l+(h-l>>1),v=i[g<<a];if(s===v)return g<<a;v>s?h=g:l=g+1}return~(h<<a)}(i,s,1)}const ri={},is="__NG_DI_FLAG__",rl="ngTempTokenPath",Tc=/\n/gm,pa="__source",fu=ge({provide:String,useValue:ge});let Co;function bi(i){const s=Co;return Co=i,s}function ga(i,s=ot.Default){if(void 0===Co)throw new ke(203,"");return null===Co?ho(i,void 0,s):Co.get(i,s&ot.Optional?null:void 0,s)}function Cn(i,s=ot.Default){return(function jn(){return On}()||ga)(te(i),s)}function jd(i){const s=[];for(let a=0;a<i.length;a++){const l=te(i[a]);if(Array.isArray(l)){if(0===l.length)throw new ke(900,"");let h,g=ot.Default;for(let v=0;v<l.length;v++){const I=l[v],D=Sf(I);"number"==typeof D?-1===D?h=I.token:g|=D:h=I}s.push(Cn(h,g))}else s.push(Cn(l))}return s}function Zi(i,s){return i[is]=s,i.prototype[is]=s,i}function Sf(i){return i[is]}const sl=Zi($r("Inject",i=>({token:i})),-1),Ti=Zi($r("Optional"),8),ma=Zi($r("SkipSelf"),4);class cl{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Or(i){return i instanceof cl?i.changingThisBreaksApplicationSecurity:i}const O=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,W=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var lr=(()=>((lr=lr||{})[lr.NONE=0]="NONE",lr[lr.HTML=1]="HTML",lr[lr.STYLE=2]="STYLE",lr[lr.SCRIPT=3]="SCRIPT",lr[lr.URL=4]="URL",lr[lr.RESOURCE_URL=5]="RESOURCE_URL",lr))();function zd(i){const s=function hl(){const i=Se();return i&&i[12]}();return s?s.sanitize(lr.URL,i)||"":function ba(i,s){const a=function So(i){return i instanceof cl&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?Or(i):function se(i){return(i=String(i)).match(O)||i.match(W)?i:"unsafe:"+i}(le(i))}const yu="__ngContext__";function Nr(i,s){i[yu]=s}function $f(i){const s=function fl(i){return i[yu]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function qf(i){return i.ngOriginalError}function Fc(i,...s){i.error(...s)}class Yd{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),l=function qg(i){return i&&i.ngErrorLogger||Fc}(s);l(this._console,"ERROR",s),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&qf(s);for(;a&&qf(a);)a=qf(a);return a||null}}const Zg=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($t))();function Xd(i){return i.ownerDocument.defaultView}function Po(i){return i instanceof Function?i():i}var Xs=(()=>((Xs=Xs||{})[Xs.Important=1]="Important",Xs[Xs.DashCase=2]="DashCase",Xs))();function Uc(i,s){return undefined(i,s)}function eo(i){const s=i[3];return Bi(s)?s[3]:s}function zf(i){return Wf(i[13])}function ml(i){return Wf(i[4])}function Wf(i){for(;null!==i&&!Bi(i);)i=i[4];return i}function yl(i,s,a,l,h){if(null!=l){let g,v=!1;Bi(l)?g=l:sr(l)&&(v=!0,l=l[0]);const I=wn(l);0===i&&null!==a?null==h?to(s,a,I):wl(s,a,I,h||null,!0):1===i&&null!==a?wl(s,a,I,h||null,!0):2===i?function nm(i,s,a){const l=Hc(i,s);l&&function R_(i,s,a,l){vn(i)?i.removeChild(s,a,l):s.removeChild(a)}(i,l,s,a)}(s,I,v):3===i&&s.destroyNode(I),null!=g&&function O_(i,s,a,l,h){const g=a[7];g!==wn(a)&&yl(s,i,l,g,h);for(let I=10;I<a.length;I++){const D=a[I];ko(D[1],D,i,s,l,g)}}(s,i,g,a,h)}}function eh(i,s,a){return vn(i)?i.createElement(s,a):null===a?i.createElement(s):i.createElementNS(a,s)}function Oo(i,s){const a=i[9],l=a.indexOf(s),h=s[3];1024&s[2]&&(s[2]&=-1025,ju(h,-1)),a.splice(l,1)}function rh(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const h=l[17];null!==h&&h!==i&&Oo(h,l),s>0&&(i[a-1][4]=l[4]);const g=yn(i,10+s);!function S_(i,s){ko(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const v=g[19];null!==v&&v.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Jg(i,s){if(!(256&s[2])){const a=s[11];vn(a)&&a.destroyNode&&ko(i,s,a,3,null,null),function th(i){let s=i[13];if(!s)return vl(i[1],i);for(;s;){let a=null;if(sr(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)sr(s)&&vl(s[1],s),s=s[3];null===s&&(s=i),sr(s)&&vl(s[1],s),a=s&&s[4]}s=a}}(s)}}function vl(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function Si(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const h=s[a[l]];if(!(h instanceof ia)){const g=a[l+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const I=h[g[v]],D=g[v+1];try{D.call(I)}finally{}}else try{g.call(h)}finally{}}}}(i,s),function M_(i,s){const a=i.cleanup,l=s[7];let h=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const v=a[g+1],I="function"==typeof v?v(s):wn(s[v]),D=l[h=a[g+2]],S=a[g+3];"boolean"==typeof S?I.removeEventListener(a[g],D,S):S>=0?l[h=S]():l[h=-S].unsubscribe(),g+=2}else{const v=l[h=a[g+1]];a[g].call(v)}if(null!==l){for(let g=h+1;g<l.length;g++)l[g]();s[7]=null}}(i,s),1===s[1].type&&vn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Bi(s[3])){a!==s[3]&&Oo(a,s);const l=s[19];null!==l&&l.detachView(i)}}}function wu(i,s,a){return function jc(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const h=i.data[l.directiveStart].encapsulation;if(h===Bt.None||h===Bt.Emulated)return null}return Ur(l,a)}(i,s.parent,a)}function wl(i,s,a,l,h){vn(i)?i.insertBefore(s,a,l,h):s.insertBefore(a,l,h)}function to(i,s,a){vn(i)?i.appendChild(s,a):s.appendChild(a)}function $c(i,s,a,l,h){null!==l?wl(i,s,a,l,h):to(i,s,a)}function Hc(i,s){return vn(i)?i.parentNode(s):s.parentNode}let em=function Yf(i,s,a){return 40&i.type?Ur(i,a):null};function Gc(i,s,a,l){const h=wu(i,l,s),g=s[11],I=function No(i,s,a){return em(i,s,a)}(l.parent||s[6],l,s);if(null!=h)if(Array.isArray(a))for(let D=0;D<a.length;D++)$c(g,h,a[D],I,!1);else $c(g,h,a,I,!1)}function kr(i,s){if(null!==s){const a=s.type;if(3&a)return Ur(s,i);if(4&a)return qc(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return kr(i,l);{const h=i[s.index];return Bi(h)?qc(-1,h):wn(h)}}if(32&a)return Uc(s,i)()||wn(i[s.index]);{const l=El(i,s);return null!==l?Array.isArray(l)?l[0]:kr(eo(i[16]),l):kr(i,s.next)}}return null}function El(i,s){return null!==s?i[16][6].projection[s.projection]:null}function qc(i,s){const a=10+i+1;if(a<s.length){const l=s[a],h=l[1].firstChild;if(null!==h)return kr(l,h)}return s[7]}function as(i,s,a,l,h,g,v){for(;null!=a;){const I=l[a.index],D=a.type;if(v&&0===s&&(I&&Nr(wn(I),l),a.flags|=4),64!=(64&a.flags))if(8&D)as(i,s,a.child,l,h,g,!1),yl(s,i,h,I,g);else if(32&D){const S=Uc(a,l);let R;for(;R=S();)yl(s,i,h,R,g);yl(s,i,h,I,g)}else 16&D?Qf(i,s,l,a,h,g):yl(s,i,h,I,g);a=v?a.projectionNext:a.next}}function ko(i,s,a,l,h,g){as(a,l,i.firstChild,s,h,g,!1)}function Qf(i,s,a,l,h,g){const v=a[16],D=v[6].projection[l.projection];if(Array.isArray(D))for(let S=0;S<D.length;S++)yl(s,i,h,D[S],g);else as(i,s,D,v[3],h,g,!0)}function Xf(i,s,a){vn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function Fo(i,s,a){vn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function Ns(i,s,a){let l=i.length;for(;;){const h=i.indexOf(s,a);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const g=s.length;if(h+g===l||i.charCodeAt(h+g)<=32)return h}a=h+1}}const y="ng-template";function d(i,s,a){let l=0;for(;l<i.length;){let h=i[l++];if(a&&"class"===h){if(h=i[l],-1!==Ns(h.toLowerCase(),s,0))return!0}else if(1===h){for(;l<i.length&&"string"==typeof(h=i[l++]);)if(h.toLowerCase()===s)return!0;return!1}}return!1}function p(i){return 4===i.type&&i.value!==y}function _(i,s,a){return s===(4!==i.type||a?i.value:y)}function b(i,s,a){let l=4;const h=i.attrs||[],g=function de(i){for(let s=0;s<i.length;s++)if(mn(i[s]))return s;return i.length}(h);let v=!1;for(let I=0;I<s.length;I++){const D=s[I];if("number"!=typeof D){if(!v)if(4&l){if(l=2|1&l,""!==D&&!_(i,D,a)||""===D&&1===s.length){if(A(l))return!1;v=!0}}else{const S=8&l?D:s[++I];if(8&l&&null!==i.attrs){if(!d(i.attrs,S,a)){if(A(l))return!1;v=!0}continue}const F=L(8&l?"class":D,h,p(i),a);if(-1===F){if(A(l))return!1;v=!0;continue}if(""!==S){let B;B=F>g?"":h[F+1].toLowerCase();const z=8&l?B:null;if(z&&-1!==Ns(z,S,0)||2&l&&S!==B){if(A(l))return!1;v=!0}}}}else{if(!v&&!A(l)&&!A(D))return!1;if(v&&A(D))continue;v=!1,l=D|1&l}}return A(l)||v}function A(i){return 0==(1&i)}function L(i,s,a,l){if(null===s)return-1;let h=0;if(l||!a){let g=!1;for(;h<s.length;){const v=s[h];if(v===i)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let I=s[++h];for(;"string"==typeof I;)I=s[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function Re(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function H(i,s,a=!1){for(let l=0;l<s.length;l++)if(b(i,s[l],a))return!0;return!1}function Ot(i,s){return i?":not("+s.trim()+")":s}function kn(i){let s=i[0],a=1,l=2,h="",g=!1;for(;a<i.length;){let v=i[a];if("string"==typeof v)if(2&l){const I=i[++a];h+="["+v+(I.length>0?'="'+I+'"':"")+"]"}else 8&l?h+="."+v:4&l&&(h+=" "+v);else""!==h&&!A(v)&&(s+=Ot(g,h),h=""),l=v,g=g||!A(l);a++}return""!==h&&(s+=Ot(g,h)),s}const gt={};function no(i){sh(Ut(),Se(),gr()+i,Br())}function sh(i,s,a,l){if(!l)if(3==(3&s[2])){const g=i.preOrderCheckHooks;null!==g&&_o(s,g,a)}else{const g=i.preOrderHooks;null!==g&&ns(s,g,0,a)}Qn(a)}function Il(i,s){return i<<17|s<<2}function Wi(i){return i>>17&32767}function tp(i){return 2|i}function ls(i){return(131068&i)>>2}function oh(i,s){return-131069&i|s<<2}function im(i){return 1|i}function Fw(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const h=a[l],g=a[l+1];if(-1!==g){const v=i.data[g];ea(h),v.contentQueries(2,s[g],g)}}}function zc(i,s,a,l,h,g,v,I,D,S){const R=s.blueprint.slice();return R[0]=h,R[2]=140|l,Ts(R),R[3]=R[15]=i,R[8]=a,R[10]=v||i&&i[10],R[11]=I||i&&i[11],R[12]=D||i&&i[12]||null,R[9]=S||i&&i[9]||null,R[6]=g,R[16]=2==s.type?i[16]:R,R}function dh(i,s,a,l,h){let g=i.data[s];if(null===g)g=function um(i,s,a,l,h){const g=_i(),v=Jo(),D=i.data[s]=function hm(i,s,a,l,h,g){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,a,s,l,h);return null===i.firstChild&&(i.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}(i,s,a,l,h),function qu(){return Et.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=l,g.attrs=h;const v=function As(){const i=Et.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return or(g,!0),g}function Tl(i,s,a,l){if(0===a)return-1;const h=s.length;for(let g=0;g<a;g++)s.push(l),i.blueprint.push(l),i.data.push(null);return h}function Al(i,s,a){Ss(s);try{const l=i.viewQuery;null!==l&&vm(1,l,a);const h=i.template;null!==h&&hh(i,s,h,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Fw(i,s),i.staticViewQueries&&vm(2,i.viewQuery,a);const g=i.components;null!==g&&function oD(i,s){for(let a=0;a<s.length;a++)fD(i,s[a])}(s,g)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,xn()}}function ap(i,s,a,l){const h=s[2];if(256==(256&h))return;Ss(s);const g=Br();try{Ts(s),function Qa(i){return Et.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&hh(i,s,a,2,l);const v=3==(3&h);if(!g)if(v){const S=i.preOrderCheckHooks;null!==S&&_o(s,S,null)}else{const S=i.preOrderHooks;null!==S&&ns(s,S,0,null),Qu(s,0)}if(function q_(i){for(let s=zf(i);null!==s;s=ml(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const h=a[l],g=h[3];0==(1024&h[2])&&ju(g,1),h[2]|=1024}}}(s),function Jw(i){for(let s=zf(i);null!==s;s=ml(s))for(let a=10;a<s.length;a++){const l=s[a],h=l[1];mo(l)&&ap(h,l,h.template,l[8])}}(s),null!==i.contentQueries&&Fw(i,s),!g)if(v){const S=i.contentCheckHooks;null!==S&&_o(s,S)}else{const S=i.contentHooks;null!==S&&ns(s,S,1),Qu(s,1)}!function kw(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const h=a[l];if(h<0)Qn(~h);else{const g=h,v=a[++l],I=a[++l];cc(v,g),I(2,s[g])}}}finally{Qn(-1)}}(i,s);const I=i.components;null!==I&&function ZA(i,s){for(let a=0;a<s.length;a++)hD(i,s[a])}(s,I);const D=i.viewQuery;if(null!==D&&vm(2,D,l),!g)if(v){const S=i.viewCheckHooks;null!==S&&_o(s,S)}else{const S=i.viewHooks;null!==S&&ns(s,S,2),Qu(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),g||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,ju(s[3],-1))}finally{xn()}}function V_(i,s,a,l){const h=s[10],g=!Br(),v=Qo(s);try{g&&!v&&h.begin&&h.begin(),v&&Al(i,s,l),ap(i,s,a,l)}finally{g&&!v&&h.end&&h.end()}}function hh(i,s,a,l,h){const g=gr(),v=2&l;try{Qn(-1),v&&s.length>20&&sh(i,s,20,Br()),a(l,h)}finally{Qn(g)}}function up(i,s,a){if(rc(s)){const h=s.directiveEnd;for(let g=s.directiveStart;g<h;g++){const v=i.data[g];v.contentQueries&&v.contentQueries(1,a[g],g)}}}function Sl(i,s,a){!yo()||(function WA(i,s,a,l){const h=a.directiveStart,g=a.directiveEnd;i.firstCreatePass||xs(a,s),Nr(l,s);const v=a.initialInputs;for(let I=h;I<g;I++){const D=i.data[I],S=ti(D);S&&Ww(s,a,D);const R=Ms(s,i,I,a);Nr(R,s),null!==v&&Yw(0,I-h,R,D,0,v),S&&(Sn(a.index,s)[8]=R)}}(i,s,a,Ur(a,s)),128==(128&a.flags)&&function KA(i,s,a){const l=a.directiveStart,h=a.directiveEnd,v=a.index,I=function Zu(){return Et.lFrame.currentDirectiveIndex}();try{Qn(v);for(let D=l;D<h;D++){const S=i.data[D],R=s[D];ts(D),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&$w(S,R)}}finally{Qn(-1),ts(I)}}(i,s,a))}function Wc(i,s,a=Ur){const l=s.localNames;if(null!==l){let h=s.index+1;for(let g=0;g<l.length;g+=2){const v=l[g+1],I=-1===v?a(s,i):i[v];i[h++]=I}}}function Lw(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=fh(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function fh(i,s,a,l,h,g,v,I,D,S){const R=20+l,F=R+h,B=function Vw(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:gt);return a}(R,F),z="function"==typeof S?S():S;return B[1]={type:i,blueprint:B,template:a,queries:null,viewQuery:I,declTNode:s,data:B.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:z,incompleteFirstPass:!1}}function dm(i,s,a,l){const h=eE(s);null===a?h.push(l):(h.push(a),i.firstCreatePass&&tE(i).push(l,h.length-1))}function U_(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const h=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,h):a[l]=[s,h]}return a}function pm(i,s,a,l){let h=!1;if(yo()){const g=function Hw(i,s,a){const l=i.directiveRegistry;let h=null;if(l)for(let g=0;g<l.length;g++){const v=l[g];H(a,v.selectors,!1)&&(h||(h=[]),oa(xs(a,s),i,v.type),ti(v)?(Gw(i,a),h.unshift(v)):h.push(v))}return h}(i,s,a),v=null===l?null:{"":-1};if(null!==g){h=!0,G_(a,i.data.length,g.length);for(let R=0;R<g.length;R++){const F=g[R];F.providersResolver&&F.providersResolver(F)}let I=!1,D=!1,S=Tl(i,s,g.length,null);for(let R=0;R<g.length;R++){const F=g[R];a.mergedAttrs=vt(a.mergedAttrs,F.hostAttrs),zw(i,a,s,S,F),Zw(S,F,v),null!==F.contentQueries&&(a.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(a.flags|=128);const B=F.type.prototype;!I&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),I=!0),!D&&(B.ngOnChanges||B.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),D=!0),S++}!function Uw(i,s){const l=s.directiveEnd,h=i.data,g=s.attrs,v=[];let I=null,D=null;for(let S=s.directiveStart;S<l;S++){const R=h[S],F=R.inputs,B=null===g||p(s)?null:cD(F,g);v.push(B),I=U_(F,S,I),D=U_(R.outputs,S,D)}null!==I&&(I.hasOwnProperty("class")&&(s.flags|=16),I.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=v,s.inputs=I,s.outputs=D}(i,a)}v&&function qw(i,s,a){if(s){const l=i.localNames=[];for(let h=0;h<s.length;h+=2){const g=a[s[h+1]];if(null==g)throw new ke(-301,`Export of name '${s[h+1]}' not found!`);l.push(s[h],g)}}}(a,l,v)}return a.mergedAttrs=vt(a.mergedAttrs,a.attrs),h}function lD(i,s,a,l,h,g){const v=g.hostBindings;if(v){let I=i.hostBindingOpCodes;null===I&&(I=i.hostBindingOpCodes=[]);const D=~s.index;(function zA(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(I)!=D&&I.push(D),I.push(l,h,v)}}function $w(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Gw(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function Zw(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;ti(s)&&(a[""]=i)}}function G_(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function zw(i,s,a,l,h){i.data[l]=h;const g=h.factory||(h.factory=Gs(h.type)),v=new ia(g,ti(h),null);i.blueprint[l]=v,a[l]=v,lD(i,s,0,l,Tl(i,a,h.hostVars,gt),h)}function Ww(i,s,a){const l=Ur(s,i),h=Lw(a),g=i[10],v=ym(i,zc(i,h,null,a.onPush?64:16,l,s,g,g.createRenderer(l,a),null,null));i[s.index]=v}function Sa(i,s,a,l,h,g){const v=Ur(i,s);!function Kw(i,s,a,l,h,g,v){if(null==g)vn(i)?i.removeAttribute(s,h,a):s.removeAttribute(h);else{const I=null==v?le(g):v(g,l||"",h);vn(i)?i.setAttribute(s,h,I,a):a?s.setAttributeNS(a,h,I):s.setAttribute(h,I)}}(s[11],v,g,i.value,a,l,h)}function Yw(i,s,a,l,h,g){const v=g[s];if(null!==v){const I=l.setInput;for(let D=0;D<v.length;){const S=v[D++],R=v[D++],F=v[D++];null!==I?l.setInput(a,F,S,R):a[R]=F}}}function cD(i,s){let a=null,l=0;for(;l<s.length;){const h=s[l];if(0!==h)if(5!==h){if("number"==typeof h)break;i.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,i[h],s[l+1])),l+=2}else l+=2;else l+=4}return a}function Qw(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function hD(i,s){const a=Sn(s,i);if(mo(a)){const l=a[1];80&a[2]?ap(l,a,l.template,a[8]):a[5]>0&&gm(a)}}function gm(i){for(let l=zf(i);null!==l;l=ml(l))for(let h=10;h<l.length;h++){const g=l[h];if(1024&g[2]){const v=g[1];ap(v,g,v.template,g[8])}else g[5]>0&&gm(g)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const h=Sn(a[l],i);mo(h)&&h[5]>0&&gm(h)}}function fD(i,s){const a=Sn(s,i),l=a[1];(function mm(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),Al(l,a,a[8])}function ym(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function lp(i){for(;i;){i[2]|=64;const s=eo(i);if(sc(i)&&!s)return i;i=s}return null}function _m(i,s,a){const l=s[10];l.begin&&l.begin();try{ap(i,s,i.template,a)}catch(h){throw nE(s,h),h}finally{l.end&&l.end()}}function Xw(i){!function cp(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],l=$f(a),h=l[1];V_(h,l,h.template,a)}}(i[8])}function vm(i,s,a){ea(0),s(i,a)}const z_=(()=>Promise.resolve(null))();function eE(i){return i[7]||(i[7]=[])}function tE(i){return i.cleanup||(i.cleanup=[])}function nE(i,s){const a=i[9],l=a?a.get(Yd,null):null;l&&l.handleError(s)}function mD(i,s,a,l,h){for(let g=0;g<a.length;){const v=a[g++],I=a[g++],D=s[v],S=i.data[v];null!==S.setInput?S.setInput(D,h,l,I):D[I]=h}}function wm(i,s,a){let l=a?i.styles:null,h=a?i.classes:null,g=0;if(null!==s)for(let v=0;v<s.length;v++){const I=s[v];"number"==typeof I?g=I:1==g?h=fe(h,I):2==g&&(l=fe(l,I+": "+s[++v]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=h:i.classesWithoutHost=h}const K_=new hn("INJECTOR",-1);class Y_{get(s,a=ri){if(a===ri){const l=new Error(`NullInjectorError: No provider for ${he(s)}!`);throw l.name="NullInjectorError",l}return a}}const Q_=new hn("Set Injector scope."),ph={},yD={};let J_;function dp(){return void 0===J_&&(J_=new Y_),J_}function X_(i,s=null,a=null,l){const h=sE(i,s,a,l);return h._resolveInjectorDefTypes(),h}function sE(i,s=null,a=null,l){return new oE(i,a,s||dp(),l)}class oE{constructor(s,a,l,h=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];a&&Ir(a,I=>this.processProvider(I,s,a)),Ir([s],I=>this.processInjectorType(I,[],g)),this.records.set(K_,gh(void 0,this));const v=this.records.get(Q_);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof s?null:he(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=ri,l=ot.Default){this.assertNotDestroyed();const h=bi(this),g=Nn(void 0);try{if(!(l&ot.SkipSelf)){let I=this.records.get(s);if(void 0===I){const D=function wD(i){return"function"==typeof i||"object"==typeof i&&i instanceof hn}(s)&&Pn(s);I=D&&this.injectableDefInScope(D)?gh(ev(s),ph):null,this.records.set(s,I)}if(null!=I)return this.hydrate(s,I)}return(l&ot.Self?dp():this.parent).get(s,a=l&ot.Optional&&a===ri?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[rl]=v[rl]||[]).unshift(he(s)),h)throw v;return function pu(i,s,a,l){const h=i[rl];throw s[pa]&&h.unshift(s[pa]),i.message=function xf(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let h=he(s);if(Array.isArray(s))h=s.map(he).join(" -> ");else if("object"==typeof s){let g=[];for(let v in s)if(s.hasOwnProperty(v)){let I=s[v];g.push(v+":"+("string"==typeof I?JSON.stringify(I):he(I)))}h=`{${g.join(", ")}}`}return`${a}${l?"("+l+")":""}[${h}]: ${i.replace(Tc,"\n  ")}`}("\n"+i.message,h,a,l),i.ngTokenPath=h,i[rl]=null,i}(v,s,"R3InjectorError",this.source)}throw v}finally{Nn(g),bi(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,h)=>s.push(he(h))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ke(205,"")}processInjectorType(s,a,l){if(!(s=te(s)))return!1;let h=Zo(s);const g=null==h&&s.ngModule||void 0,v=void 0===g?s:g,I=-1!==l.indexOf(v);if(void 0!==g&&(h=Zo(g)),null==h)return!1;if(null!=h.imports&&!I){let R;l.push(v);try{Ir(h.imports,F=>{this.processInjectorType(F,a,l)&&(void 0===R&&(R=[]),R.push(F))})}finally{}if(void 0!==R)for(let F=0;F<R.length;F++){const{ngModule:B,providers:z}=R[F];Ir(z,_e=>this.processProvider(_e,B,z||Xe))}}this.injectorDefTypes.add(v);const D=Gs(v)||(()=>new v);this.records.set(v,gh(D,ph));const S=h.providers;if(null!=S&&!I){const R=s;Ir(S,F=>this.processProvider(F,R,S))}return void 0!==g&&void 0!==s.providers}processProvider(s,a,l){let h=hp(s=te(s))?s:te(s&&s.provide);const g=function _D(i,s,a){return Im(i)?gh(void 0,i.useValue):gh(tv(i),ph)}(s);if(hp(s)||!0!==s.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=gh(void 0,ph,!0),v.factory=()=>jd(v.multi),this.records.set(h,v)),h=s,v.multi.push(s)}this.records.set(h,g)}hydrate(s,a){return a.value===ph&&(a.value=yD,a.value=a.factory()),"object"==typeof a.value&&a.value&&function uE(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=te(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function ev(i){const s=Pn(i),a=null!==s?s.factory:Gs(i);if(null!==a)return a;if(i instanceof hn)throw new ke(204,"");if(i instanceof Function)return function aE(i){const s=i.length;if(s>0)throw function ca(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}(s,"?"),new ke(204,"");const a=function vs(i){const s=i&&(i[lo]||i[ws]);if(s){const a=function ja(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new ke(204,"")}function tv(i,s,a){let l;if(hp(i)){const h=te(i);return Gs(h)||ev(h)}if(Im(i))l=()=>te(i.useValue);else if(function JA(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...jd(i.deps||[]));else if(function QA(i){return!(!i||!i.useExisting)}(i))l=()=>Cn(te(i.useExisting));else{const h=te(i&&(i.useClass||i.provide));if(!function XA(i){return!!i.deps}(i))return Gs(h)||ev(h);l=()=>new h(...jd(i.deps))}return l}function gh(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Im(i){return null!==i&&"object"==typeof i&&fu in i}function hp(i){return"function"==typeof i}let ro=(()=>{class i{static create(a,l){var h;if(Array.isArray(a))return X_({name:""},l,a,"");{const g=null!==(h=a.name)&&void 0!==h?h:"";return X_({name:g},a.parent,a.providers,g)}}}return i.THROW_IF_NOT_FOUND=ri,i.NULL=new Y_,i.\u0275prov=cn({token:i,providedIn:"any",factory:()=>Cn(K_)}),i.__NG_ELEMENT_ID__=-1,i})();function bm(i,s){ra($f(i)[1],En())}function rv(i){let s=function Eu(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let h;if(ti(i))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new ke(903,"");h=s.\u0275dir}if(h){if(a){l.push(h);const v=i;v.inputs=gp(i.inputs),v.declaredInputs=gp(i.declaredInputs),v.outputs=gp(i.outputs);const I=h.hostBindings;I&&CD(i,I);const D=h.viewQuery,S=h.contentQueries;if(D&&mE(i,D),S&&Mi(i,S),ae(i.inputs,h.inputs),ae(i.declaredInputs,h.declaredInputs),ae(i.outputs,h.outputs),ti(h)&&h.data.animation){const R=i.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const I=g[v];I&&I.ngInherit&&I(i),I===rv&&(a=!1)}}s=Object.getPrototypeOf(s)}!function gE(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const h=i[l];h.hostVars=s+=h.hostVars,h.hostAttrs=vt(h.hostAttrs,a=vt(a,h.hostAttrs))}}(l)}function gp(i){return i===Wt?{}:i===Xe?[]:i}function mE(i,s){const a=i.viewQuery;i.viewQuery=a?(l,h)=>{s(l,h),a(l,h)}:s}function Mi(i,s){const a=i.contentQueries;i.contentQueries=a?(l,h,g)=>{s(l,h,g),a(l,h,g)}:s}function CD(i,s){const a=i.hostBindings;i.hostBindings=a?(l,h)=>{s(l,h),a(l,h)}:s}let yh=null;function _h(){if(!yh){const i=$t.Symbol;if(i&&i.iterator)yh=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(yh=l)}}}return yh}function Ra(i){return!!Am(i)&&(Array.isArray(i)||!(i instanceof Map)&&_h()in i)}function Am(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function qr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function yp(i,s,a,l){const h=Se();return qr(h,es(),s)&&(Ut(),Sa(In(),h,i,s,a,l)),yp}function uv(i,s,a,l,h,g,v,I){const D=Se(),S=Ut(),R=i+20,F=S.firstCreatePass?function vE(i,s,a,l,h,g,v,I,D){const S=s.consts,R=dh(s,i,4,v||null,ji(S,I));pm(s,a,R,ji(S,D)),ra(s,R);const F=R.tViews=fh(2,R,l,h,g,s.directiveRegistry,s.pipeRegistry,null,s.schemas,S);return null!==s.queries&&(s.queries.template(s,R),F.queries=s.queries.embeddedTView(R)),R}(R,S,D,s,a,l,h,g,v):S.data[R];or(F,!1);const B=D[11].createComment("");Gc(S,D,B,F),Nr(B,D),ym(D,D[R]=Qw(B,D,B,F)),Wo(F)&&Sl(S,D,F),null!=v&&Wc(D,F,I)}function lv(i){return function ni(i,s){return i[s]}(function Ng(){return Et.lFrame.contextLView}(),20+i)}function Du(i,s=ot.Default){const a=Se();return null===a?Cn(i,s):Nd(En(),a,te(i),s)}function mv(){throw new Error("invalid")}function ci(i,s,a){const l=Se();return qr(l,es(),s)&&function cs(i,s,a,l,h,g,v,I){const D=Ur(s,a);let R,S=s.inputs;!I&&null!=S&&(R=S[l])?(mD(i,a,R,l,h),ic(s)&&function B_(i,s){const a=Sn(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(l=function Bw(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),h=null!=v?v(h,s.value||"",l):h,vn(g)?g.setProperty(D,l,h):rs(l)||(D.setProperty?D.setProperty(l,h):D[l]=h))}(Ut(),In(),l,i,s,l[11],a,!1),ci}function Bm(i,s,a,l,h){const v=h?"class":"style";mD(i,a,s.inputs[v],v,l)}function Ah(i,s,a,l){const h=Se(),g=Ut(),v=20+i,I=h[11],D=h[v]=eh(I,s,function pc(){return Et.lFrame.currentNamespace}()),S=g.firstCreatePass?function Ip(i,s,a,l,h,g,v){const I=s.consts,S=dh(s,i,2,h,ji(I,g));return pm(s,a,S,ji(I,v)),null!==S.attrs&&wm(S,S.attrs,!1),null!==S.mergedAttrs&&wm(S,S.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,S),S}(v,g,h,0,s,a,l):g.data[v];or(S,!0);const R=S.mergedAttrs;null!==R&&Ju(I,D,R);const F=S.classes;null!==F&&Fo(I,D,F);const B=S.styles;null!==B&&Xf(I,D,B),64!=(64&S.flags)&&Gc(g,h,D,S),0===function yi(){return Et.lFrame.elementDepthCount}()&&Nr(D,h),function Ya(){Et.lFrame.elementDepthCount++}(),Wo(S)&&(Sl(g,h,S),up(g,S,h)),null!==l&&Wc(h,S)}function jm(){let i=En();Jo()?Gu():(i=i.parent,or(i,!1));const s=i;!function Hu(){Et.lFrame.elementDepthCount--}();const a=Ut();a.firstCreatePass&&(ra(a,i),rc(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Od(i){return 0!=(16&i.flags)}(s)&&Bm(a,s,Se(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function kg(i){return 0!=(32&i.flags)}(s)&&Bm(a,s,Se(),s.stylesWithoutHost,!1)}function $m(i,s,a,l){Ah(i,s,a,l),jm()}function Qc(i,s,a){const l=Se(),h=Ut(),g=i+20,v=h.firstCreatePass?function PE(i,s,a,l,h){const g=s.consts,v=ji(g,l),I=dh(s,i,8,"ng-container",v);return null!==v&&wm(I,v,!0),pm(s,a,I,ji(g,h)),null!==s.queries&&s.queries.elementStart(s,I),I}(g,h,l,s,a):h.data[g];or(v,!0);const I=l[g]=l[11].createComment("");Gc(h,l,I,v),Nr(I,l),Wo(v)&&(Sl(h,l,v),up(h,v,l)),null!=a&&Wc(l,v)}function Cp(){let i=En();const s=Ut();Jo()?Gu():(i=i.parent,or(i,!1)),s.firstCreatePass&&(ra(s,i),rc(i)&&s.queries.elementEnd(i))}function Sh(i){return!!i&&"function"==typeof i.then}function xh(i){return!!i&&"function"==typeof i.subscribe}const vv=xh;function wv(i,s,a,l){const h=Se(),g=Ut(),v=En();return function qm(i,s,a,l,h,g,v,I){const D=Wo(l),R=i.firstCreatePass&&tE(i),F=s[8],B=eE(s);let z=!0;if(3&l.type||I){const Ye=Ur(l,s),ut=I?I(Ye):Ye,be=B.length,yt=I?qt=>I(wn(qt[l.index])):l.index;if(vn(a)){let qt=null;if(!I&&D&&(qt=function Gm(i,s,a,l){const h=i.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===a&&h[g+1]===l){const I=s[7],D=h[g+2];return I.length>D?I[D]:null}"string"==typeof v&&(g+=2)}return null}(i,s,h,l.index)),null!==qt)(qt.__ngLastListenerFn__||qt).__ngNextListenerFn__=g,qt.__ngLastListenerFn__=g,z=!1;else{g=Zm(l,s,F,g,!1);const tn=a.listen(ut,h,g);B.push(g,tn),R&&R.push(h,yt,be,be+1)}}else g=Zm(l,s,F,g,!0),ut.addEventListener(h,g,v),B.push(g),R&&R.push(h,yt,be,v)}else g=Zm(l,s,F,g,!1);const _e=l.outputs;let Be;if(z&&null!==_e&&(Be=_e[h])){const Ye=Be.length;if(Ye)for(let ut=0;ut<Ye;ut+=2){const Us=s[Be[ut]][Be[ut+1]].subscribe(g),Xl=B.length;B.push(g,Us),R&&R.push(h,l.index,Xl,-(Xl+1))}}}(g,h,h[11],v,i,s,!!a,l),wv}function Ev(i,s,a,l){try{return!1!==a(l)}catch(h){return nE(i,h),!1}}function Zm(i,s,a,l,h){return function g(v){if(v===Function)return l;const I=2&i.flags?Sn(i.index,s):s;0==(32&s[2])&&lp(I);let D=Ev(s,0,l,v),S=g.__ngNextListenerFn__;for(;S;)D=Ev(s,0,S,v)&&D,S=S.__ngNextListenerFn__;return h&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function Dv(i,s,a,l,h){const g=i[a+1],v=null===s;let I=l?Wi(g):ls(g),D=!1;for(;0!==I&&(!1===D||v);){const R=i[I+1];Fn(i[I],s)&&(D=!0,i[I+1]=l?im(R):tp(R)),I=l?Wi(R):ls(R)}D&&(i[a+1]=l?tp(g):im(g))}function Fn(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Hr(i,s)>=0}function Sv(i,s){return function ks(i,s,a,l){const h=Se(),g=Ut(),v=function Hn(i){const s=Et.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);g.firstUpdatePass&&function Mv(i,s,a,l){const h=i.data;if(null===h[a+1]){const g=h[gr()],v=function xv(i,s){return s>=i.expandoStartIndex}(i,a);(function Rv(i,s){return 0!=(i.flags&(s?16:32))})(g,l)&&null===s&&!v&&(s=!1),s=function FD(i,s,a,l){const h=function Xo(i){const s=Et.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let g=l?s.residualClasses:s.residualStyles;if(null===h)0===(l?s.classBindings:s.styleBindings)&&(a=bu(a=Ph(null,i,s,a,l),s.attrs,l),g=null);else{const v=s.directiveStylingLast;if(-1===v||i[v]!==h)if(a=Ph(h,i,s,a,l),null===g){let D=function LD(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==ls(l))return i[Wi(l)]}(i,s,l);void 0!==D&&Array.isArray(D)&&(D=Ph(null,i,s,D[1],l),D=bu(D,s.attrs,l),function VD(i,s,a,l){i[Wi(a?s.classBindings:s.styleBindings)]=l}(i,s,l,D))}else g=function UD(i,s,a){let l;const h=s.directiveEnd;for(let g=1+s.directiveStylingLast;g<h;g++)l=bu(l,i[g].hostAttrs,a);return bu(l,s.attrs,a)}(i,s,l)}return void 0!==g&&(l?s.residualClasses=g:s.residualStyles=g),a}(h,g,s,l),function Wm(i,s,a,l,h,g){let v=g?s.classBindings:s.styleBindings,I=Wi(v),D=ls(v);i[l]=a;let R,S=!1;if(Array.isArray(a)){const F=a;R=F[1],(null===R||Hr(F,R)>0)&&(S=!0)}else R=a;if(h)if(0!==D){const B=Wi(i[I+1]);i[l+1]=Il(B,I),0!==B&&(i[B+1]=oh(i[B+1],l)),i[I+1]=function ep(i,s){return 131071&i|s<<17}(i[I+1],l)}else i[l+1]=Il(I,0),0!==I&&(i[I+1]=oh(i[I+1],l)),I=l;else i[l+1]=Il(D,0),0===I?I=l:i[D+1]=oh(i[D+1],l),D=l;S&&(i[l+1]=tp(i[l+1])),Dv(i,R,l,!0),Dv(i,R,l,!1),function Km(i,s,a,l,h){const g=h?i.residualClasses:i.residualStyles;null!=g&&"string"==typeof s&&Hr(g,s)>=0&&(a[l+1]=im(a[l+1]))}(s,R,i,l,g),v=Il(I,D),g?s.classBindings=v:s.styleBindings=v}(h,g,s,a,v,l)}}(g,i,v,l),s!==gt&&qr(h,v,s)&&function Oh(i,s,a,l,h,g,v,I){if(!(3&s.type))return;const D=i.data,S=D[I+1];Jm(function rm(i){return 1==(1&i)}(S)?Nh(D,s,a,h,ls(S),v):void 0)||(Jm(g)||function Zc(i){return 2==(2&i)}(S)&&(g=Nh(D,null,a,h,I,v)),function Jf(i,s,a,l,h){const g=vn(i);if(s)h?g?i.addClass(a,l):a.classList.add(l):g?i.removeClass(a,l):a.classList.remove(l);else{let v=-1===l.indexOf("-")?void 0:Xs.DashCase;if(null==h)g?i.removeStyle(a,l,v):a.style.removeProperty(l);else{const I="string"==typeof h&&h.endsWith("!important");I&&(h=h.slice(0,-10),v|=Xs.Important),g?i.setStyle(a,l,h,v):a.style.setProperty(l,h,I?"important":"")}}}(l,v,function bs(i,s){return wn(s[i])}(gr(),a),h,g))}(g,g.data[gr()],h,h[11],i,h[v+1]=function dr(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=he(Or(i)))),i}(s,a),l,v)}(i,s,null,!0),Sv}function Ph(i,s,a,l,h){let g=null;const v=a.directiveEnd;let I=a.directiveStylingLast;for(-1===I?I=a.directiveStart:I++;I<v&&(g=s[I],l=bu(l,g.hostAttrs,h),g!==i);)I++;return null!==i&&(a.directiveStylingLast=I),l}function bu(i,s,a){const l=a?1:2;let h=-1;if(null!==s)for(let g=0;g<s.length;g++){const v=s[g];"number"==typeof v?h=v:h===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),mt(i,v,!!a||s[++g]))}return void 0===i?null:i}function Nh(i,s,a,l,h,g){const v=null===s;let I;for(;h>0;){const D=i[h],S=Array.isArray(D),R=S?D[1]:D,F=null===R;let B=a[h+1];B===gt&&(B=F?Xe:void 0);let z=F?da(B,l):R===l?B:void 0;if(S&&!Jm(z)&&(z=da(D,l)),Jm(z)&&(I=z,v))return I;const _e=i[h+1];h=v?Wi(_e):ls(_e)}if(null!==s){let D=g?s.residualClasses:s.residualStyles;null!=D&&(I=da(D,l))}return I}function Jm(i){return void 0!==i}function GE(i,s=""){const a=Se(),l=Ut(),h=i+20,g=l.firstCreatePass?dh(l,h,1,s,null):l.data[h],v=a[h]=function Kf(i,s){return vn(i)?i.createText(s):i.createTextNode(s)}(a[11],s);Gc(l,a,v,g),or(g,!1)}const ed=void 0;var Kv=["en",[["a","p"],["AM","PM"],ed],[["AM","PM"],ed,ed],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ed,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ed,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ed,"{1} 'at' {0}",ed],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ho(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Qt={};function Op(i){const s=function tI(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=ny(s);if(a)return a;const l=s.split("-")[0];if(a=ny(l),a)return a;if("en"===l)return Kv;throw new Error(`Missing locale data for the locale "${i}".`)}function Yv(i){return Op(i)[wt.PluralCase]}function ny(i){return i in Qt||(Qt[i]=$t.ng&&$t.ng.common&&$t.ng.common.locales&&$t.ng.common.locales[i]),Qt[i]}var wt=(()=>((wt=wt||{})[wt.LocaleId=0]="LocaleId",wt[wt.DayPeriodsFormat=1]="DayPeriodsFormat",wt[wt.DayPeriodsStandalone=2]="DayPeriodsStandalone",wt[wt.DaysFormat=3]="DaysFormat",wt[wt.DaysStandalone=4]="DaysStandalone",wt[wt.MonthsFormat=5]="MonthsFormat",wt[wt.MonthsStandalone=6]="MonthsStandalone",wt[wt.Eras=7]="Eras",wt[wt.FirstDayOfWeek=8]="FirstDayOfWeek",wt[wt.WeekendRange=9]="WeekendRange",wt[wt.DateFormat=10]="DateFormat",wt[wt.TimeFormat=11]="TimeFormat",wt[wt.DateTimeFormat=12]="DateTimeFormat",wt[wt.NumberSymbols=13]="NumberSymbols",wt[wt.NumberFormats=14]="NumberFormats",wt[wt.CurrencyCode=15]="CurrencyCode",wt[wt.CurrencySymbol=16]="CurrencySymbol",wt[wt.CurrencyName=17]="CurrencyName",wt[wt.Currencies=18]="Currencies",wt[wt.Directionality=19]="Directionality",wt[wt.PluralCase=20]="PluralCase",wt[wt.ExtraData=21]="ExtraData",wt))();const Dr="en-US";let nd=Dr;function fy(i,s,a,l,h){if(i=te(i),Array.isArray(i))for(let g=0;g<i.length;g++)fy(i[g],s,a,l,h);else{const g=Ut(),v=Se();let I=hp(i)?i:te(i.provide),D=tv(i);const S=En(),R=1048575&S.providerIndexes,F=S.directiveStart,B=S.providerIndexes>>20;if(hp(i)||!i.multi){const z=new ia(D,h,Du),_e=Vh(I,s,h?R:R+B,F);-1===_e?(oa(xs(S,v),g,I),so(g,i,s.length),s.push(I),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(z),v.push(z)):(a[_e]=z,v[_e]=z)}else{const z=Vh(I,s,R+B,F),_e=Vh(I,s,R,R+B),Be=z>=0&&a[z],Ye=_e>=0&&a[_e];if(h&&!Ye||!h&&!Be){oa(xs(S,v),g,I);const ut=function XD(i,s,a,l,h){const g=new ia(i,a,Du);return g.multi=[],g.index=s,g.componentProviders=0,n0(g,h,l&&!a),g}(h?JD:_I,a.length,h,l,D);!h&&Ye&&(a[_e].providerFactory=ut),so(g,i,s.length,0),s.push(I),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(ut),v.push(ut)}else so(g,i,z>-1?z:_e,n0(a[h?_e:z],D,!h&&l));!h&&l&&Ye&&a[_e].componentProviders++}}}function so(i,s,a,l){const h=hp(s),g=function vD(i){return!!i.useClass}(s);if(h||g){const D=(g?te(s.useClass):s).prototype.ngOnDestroy;if(D){const S=i.destroyHooks||(i.destroyHooks=[]);if(!h&&s.multi){const R=S.indexOf(a);-1===R?S.push(a,[l,D]):S[R+1].push(l,D)}else S.push(a,D)}}}function n0(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Vh(i,s,a,l){for(let h=a;h<l;h++)if(s[h]===i)return h;return-1}function _I(i,s,a,l){return r0(this.multi,[])}function JD(i,s,a,l){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,I=Ms(a,a[1],this.providerFactory.index,l);g=I.slice(0,v),r0(h,g);for(let D=v;D<I.length;D++)g.push(I[D])}else g=[],r0(h,g);return g}function r0(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function vI(i,s=[]){return a=>{a.providersResolver=(l,h)=>function QD(i,s,a){const l=Ut();if(l.firstCreatePass){const h=ti(i);fy(a,l.data,l.blueprint,h,!0),fy(s,l.data,l.blueprint,h,!1)}}(l,h?h(i):i,s)}}class wI{}class nb{resolveComponentFactory(s){throw function tb(i){const s=Error(`No component factory found for ${he(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let $p=(()=>{class i{}return i.NULL=new nb,i})();function rb(){return Uh(En(),Se())}function Uh(i,s){return new Hp(Ur(i,s))}let Hp=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=rb,i})();function ib(i){return i instanceof Hp?i.nativeElement:i}class II{}let CI=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function ob(){const i=Se(),a=Sn(En().index,i);return function DI(i){return i[11]}(sr(a)?a:i)}(),i})(),s0=(()=>{class i{}return i.\u0275prov=cn({token:i,providedIn:"root",factory:()=>null}),i})();class Fr{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const o0=new Fr("13.1.3"),ka={};function Gp(i,s,a,l,h=!1){for(;null!==a;){const g=s[a.index];if(null!==g&&l.push(wn(g)),Bi(g))for(let I=10;I<g.length;I++){const D=g[I],S=D[1].firstChild;null!==S&&Gp(D[1],D,S,l)}const v=a.type;if(8&v)Gp(i,s,a.child,l);else if(32&v){const I=Uc(a,s);let D;for(;D=I();)l.push(D)}else if(16&v){const I=El(s,a);if(Array.isArray(I))l.push(...I);else{const D=eo(s[16]);Gp(D[1],D,I,l,!0)}}a=h?a.projectionNext:a.next}return l}class fn{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Gp(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Bi(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(rh(s,l),yn(a,l))}this._attachedToViewContainer=!1}Jg(this._lView[1],this._lView)}onDestroy(s){dm(this._lView[1],this._lView,null,s)}markForCheck(){lp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){_m(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Z_(i,s,a){vi(!0);try{_m(i,s,a)}finally{vi(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ke(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function x_(i,s){ko(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new ke(902,"");this._appRef=s}}class py extends fn{constructor(s){super(s),this._view=s}detectChanges(){Xw(this._view)}checkNoChanges(){!function gD(i){vi(!0);try{Xw(i)}finally{vi(!1)}}(this._view)}get context(){return null}}class Wr extends $p{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=St(s);return new gy(a,this.ngModule)}}function Rn(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}const Bh=new hn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Zg});class gy extends wI{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function xi(i){return i.map(kn).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Rn(this.componentDef.inputs)}get outputs(){return Rn(this.componentDef.outputs)}create(s,a,l,h){const g=(h=h||this.ngModule)?function ps(i,s){return{get:(a,l,h)=>{const g=i.get(a,ka,h);return g!==ka||l===ka?g:s.get(a,l,h)}}}(s,h.injector):s,v=g.get(II,Ko),I=g.get(s0,null),D=v.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",R=l?function cm(i,s,a){if(vn(i))return i.selectRootElement(s,a===Bt.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(D,l,this.componentDef.encapsulation):eh(v.createRenderer(null,this.componentDef),S,function bI(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(S)),F=this.componentDef.onPush?576:528,B=function ui(i,s){return{components:[],scheduler:i||Zg,clean:z_,playerHandler:s||null,flags:0}}(),z=fh(0,null,null,1,0,null,null,null,null,null),_e=zc(null,z,B,F,null,null,v,D,I,g);let Be,Ye;Ss(_e);try{const ut=function fE(i,s,a,l,h,g){const v=a[1];a[20]=i;const D=dh(v,20,2,"#host",null),S=D.mergedAttrs=s.hostAttrs;null!==S&&(wm(D,S,!0),null!==i&&(Ju(h,i,S),null!==D.classes&&Fo(h,i,D.classes),null!==D.styles&&Xf(h,i,D.styles)));const R=l.createRenderer(i,s),F=zc(a,Lw(s),null,s.onPush?64:16,a[20],D,l,R,g||null,null);return v.firstCreatePass&&(oa(xs(D,a),v,s.type),Gw(v,D),G_(D,a.length,1)),ym(a,F),a[20]=F}(R,this.componentDef,_e,v,D);if(R)if(l)Ju(D,R,["ng-version",o0.full]);else{const{attrs:be,classes:yt}=function us(i){const s=[],a=[];let l=1,h=2;for(;l<i.length;){let g=i[l];if("string"==typeof g)2===h?""!==g&&s.push(g,i[++l]):8===h&&a.push(g);else{if(!A(h))break;h=g}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);be&&Ju(D,R,be),yt&&yt.length>0&&Fo(D,R,yt.join(" "))}if(Ye=Yo(z,20),void 0!==a){const be=Ye.projection=[];for(let yt=0;yt<this.ngContentSelectors.length;yt++){const qt=a[yt];be.push(null!=qt?Array.from(qt):null)}}Be=function pE(i,s,a,l,h){const g=a[1],v=function H_(i,s,a){const l=En();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),zw(i,l,s,Tl(i,s,1,null),a));const h=Ms(s,i,l.directiveStart,l);Nr(h,s);const g=Ur(l,s);return g&&Nr(g,s),h}(g,a,s);if(l.components.push(v),i[8]=v,h&&h.forEach(D=>D(v,s)),s.contentQueries){const D=En();s.contentQueries(1,v,D.directiveStart)}const I=En();return!g.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Qn(I.index),lD(a[1],I,0,I.directiveStart,I.directiveEnd,s),$w(s,v)),v}(ut,this.componentDef,_e,B,[bm]),Al(z,_e,null)}finally{xn()}return new ub(this.componentType,Be,Uh(Ye,_e),_e,Ye)}}class ub extends class eb{}{constructor(s,a,l,h,g){super(),this.location=l,this._rootLView=h,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new py(h),this.componentType=s}get injector(){return new mr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class Tn{}class Fa{}const Mu=new Map;class Pu extends Tn{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Wr(this);const l=dn(s);this._bootstrapComponents=Po(l.bootstrap),this._r3Injector=sE(s,a,[{provide:Tn,useValue:this},{provide:$p,useValue:this.componentFactoryResolver}],he(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=ro.THROW_IF_NOT_FOUND,l=ot.Default){return s===ro||s===Tn||s===K_?this:this._r3Injector.get(s,a,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class oo extends Fa{constructor(s){super(),this.moduleType=s,null!==dn(s)&&function lb(i){const s=new Set;!function a(l){const h=dn(l,!0),g=h.id;null!==g&&(function jh(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${he(s)} vs ${he(s.name)}`)}(g,Mu.get(g),l),Mu.set(g,l));const v=Po(h.imports);for(const I of v)s.has(I)||(s.add(I),a(I))}(i)}(s)}create(s){return new Pu(this.moduleType,s)}}function h0(i){return s=>{setTimeout(i,void 0,s)}}const qo=class Zh extends f.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){var h,g,v;let I=s,D=a||(()=>null),S=l;if(s&&"object"==typeof s){const F=s;I=null===(h=F.next)||void 0===h?void 0:h.bind(F),D=null===(g=F.error)||void 0===g?void 0:g.bind(F),S=null===(v=F.complete)||void 0===v?void 0:v.bind(F)}this.__isAsync&&(D=h0(D),I&&(I=h0(I)),S&&(S=h0(S)));const R=super.subscribe({next:I,error:D,complete:S});return s instanceof Q.w0&&s.add(R),R}};function Kt(){return this._results[_h()]()}class ln{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=_h(),l=ln.prototype;l[a]||(l[a]=Kt)}get changes(){return this._changes||(this._changes=new qo)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const h=Di(s);(this._changesDetected=!function Cc(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let h=i[l],g=s[l];if(a&&(h=a(h),g=a(g)),g!==h)return!1}return!0}(l._results,h,a))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let La=(()=>{class i{}return i.__NG_ELEMENT_ID__=NI,i})();const f0=La,p0=class extends f0{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s){const a=this._declarationTContainer.tViews,l=zc(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(l[19]=g.createEmbeddedView(a)),Al(a,l,s),new fn(l)}};function NI(){return zh(En(),Se())}function zh(i,s){return 4&i.type?new p0(s,i,Uh(i,s)):null}let Wp=(()=>{class i{}return i.__NG_ELEMENT_ID__=kI,i})();function kI(){return m0(En(),Se())}const FI=Wp,LI=class extends FI{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return Uh(this._hostTNode,this._hostLView)}get injector(){return new mr(this._hostTNode,this._hostLView)}get parentInjector(){const s=ar(this._hostTNode,this._hostLView);if(jr(s)){const a=Zs(s,this._hostLView),l=Jn(s);return new mr(a[1].data[l+8],a)}return new mr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=VI(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){const h=s.createEmbeddedView(a||{});return this.insert(h,l),h}createComponent(s,a,l,h,g){const v=s&&!function uu(i){return"function"==typeof i}(s);let I;if(v)I=a;else{const F=a||{};I=F.index,l=F.injector,h=F.projectableNodes,g=F.ngModuleRef}const D=v?s:new gy(St(s)),S=l||this.parentInjector;if(!g&&null==D.ngModule&&S){const F=S.get(Tn,null);F&&(g=F)}const R=D.create(S,h,void 0,g);return this.insert(R.hostView,I),R}insert(s,a){const l=s._lView,h=l[1];if(function Xi(i){return Bi(i[3])}(l)){const R=this.indexOf(s);if(-1!==R)this.detach(R);else{const F=l[3],B=new LI(F,F[6],F[3]);B.detach(B.indexOf(s))}}const g=this._adjustIndex(a),v=this._lContainer;!function nh(i,s,a,l){const h=10+l,g=a.length;l>0&&(a[h-1][4]=s),l<g-10?(s[4]=a[h],Dc(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const v=s[17];null!==v&&a!==v&&function Bc(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(v,s);const I=s[19];null!==I&&I.insertView(i),s[2]|=128}(h,l,v,g);const I=qc(g,v),D=l[11],S=Hc(D,v[7]);return null!==S&&function zi(i,s,a,l,h,g){l[0]=h,l[6]=s,ko(i,l,a,1,h,g)}(h,v[6],D,l,S,I),s.attachToViewContainerRef(),Dc(g0(v),g,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=VI(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=rh(this._lContainer,a);l&&(yn(g0(this._lContainer),a),Jg(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=rh(this._lContainer,a);return l&&null!=yn(g0(this._lContainer),a)?new fn(l):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function VI(i){return i[8]}function g0(i){return i[8]||(i[8]=[])}function m0(i,s){let a;const l=s[i.index];if(Bi(l))a=l;else{let h;if(8&i.type)h=wn(l);else{const g=s[11];h=g.createComment("");const v=Ur(i,s);wl(g,Hc(g,v),h,function Xg(i,s){return vn(i)?i.nextSibling(s):s.nextSibling}(g,v),!1)}s[i.index]=a=Qw(l,s,h,i),ym(s,a)}return new LI(a,i,s)}class y0{constructor(s){this.queryList=s,this.matches=null}clone(){return new y0(this.queryList)}setDirty(){this.queryList.setDirty()}}class _0{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,h=[];for(let g=0;g<l;g++){const v=a.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new _0(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Yp(s,a).matches&&this.queries[a].setDirty()}}class yy{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class Ou{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const h=null!==a?a.length:0,g=this.getByIndex(l).embeddedTView(s,h);g&&(g.indexInDeclarationView=l,null!==a?a.push(g):a=[g])}return null!==a?new Ou(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class ad{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new ad(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const g=l[h];this.matchTNodeWithReadOption(s,a,_y(a,g)),this.matchTNodeWithReadOption(s,a,su(a,s,g,!1,!1))}else l===La?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,su(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===Hp||h===Wp||h===La&&4&a.type)this.addMatch(a.index,-2);else{const g=su(a,s,h,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function _y(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function BI(i,s,a,l){return-1===a?function vy(i,s){return 11&i.type?Uh(i,s):4&i.type?zh(i,s):null}(s,i):-2===a?function jI(i,s,a){return a===Hp?Uh(s,i):a===La?zh(s,i):a===Wp?m0(s,i):void 0}(i,s,l):Ms(i,i[1],a,s)}function Va(i,s,a,l){const h=s[19].queries[l];if(null===h.matches){const g=i.data,v=a.matches,I=[];for(let D=0;D<v.length;D+=2){const S=v[D];I.push(S<0?null:BI(s,g[S],v[D+1],a.metadata.read))}h.matches=I}return h.matches}function wy(i,s,a,l){const h=i.queries.getByIndex(a),g=h.matches;if(null!==g){const v=Va(i,s,h,a);for(let I=0;I<g.length;I+=2){const D=g[I];if(D>0)l.push(v[I/2]);else{const S=g[I+1],R=s[-D];for(let F=10;F<R.length;F++){const B=R[F];B[17]===B[3]&&wy(B[1],B,S,l)}if(null!==R[9]){const F=R[9];for(let B=0;B<F.length;B++){const z=F[B];wy(z[1],z,S,l)}}}}}return l}function ud(i){const s=Se(),a=Ut(),l=zu();ea(l+1);const h=Yp(a,l);if(i.dirty&&Qo(s)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const g=h.crossesNgTemplate?wy(a,s,l,[]):Va(a,s,h,l);i.reset(g,ib),i.notifyOnChanges()}return!0}return!1}function v0(i,s,a){const l=Ut();l.firstCreatePass&&(Ni(l,new yy(i,s,a),-1),2==(2&s)&&(l.staticViewQueries=!0)),Hl(l,Se(),s)}function Ey(i,s,a,l){const h=Ut();if(h.firstCreatePass){const g=En();Ni(h,new yy(s,a,l),g.index),function E0(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(h,i),2==(2&a)&&(h.staticContentQueries=!0)}Hl(h,Se(),a)}function Kp(){return function w0(i,s){return i[19].queries[s].queryList}(Se(),zu())}function Hl(i,s,a){const l=new ln(4==(4&a));dm(i,s,l,l.destroy),null===s[19]&&(s[19]=new _0),s[19].queries.push(new y0(l))}function Ni(i,s,a){null===i.queries&&(i.queries=new Ou),i.queries.track(new ad(s,a))}function Yp(i,s){return i.queries.getByIndex(s)}function Wh(i,s){return zh(i,s)}function Qh(...i){}const k0=new hn("Application Initializer");let Jh=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Qh,this.reject=Qh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Sh(g))a.push(g);else if(vv(g)){const v=new Promise((I,D)=>{g.subscribe({complete:I,error:D})});a.push(v)}}Promise.all(a).then(()=>{l()}).catch(h=>{this.reject(h)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Cn(k0,8))},i.\u0275prov=cn({token:i,factory:i.\u0275fac}),i})();const _r=new hn("AppId"),QI={provide:_r,useFactory:function Jt(){return`${Dy()}${Dy()}${Dy()}`},deps:[]};function Dy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const by=new hn("Platform Initializer"),ag=new hn("Platform ID"),F0=new hn("appBootstrapListener");let L0=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=cn({token:i,factory:i.\u0275fac}),i})();const ug=new hn("LocaleId"),Ty=new hn("DefaultCurrencyCode");class My{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let Ry=(()=>{class i{compileModuleSync(a){return new oo(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),g=Po(dn(a).declarations).reduce((v,I)=>{const D=St(I);return D&&v.push(new gy(D)),v},[]);return new My(l,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=cn({token:i,factory:i.\u0275fac}),i})();const vb=(()=>Promise.resolve(0))();function Py(i){"undefined"==typeof Zone?vb.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Vs{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qo(!1),this.onMicrotaskEmpty=new qo(!1),this.onStable=new qo(!1),this.onError=new qo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&a,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function XI(){let i=$t.requestAnimationFrame,s=$t.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function U0(i){const s=()=>{!function Eb(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call($t,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,zl(i),i.isCheckStableRunning=!0,V0(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),zl(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,h,g,v,I)=>{try{return B0(i),a.invokeTask(h,g,v,I)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||i.shouldCoalesceRunChangeDetection)&&s(),eC(i)}},onInvoke:(a,l,h,g,v,I,D)=>{try{return B0(i),a.invoke(h,g,v,I,D)}finally{i.shouldCoalesceRunChangeDetection&&s(),eC(i)}},onHasTask:(a,l,h,g)=>{a.hasTask(h,g),l===h&&("microTask"==g.change?(i._hasPendingMicrotasks=g.microTask,zl(i),V0(i)):"macroTask"==g.change&&(i.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,l,h,g)=>(a.handleError(h,g),i.runOutsideAngular(()=>i.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Vs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,s,wb,Qh,Qh);try{return g.runTask(v,a,l)}finally{g.cancelTask(v)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const wb={};function V0(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function zl(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function B0(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function eC(i){i._nesting--,V0(i)}class vr{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qo,this.onMicrotaskEmpty=new qo,this.onStable=new qo,this.onError=new qo}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,h){return s.apply(a,l)}}let Oy=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vs.assertNotInAngularZone(),Py(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Py(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,h){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:h})}whenStable(a,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,h){return[]}}return i.\u0275fac=function(a){return new(a||i)(Cn(Vs))},i.\u0275prov=cn({token:i,factory:i.\u0275fac}),i})(),j0=(()=>{class i{constructor(){this._applications=new Map,cg.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return cg.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=cn({token:i,factory:i.\u0275fac}),i})();class lg{addToWindow(s){}findTestabilityInTree(s,a,l){return null}}function Ua(i){cg=i}let uo,cg=new lg;const $0=new hn("AllowMultipleToken");class Cb{constructor(s,a){this.name=s,this.token=a}}function Xh(i,s,a=[]){const l=`Platform: ${s}`,h=new hn(l);return(g=[])=>{let v=G0();if(!v||v.injector.get($0,!1))if(i)i(a.concat(g).concat({provide:h,useValue:!0}));else{const I=a.concat(g).concat({provide:h,useValue:!0},{provide:Q_,useValue:"platform"});!function Db(i){if(uo&&!uo.destroyed&&!uo.injector.get($0,!1))throw new ke(400,"");uo=i.get(Ny);const s=i.get(by,null);s&&s.forEach(a=>a())}(ro.create({providers:I,name:l}))}return function H0(i){const s=G0();if(!s)throw new ke(401,"");return s}()}}function G0(){return uo&&!uo.destroyed?uo:null}let Ny=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const I=function nC(i,s){let a;return a="noop"===i?new vr:("zone.js"===i?void 0:i)||new Vs({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),D=[{provide:Vs,useValue:I}];return I.run(()=>{const S=ro.create({providers:D,parent:this.injector,name:a.moduleType.name}),R=a.create(S),F=R.injector.get(Yd,null);if(!F)throw new ke(402,"");return I.runOutsideAngular(()=>{const B=I.onError.subscribe({next:z=>{F.handleError(z)}});R.onDestroy(()=>{Z0(this._modules,R),B.unsubscribe()})}),function bb(i,s,a){try{const l=a();return Sh(l)?l.catch(h=>{throw s.runOutsideAngular(()=>i.handleError(h)),h}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(F,I,()=>{const B=R.injector.get(Jh);return B.runInitializers(),B.donePromise.then(()=>(function $D(i){ft(i,"Expected localeId to be defined"),"string"==typeof i&&(nd=i.toLowerCase().replace(/_/g,"-"))}(R.injector.get(ug,Dr)||Dr),this._moduleDoBootstrap(R),R))})})}bootstrapModule(a,l=[]){const h=q0({},l);return function dg(i,s,a){const l=new oo(a);return Promise.resolve(l)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(a){const l=a.injector.get(hg);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new ke(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ke(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Cn(ro))},i.\u0275prov=cn({token:i,factory:i.\u0275fac}),i})();function q0(i,s){return Array.isArray(s)?s.reduce(q0,i):Object.assign(Object.assign({},i),s)}let hg=(()=>{class i{constructor(a,l,h,g,v){this._zone=a,this._injector=l,this._exceptionHandler=h,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const I=new k.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),D=new k.y(S=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{Vs.assertNotInAngularZone(),Py(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const F=this._zone.onUnstable.subscribe(()=>{Vs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{R.unsubscribe(),F.unsubscribe()}});this.isStable=(0,ie.T)(I,D.pipe((0,oe.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new ke(405,"");let h;h=a instanceof wI?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(h.componentType);const g=function tC(i){return i.isBoundToModule}(h)?void 0:this._injector.get(Tn),I=h.create(ro.NULL,[],l||h.selector,g),D=I.location.nativeElement,S=I.injector.get(Oy,null),R=S&&I.injector.get(j0);return S&&R&&R.registerApplication(D,S),I.onDestroy(()=>{this.detachView(I.hostView),Z0(this.components,I),R&&R.unregisterApplication(D)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new ke(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Z0(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(F0,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(Cn(Vs),Cn(ro),Cn(Yd),Cn($p),Cn(Jh))},i.\u0275prov=cn({token:i,factory:i.\u0275fac}),i})();function Z0(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let dd=!0,z0=!1;function Tb(){return z0=!0,dd}function iC(){if(z0)throw new Error("Cannot enable prod mode after platform setup.");dd=!1}let oC=(()=>{class i{}return i.__NG_ELEMENT_ID__=ky,i})();function ky(i){return function hd(i,s,a){if(ic(i)&&!a){const l=Sn(i.index,s);return new fn(l,l)}return 47&i.type?new fn(s[16],s):null}(En(),Se(),16==(16&i))}class Uy{constructor(){}supports(s){return Ra(s)}create(s){return new dC(s)}}const Q0=(i,s)=>s;class dC{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Q0}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,h=0,g=null;for(;a||l;){const v=!l||a&&a.currentIndex<gg(l,h,g)?a:l,I=gg(v,h,g),D=v.currentIndex;if(v===l)h--,l=l._nextRemoved;else if(a=a._next,null==v.previousIndex)h++;else{g||(g=[]);const S=I-h,R=D-h;if(S!=R){for(let B=0;B<S;B++){const z=B<g.length?g[B]:g[B]=0,_e=z+B;R<=_e&&_e<S&&(g[B]=z+1)}g[v.previousIndex]=R-S}}I!==D&&s(v,I,D)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Ra(s))throw new ke(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,g,v,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let I=0;I<this.length;I++)g=s[I],v=this._trackByFn(I,g),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,g,v,I)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,v,I),l=!0),a=a._next}else h=0,function iv(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[_h()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,I=>{v=this._trackByFn(h,I),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,I,v,h)),Object.is(a.item,I)||this._addIdentityChange(a,I)):(a=this._mismatch(a,I,v,h),l=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,h){let g;return null===s?g=this._itTail:(g=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,g,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,g,h)):s=this._addAfter(new J0(a,l),g,h),s}_verifyReinsertion(s,a,l,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?s=this._reinsertAfter(g,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,g=s._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const h=null===a?this._itHead:a._next;return s._next=h,s._prev=a,null===h?this._itTail=s:h._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new ew),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ew),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class J0{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class X0{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class ew{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new X0,this.map.set(a,l)),l.add(s)}get(s,a){const h=this.map.get(s);return h?h.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gg(i,s,a){const l=i.previousIndex;if(null===l)return l;let h=0;return a&&l<a.length&&(h=a[l]),l+s+h}class hC{constructor(){}supports(s){return s instanceof Map||Am(s)}create(){return new tw}}class tw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Am(s)))throw new ke(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(h,l);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,a);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const l=new By(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class By{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fC(){return new mg([new Uy])}let mg=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const h=l.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||fC()),deps:[[i,new ma,new Ti]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(null!=l)return l;throw new ke(901,"")}}return i.\u0275prov=cn({token:i,providedIn:"root",factory:fC}),i})();function yg(){return new Ql([new hC])}let Ql=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const h=l.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||yg()),deps:[[i,new ma,new Ti]]}}find(a){const l=this.factories.find(g=>g.supports(a));if(l)return l;throw new ke(901,"")}}return i.\u0275prov=cn({token:i,providedIn:"root",factory:yg}),i})();const pC=[new hC],Fi=new mg([new Uy]),mC=new Ql(pC),$y=Xh(null,"core",[{provide:ag,useValue:"unknown"},{provide:Ny,deps:[ro]},{provide:j0,deps:[]},{provide:L0,deps:[]}]),gd=[{provide:hg,useClass:hg,deps:[Vs,ro,Yd,$p,Jh]},{provide:Bh,deps:[Vs],useFactory:function Ob(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:Jh,useClass:Jh,deps:[[new Ti,k0]]},{provide:Ry,useClass:Ry,deps:[]},QI,{provide:mg,useFactory:function yC(){return Fi},deps:[]},{provide:Ql,useFactory:function Jl(){return mC},deps:[]},{provide:ug,useFactory:function rf(i){return i||function _C(){return"undefined"!=typeof $localize&&$localize.locale||Dr}()},deps:[[new sl(ug),new Ti,new ma]]},{provide:Ty,useValue:"USD"}];let sf=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Cn(hg))},i.\u0275mod=Z({type:i}),i.\u0275inj=pr({providers:gd}),i})()},3942:(nt,Ee,N)=>{N.d(Ee,{Z:()=>ke});var f=N(2090),Q=N(4859),k=N(6881),ie=N(1877);class oe{constructor(le,ve){this._delegate=le,this.firebase=ve,(0,k._addComponent)(le,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this._delegate.automaticDataCollectionEnabled=le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(le=>{this._delegate.checkDestroyed(),le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(le,ve=k._DEFAULT_ENTRY_NAME){var je;this._delegate.checkDestroyed();const $e=this._delegate.container.getProvider(le);return!$e.isInitialized()&&"EXPLICIT"===(null===(je=$e.getComponent())||void 0===je?void 0:je.instantiationMode)&&$e.initialize(),$e.getImmediate({identifier:ve})}_removeServiceInstance(le,ve=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(le).clearInstance(ve)}_addComponent(le){(0,k._addComponent)(this._delegate,le)}_addOrOverwriteComponent(le){(0,k._addOrOverwriteComponent)(this._delegate,le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ae=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function fe(){const Ze=function he(Ze){const le={},ve={__esModule:!0,initializeApp:function Fe(We,_t={}){const Y=k.initializeApp(We,_t);if((0,f.r3)(le,Y.name))return le[Y.name];const pe=new Ze(Y,ve);return le[Y.name]=pe,pe},app:$e,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Me(We){const _t=We.name,Y=_t.replace("-compat","");if(k._registerComponent(We)&&"PUBLIC"===We.type){const pe=(we=$e())=>{if("function"!=typeof we[Y])throw ae.create("invalid-app-argument",{appName:_t});return we[Y]()};void 0!==We.serviceProps&&(0,f.ZB)(pe,We.serviceProps),ve[Y]=pe,Ze.prototype[Y]=function(...we){return this._getService.bind(this,_t).apply(this,We.multipleInstances?we:[])}}return"PUBLIC"===We.type?ve[Y]:null},removeApp:function je(We){delete le[We]},useAsService:function rt(We,_t){return"serverAuth"===_t?null:_t},modularAPIs:k}};function $e(We){if(!(0,f.r3)(le,We=We||k._DEFAULT_ENTRY_NAME))throw ae.create("no-app",{appName:We});return le[We]}return ve.default=ve,Object.defineProperty(ve,"apps",{get:function tt(){return Object.keys(le).map(We=>le[We])}}),$e.App=Ze,ve}(oe);return Ze.INTERNAL=Object.assign(Object.assign({},Ze.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function le(ve){(0,f.ZB)(Ze,ve)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),Ze}(),q=new ie.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ze=self.firebase.SDK_VERSION;Ze&&Ze.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ke=j;!function xe(Ze){(0,k.registerVersion)("@firebase/app-compat","0.2.13",Ze)}()},6881:(nt,Ee,N)=>{N.r(Ee),N.d(Ee,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>Xe,_DEFAULT_ENTRY_NAME:()=>un,_addComponent:()=>Bt,_addOrOverwriteComponent:()=>pt,_apps:()=>nr,_clearComponents:()=>$t,_components:()=>Sr,_getProvider:()=>hi,_registerComponent:()=>Ct,_removeServiceInstance:()=>Es,deleteApp:()=>zn,getApp:()=>jt,getApps:()=>Vi,initializeApp:()=>Ji,onLog:()=>fo,registerVersion:()=>rr,setLogLevel:()=>Qr});var f=N(5861),Q=N(4859),k=N(1877),ie=N(2090);let ge,ae;const j=new WeakMap,q=new WeakMap,te=new WeakMap,Ke=new WeakMap,xe=new WeakMap;let le={get(ne,J,Te){if(ne instanceof IDBTransaction){if("done"===J)return q.get(ne);if("objectStoreNames"===J)return ne.objectStoreNames||te.get(ne);if("store"===J)return Te.objectStoreNames[1]?void 0:Te.objectStore(Te.objectStoreNames[0])}return Fe(ne[J])},set:(ne,J,Te)=>(ne[J]=Te,!0),has:(ne,J)=>ne instanceof IDBTransaction&&("done"===J||"store"===J)||J in ne};function $e(ne){return"function"==typeof ne?function je(ne){return ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ne)?function(...J){return ne.apply(tt(this),J),Fe(j.get(this))}:function(...J){return Fe(ne.apply(tt(this),J))}:function(J,...Te){const ue=ne.call(tt(this),J,...Te);return te.set(ue,J.sort?J.sort():[J]),Fe(ue)}}(ne):(ne instanceof IDBTransaction&&function Ze(ne){if(q.has(ne))return;const J=new Promise((Te,ue)=>{const Ge=()=>{ne.removeEventListener("complete",at),ne.removeEventListener("error",Ft),ne.removeEventListener("abort",Ft)},at=()=>{Te(),Ge()},Ft=()=>{ue(ne.error||new DOMException("AbortError","AbortError")),Ge()};ne.addEventListener("complete",at),ne.addEventListener("error",Ft),ne.addEventListener("abort",Ft)});q.set(ne,J)}(ne),((ne,J)=>J.some(Te=>ne instanceof Te))(ne,function he(){return ge||(ge=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ne,le):ne)}function Fe(ne){if(ne instanceof IDBRequest)return function ke(ne){const J=new Promise((Te,ue)=>{const Ge=()=>{ne.removeEventListener("success",at),ne.removeEventListener("error",Ft)},at=()=>{Te(Fe(ne.result)),Ge()},Ft=()=>{ue(ne.error),Ge()};ne.addEventListener("success",at),ne.addEventListener("error",Ft)});return J.then(Te=>{Te instanceof IDBCursor&&j.set(Te,ne)}).catch(()=>{}),xe.set(J,ne),J}(ne);if(Ke.has(ne))return Ke.get(ne);const J=$e(ne);return J!==ne&&(Ke.set(ne,J),xe.set(J,ne)),J}const tt=ne=>xe.get(ne),We=["get","getKey","getAll","getAllKeys","count"],_t=["put","add","delete","clear"],Y=new Map;function pe(ne,J){if(!(ne instanceof IDBDatabase)||J in ne||"string"!=typeof J)return;if(Y.get(J))return Y.get(J);const Te=J.replace(/FromIndex$/,""),ue=J!==Te,Ge=_t.includes(Te);if(!(Te in(ue?IDBIndex:IDBObjectStore).prototype)||!Ge&&!We.includes(Te))return;const at=function(){var Ft=(0,f.Z)(function*(_n,...Lt){const Dn=this.transaction(_n,Ge?"readwrite":"readonly");let zt=Dn.store;return ue&&(zt=zt.index(Lt.shift())),(yield Promise.all([zt[Te](...Lt),Ge&&Dn.done]))[0]});return function(Lt){return Ft.apply(this,arguments)}}();return Y.set(J,at),at}!function ve(ne){le=ne(le)}(ne=>eD(XC({},ne),{get:(J,Te,ue)=>pe(J,Te)||ne.get(J,Te,ue),has:(J,Te)=>!!pe(J,Te)||ne.has(J,Te)}));class we{constructor(J){this.container=J}getPlatformInfoString(){return this.container.getProviders().map(Te=>{if(function De(ne){const J=ne.getComponent();return"VERSION"===(null==J?void 0:J.type)}(Te)){const ue=Te.getImmediate();return`${ue.library}/${ue.version}`}return null}).filter(Te=>Te).join(" ")}}const Ue="@firebase/app",bt=new k.Yd("@firebase/app"),un="[DEFAULT]",pn={[Ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},nr=new Map,Sr=new Map;function Bt(ne,J){try{ne.container.addComponent(J)}catch(Te){bt.debug(`Component ${J.name} failed to register with FirebaseApp ${ne.name}`,Te)}}function pt(ne,J){ne.container.addOrOverwriteComponent(J)}function Ct(ne){const J=ne.name;if(Sr.has(J))return bt.debug(`There were multiple attempts to register component ${J}.`),!1;Sr.set(J,ne);for(const Te of nr.values())Bt(Te,ne);return!0}function hi(ne,J){const Te=ne.container.getProvider("heartbeat").getImmediate({optional:!0});return Te&&Te.triggerHeartbeat(),ne.container.getProvider(J)}function Es(ne,J,Te=un){hi(ne,J).clearInstance(Te)}function $t(){Sr.clear()}const An=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Wt{constructor(J,Te,ue){this._isDeleted=!1,this._options=Object.assign({},J),this._config=Object.assign({},Te),this._name=Te.name,this._automaticDataCollectionEnabled=Te.automaticDataCollectionEnabled,this._container=ue,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this.checkDestroyed(),this._automaticDataCollectionEnabled=J}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(J){this._isDeleted=J}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}const Xe="9.23.0";function Ji(ne,J={}){let Te=ne;"object"!=typeof J&&(J={name:J});const ue=Object.assign({name:un,automaticDataCollectionEnabled:!1},J),Ge=ue.name;if("string"!=typeof Ge||!Ge)throw An.create("bad-app-name",{appName:String(Ge)});if(Te||(Te=(0,ie.aH)()),!Te)throw An.create("no-options");const at=nr.get(Ge);if(at){if((0,ie.vZ)(Te,at.options)&&(0,ie.vZ)(ue,at.config))return at;throw An.create("duplicate-app",{appName:Ge})}const Ft=new Q.H0(Ge);for(const Lt of Sr.values())Ft.addComponent(Lt);const _n=new Wt(Te,ue,Ft);return nr.set(Ge,_n),_n}function jt(ne=un){const J=nr.get(ne);if(!J&&ne===un&&(0,ie.aH)())return Ji();if(!J)throw An.create("no-app",{appName:ne});return J}function Vi(){return Array.from(nr.values())}function zn(ne){return $n.apply(this,arguments)}function $n(){return($n=(0,f.Z)(function*(ne){const J=ne.name;nr.has(J)&&(nr.delete(J),yield Promise.all(ne.container.getProviders().map(Te=>Te.delete())),ne.isDeleted=!0)})).apply(this,arguments)}function rr(ne,J,Te){var ue;let Ge=null!==(ue=pn[ne])&&void 0!==ue?ue:ne;Te&&(Ge+=`-${Te}`);const at=Ge.match(/\s|\//),Ft=J.match(/\s|\//);if(at||Ft){const _n=[`Unable to register library "${Ge}" with version "${J}":`];return at&&_n.push(`library name "${Ge}" contains illegal characters (whitespace or "/")`),at&&Ft&&_n.push("and"),Ft&&_n.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void bt.warn(_n.join(" "))}Ct(new Q.wA(`${Ge}-version`,()=>({library:Ge,version:J}),"VERSION"))}function fo(ne,J){if(null!==ne&&"function"!=typeof ne)throw An.create("invalid-log-argument");(0,k.Am)(ne,J)}function Qr(ne){(0,k.Ub)(ne)}const U="firebase-heartbeat-store";let V=null;function Z(){return V||(V=function Me(ne,J,{blocked:Te,upgrade:ue,blocking:Ge,terminated:at}={}){const Ft=indexedDB.open(ne,J),_n=Fe(Ft);return ue&&Ft.addEventListener("upgradeneeded",Lt=>{ue(Fe(Ft.result),Lt.oldVersion,Lt.newVersion,Fe(Ft.transaction),Lt)}),Te&&Ft.addEventListener("blocked",Lt=>Te(Lt.oldVersion,Lt.newVersion,Lt)),_n.then(Lt=>{at&&Lt.addEventListener("close",()=>at()),Ge&&Lt.addEventListener("versionchange",Dn=>Ge(Dn.oldVersion,Dn.newVersion,Dn))}).catch(()=>{}),_n}("firebase-heartbeat-database",1,{upgrade:(ne,J)=>{0===J&&ne.createObjectStore(U)}}).catch(ne=>{throw An.create("idb-open",{originalErrorMessage:ne.message})})),V}function X(){return(X=(0,f.Z)(function*(ne){try{return yield(yield Z()).transaction(U).objectStore(U).get(St(ne))}catch(J){if(J instanceof ie.ZR)bt.warn(J.message);else{const Te=An.create("idb-get",{originalErrorMessage:null==J?void 0:J.message});bt.warn(Te.message)}}})).apply(this,arguments)}function it(ne,J){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,f.Z)(function*(ne,J){try{const ue=(yield Z()).transaction(U,"readwrite");yield ue.objectStore(U).put(J,St(ne)),yield ue.done}catch(Te){if(Te instanceof ie.ZR)bt.warn(Te.message);else{const ue=An.create("idb-set",{originalErrorMessage:null==Te?void 0:Te.message});bt.warn(ue.message)}}})).apply(this,arguments)}function St(ne){return`${ne.name}!${ne.options.appId}`}class dn{constructor(J){this.container=J,this._heartbeatsCache=null;const Te=this.container.getProvider("app").getImmediate();this._storage=new pi(Te),this._heartbeatsCachePromise=this._storage.read().then(ue=>(this._heartbeatsCache=ue,ue))}triggerHeartbeat(){var J=this;return(0,f.Z)(function*(){const ue=J.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ge=Dt();if(null===J._heartbeatsCache&&(J._heartbeatsCache=yield J._heartbeatsCachePromise),J._heartbeatsCache.lastSentHeartbeatDate!==Ge&&!J._heartbeatsCache.heartbeats.some(at=>at.date===Ge))return J._heartbeatsCache.heartbeats.push({date:Ge,agent:ue}),J._heartbeatsCache.heartbeats=J._heartbeatsCache.heartbeats.filter(at=>{const Ft=new Date(at.date).valueOf();return Date.now()-Ft<=2592e6}),J._storage.overwrite(J._heartbeatsCache)})()}getHeartbeatsHeader(){var J=this;return(0,f.Z)(function*(){if(null===J._heartbeatsCache&&(yield J._heartbeatsCachePromise),null===J._heartbeatsCache||0===J._heartbeatsCache.heartbeats.length)return"";const Te=Dt(),{heartbeatsToSend:ue,unsentEntries:Ge}=function Wn(ne,J=1024){const Te=[];let ue=ne.slice();for(const Ge of ne){const at=Te.find(Ft=>Ft.agent===Ge.agent);if(at){if(at.dates.push(Ge.date),Xr(Te)>J){at.dates.pop();break}}else if(Te.push({agent:Ge.agent,dates:[Ge.date]}),Xr(Te)>J){Te.pop();break}ue=ue.slice(1)}return{heartbeatsToSend:Te,unsentEntries:ue}}(J._heartbeatsCache.heartbeats),at=(0,ie.L)(JSON.stringify({version:2,heartbeats:ue}));return J._heartbeatsCache.lastSentHeartbeatDate=Te,Ge.length>0?(J._heartbeatsCache.heartbeats=Ge,yield J._storage.overwrite(J._heartbeatsCache)):(J._heartbeatsCache.heartbeats=[],J._storage.overwrite(J._heartbeatsCache)),at})()}}function Dt(){return(new Date).toISOString().substring(0,10)}class pi{constructor(J){this.app=J,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var J=this;return(0,f.Z)(function*(){return(yield J._canUseIndexedDBPromise)&&(yield function Ie(ne){return X.apply(this,arguments)}(J.app))||{heartbeats:[]}})()}overwrite(J){var Te=this;return(0,f.Z)(function*(){var ue;if(yield Te._canUseIndexedDBPromise){const at=yield Te.read();return it(Te.app,{lastSentHeartbeatDate:null!==(ue=J.lastSentHeartbeatDate)&&void 0!==ue?ue:at.lastSentHeartbeatDate,heartbeats:J.heartbeats})}})()}add(J){var Te=this;return(0,f.Z)(function*(){var ue;if(yield Te._canUseIndexedDBPromise){const at=yield Te.read();return it(Te.app,{lastSentHeartbeatDate:null!==(ue=J.lastSentHeartbeatDate)&&void 0!==ue?ue:at.lastSentHeartbeatDate,heartbeats:[...at.heartbeats,...J.heartbeats]})}})()}}function Xr(ne){return(0,ie.L)(JSON.stringify({version:2,heartbeats:ne})).length}!function ei(ne){Ct(new Q.wA("platform-logger",J=>new we(J),"PRIVATE")),Ct(new Q.wA("heartbeat",J=>new dn(J),"PRIVATE")),rr(Ue,"0.9.13",ne),rr(Ue,"0.9.13","esm2017"),rr("fire-js","")}("")},4859:(nt,Ee,N)=>{N.d(Ee,{H0:()=>he,wA:()=>k});var f=N(5861),Q=N(2090);class k{constructor(j,q,te){this.name=j,this.instanceFactory=q,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const ie="[DEFAULT]";class oe{constructor(j,q){this.name=j,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const q=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(q)){const te=new Q.BH;if(this.instancesDeferred.set(q,te),this.isInitialized(q)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:q});Ke&&te.resolve(Ke)}catch(Ke){}}return this.instancesDeferred.get(q).promise}getImmediate(j){var q;const te=this.normalizeInstanceIdentifier(null==j?void 0:j.identifier),Ke=null!==(q=null==j?void 0:j.optional)&&void 0!==q&&q;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(xe){if(Ke)return null;throw xe}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function ae(fe){return"EAGER"===fe.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:ie})}catch(q){}for(const[q,te]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(q);try{const xe=this.getOrInitializeService({instanceIdentifier:Ke});te.resolve(xe)}catch(xe){}}}}clearInstance(j=ie){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,f.Z)(function*(){const q=Array.from(j.instances.values());yield Promise.all([...q.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...q.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=ie){return this.instances.has(j)}getOptions(j=ie){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:q={}}=j,te=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:te,options:q});for(const[xe,ke]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(xe)&&ke.resolve(Ke);return Ke}onInit(j,q){var te;const Ke=this.normalizeInstanceIdentifier(q),xe=null!==(te=this.onInitCallbacks.get(Ke))&&void 0!==te?te:new Set;xe.add(j),this.onInitCallbacks.set(Ke,xe);const ke=this.instances.get(Ke);return ke&&j(ke,Ke),()=>{xe.delete(j)}}invokeOnInitCallbacks(j,q){const te=this.onInitCallbacks.get(q);if(te)for(const Ke of te)try{Ke(j,q)}catch(xe){}}getOrInitializeService({instanceIdentifier:j,options:q={}}){let te=this.instances.get(j);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=j,fe===ie?void 0:fe),options:q}),this.instances.set(j,te),this.instancesOptions.set(j,q),this.invokeOnInitCallbacks(te,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,te)}catch(Ke){}var fe;return te||null}normalizeInstanceIdentifier(j=ie){return this.component?this.component.multipleInstances?j:ie:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const q=this.getProvider(j.name);if(q.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);q.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const q=new oe(j,this);return this.providers.set(j,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(nt,Ee,N)=>{N.d(Ee,{Am:()=>fe,Ub:()=>he,Yd:()=>ae,in:()=>Q});const f=[];var Q=(()=>{return(j=Q||(Q={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",Q;var j})();const k={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},ie=Q.INFO,oe={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},ge=(j,q,...te)=>{if(q<j.logLevel)return;const Ke=(new Date).toISOString(),xe=oe[q];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[xe](`[${Ke}]  ${j.name}:`,...te)};class ae{constructor(q){this.name=q,this._logLevel=ie,this._logHandler=ge,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in Q))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?k[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...q),this._logHandler(this,Q.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...q),this._logHandler(this,Q.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...q),this._logHandler(this,Q.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...q),this._logHandler(this,Q.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...q),this._logHandler(this,Q.ERROR,...q)}}function he(j){f.forEach(q=>{q.setLogLevel(j)})}function fe(j,q){for(const te of f){let Ke=null;q&&q.level&&(Ke=k[q.level]),te.userLogHandler=null===j?null:(xe,ke,...Ze)=>{const le=Ze.map(ve=>{if(null==ve)return null;if("string"==typeof ve)return ve;if("number"==typeof ve||"boolean"==typeof ve)return ve.toString();if(ve instanceof Error)return ve.message;try{return JSON.stringify(ve)}catch(je){return null}}).filter(ve=>ve).join(" ");ke>=(null!=Ke?Ke:xe.logLevel)&&j({level:Q[ke].toLowerCase(),message:le,args:Ze,type:xe.name})}}}},259:(nt,Ee,N)=>{N.d(Ee,{C6:()=>f.getApps,Mq:()=>f.getApp});var f=N(6881);(0,f.registerVersion)("firebase","9.23.0","app")},9260:(nt,Ee,N)=>{N.d(Ee,{Z:()=>f.Z});var f=N(3942);f.Z.registerVersion("firebase","9.23.0","app-compat")},1825:(nt,Ee,N)=>{N.r(Ee);var f=N(5861),Q=N(3942),k=N(2090),ie=N(6881);function he(y,d){var p={};for(var _ in y)Object.prototype.hasOwnProperty.call(y,_)&&d.indexOf(_)<0&&(p[_]=y[_]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(_=Object.getOwnPropertySymbols(y);b<_.length;b++)d.indexOf(_[b])<0&&Object.prototype.propertyIsEnumerable.call(y,_[b])&&(p[_[b]]=y[_[b]])}return p}var Mt=N(1877),Yr=N(4859);const vs=function Pn(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ja=function _s(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Zo=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Li=new Mt.Yd("@firebase/auth");function co(y,...d){Li.logLevel<=Mt.in.ERROR&&Li.error(`Auth (${ie.SDK_VERSION}): ${y}`,...d)}function ot(y,...d){throw ho(y,...d)}function On(y,...d){return ho(y,...d)}function jn(y,d,p){const _=Object.assign(Object.assign({},ja()),{[d]:p});return new k.LL("auth","Firebase",_).create(d,{appName:y.name})}function Nn(y,d,p){if(!(d instanceof p))throw p.name!==d.constructor.name&&ot(y,"argument-error"),jn(y,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ho(y,...d){if("string"!=typeof y){const p=d[0],_=[...d.slice(1)];return _[0]&&(_[0].appName=y.name),y._errorFactory.create(p,..._)}return Zo.create(y,...d)}function Oe(y,d,...p){if(!y)throw ho(d,...p)}function un(y){const d="INTERNAL ASSERTION FAILED: "+y;throw co(d),new Error(d)}function pn(y,d){y||un(d)}function nr(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Sr(){return"http:"===Bt()||"https:"===Bt()}function Bt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class hi{constructor(d,p){this.shortDelay=d,this.longDelay=p,pn(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function pt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Sr()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Es(y,d){pn(y.emulator,"Emulator should always be set here");const{url:p}=y.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}class $t{static initialize(d,p,_){this.fetchImpl=d,p&&(this.headersImpl=p),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},An=new hi(3e4,6e4);function Wt(y,d){return y.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:y.tenantId}):d}function Xe(y,d,p,_){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,f.Z)(function*(y,d,p,_,b={}){return jt(y,b,(0,f.Z)(function*(){let A={},L={};_&&("GET"===d?L=_:A={body:JSON.stringify(_)});const H=(0,k.xO)(Object.assign({key:y.config.apiKey},L)).slice(1),me=yield y._getAdditionalHeaders();return me["Content-Type"]="application/json",y.languageCode&&(me["X-Firebase-Locale"]=y.languageCode),$t.fetch()(rr(y,y.config.apiHost,p,H),Object.assign({method:d,headers:me,referrerPolicy:"no-referrer"},A))}))})).apply(this,arguments)}function jt(y,d,p){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,f.Z)(function*(y,d,p){y._canInitEmulator=!1;const _=Object.assign(Object.assign({},fi),d);try{const b=new fo(y),A=yield Promise.race([p(),b.promise]);b.clearNetworkTimeout();const L=yield A.json();if("needConfirmation"in L)throw Qr(y,"account-exists-with-different-credential",L);if(A.ok&&!("errorMessage"in L))return L;{const H=A.ok?L.errorMessage:L.error.message,[me,de]=H.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===me)throw Qr(y,"credential-already-in-use",L);if("EMAIL_EXISTS"===me)throw Qr(y,"email-already-in-use",L);if("USER_DISABLED"===me)throw Qr(y,"user-disabled",L);const Re=_[me]||me.toLowerCase().replace(/[_\s]+/g,"-");if(de)throw jn(y,Re,de);ot(y,Re)}}catch(b){if(b instanceof k.ZR)throw b;ot(y,"network-request-failed",{message:String(b)})}})).apply(this,arguments)}function zn(y,d,p,_){return $n.apply(this,arguments)}function $n(){return($n=(0,f.Z)(function*(y,d,p,_,b={}){const A=yield Xe(y,d,p,_,b);return"mfaPendingCredential"in A&&ot(y,"multi-factor-auth-required",{_serverResponse:A}),A})).apply(this,arguments)}function rr(y,d,p,_){const b=`${d}${p}?${_}`;return y.config.emulator?Es(y.config,b):`${y.config.apiScheme}://${b}`}class fo{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,_)=>{this.timer=setTimeout(()=>_(On(this.auth,"network-request-failed")),An.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qr(y,d,p){const _={appName:y.name};p.email&&(_.email=p.email),p.phoneNumber&&(_.phoneNumber=p.phoneNumber);const b=On(y,d,_);return b.customData._tokenResponse=p,b}function Jr(){return(Jr=(0,f.Z)(function*(y,d){return Xe(y,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function U(y,d){return V.apply(this,arguments)}function V(){return(V=(0,f.Z)(function*(y,d){return Xe(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Z(y,d){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,f.Z)(function*(y,d){return Xe(y,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function X(y){if(y)try{const d=new Date(Number(y));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function St(){return(St=(0,f.Z)(function*(y,d=!1){const p=(0,k.m9)(y),_=yield p.getIdToken(d),b=sn(_);Oe(b&&b.exp&&b.auth_time&&b.iat,p.auth,"internal-error");const A="object"==typeof b.firebase?b.firebase:void 0,L=null==A?void 0:A.sign_in_provider;return{claims:b,token:_,authTime:X(gn(b.auth_time)),issuedAtTime:X(gn(b.iat)),expirationTime:X(gn(b.exp)),signInProvider:L||null,signInSecondFactor:(null==A?void 0:A.sign_in_second_factor)||null}})).apply(this,arguments)}function gn(y){return 1e3*Number(y)}function sn(y){const[d,p,_]=y.split(".");if(void 0===d||void 0===p||void 0===_)return co("JWT malformed, contained fewer than 3 sections"),null;try{const b=(0,k.tV)(p);return b?JSON.parse(b):(co("Failed to decode base64 JWT payload"),null)}catch(b){return co("Caught error parsing JWT payload as JSON",null==b?void 0:b.toString()),null}}function Dt(y,d){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,f.Z)(function*(y,d,p=!1){if(p)return d;try{return yield d}catch(_){throw _ instanceof k.ZR&&pi(_)&&y.auth.currentUser===y&&(yield y.auth.signOut()),_}})).apply(this,arguments)}function pi({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Xr{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const b=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,b)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const _=this.getInterval(d);this.timerId=setTimeout((0,f.Z)(function*(){yield p.iteration()}),_)}iteration(){var d=this;return(0,f.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===(null==p?void 0:p.code)&&d.schedule(!0))}d.schedule()})()}}class ei{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=X(this.lastLoginAt),this.creationTime=X(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ne(y){return J.apply(this,arguments)}function J(){return(J=(0,f.Z)(function*(y){var d;const p=y.auth,_=yield y.getIdToken(),b=yield Dt(y,Z(p,{idToken:_}));Oe(null==b?void 0:b.users.length,p,"internal-error");const A=b.users[0];y._notifyReloadListener(A);const L=(null===(d=A.providerUserInfo)||void 0===d?void 0:d.length)?at(A.providerUserInfo):[],H=Ge(y.providerData,L),Re=!!y.isAnonymous&&!(y.email&&A.passwordHash||(null==H?void 0:H.length)),He={uid:A.localId,displayName:A.displayName||null,photoURL:A.photoUrl||null,email:A.email||null,emailVerified:A.emailVerified||!1,phoneNumber:A.phoneNumber||null,tenantId:A.tenantId||null,providerData:H,metadata:new ei(A.createdAt,A.lastLoginAt),isAnonymous:Re};Object.assign(y,He)})).apply(this,arguments)}function ue(){return(ue=(0,f.Z)(function*(y){const d=(0,k.m9)(y);yield ne(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Ge(y,d){return[...y.filter(_=>!d.some(b=>b.providerId===_.providerId)),...d]}function at(y){return y.map(d=>{var{providerId:p}=d,_=he(d,["providerId"]);return{providerId:p,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}function _n(){return(_n=(0,f.Z)(function*(y,d){const p=yield jt(y,{},(0,f.Z)(function*(){const _=(0,k.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:b,apiKey:A}=y.config,L=rr(y,b,"/v1/token",`key=${A}`),H=yield y._getAdditionalHeaders();return H["Content-Type"]="application/x-www-form-urlencoded",$t.fetch()(L,{method:"POST",headers:H,body:_})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Lt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){Oe(d.idToken,"internal-error"),Oe(void 0!==d.idToken,"internal-error"),Oe(void 0!==d.refreshToken,"internal-error");const p="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function dn(y){const d=sn(y);return Oe(d,"internal-error"),Oe(void 0!==d.exp,"internal-error"),Oe(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}getToken(d,p=!1){var _=this;return(0,f.Z)(function*(){return Oe(!_.accessToken||_.refreshToken,d,"user-token-expired"),p||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(d,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var _=this;return(0,f.Z)(function*(){const{accessToken:b,refreshToken:A,expiresIn:L}=yield function Ft(y,d){return _n.apply(this,arguments)}(d,p);_.updateTokensAndExpiration(b,A,Number(L))})()}updateTokensAndExpiration(d,p,_){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(d,p){const{refreshToken:_,accessToken:b,expirationTime:A}=p,L=new Lt;return _&&(Oe("string"==typeof _,"internal-error",{appName:d}),L.refreshToken=_),b&&(Oe("string"==typeof b,"internal-error",{appName:d}),L.accessToken=b),A&&(Oe("number"==typeof A,"internal-error",{appName:d}),L.expirationTime=A),L}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Lt,this.toJSON())}_performRefresh(){return un("not implemented")}}function Dn(y,d){Oe("string"==typeof y||void 0===y,"internal-error",{appName:d})}class zt{constructor(d){var{uid:p,auth:_,stsTokenManager:b}=d,A=he(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=_,this.stsTokenManager=b,this.accessToken=b.accessToken,this.displayName=A.displayName||null,this.email=A.email||null,this.emailVerified=A.emailVerified||!1,this.phoneNumber=A.phoneNumber||null,this.photoURL=A.photoURL||null,this.isAnonymous=A.isAnonymous||!1,this.tenantId=A.tenantId||null,this.providerData=A.providerData?[...A.providerData]:[],this.metadata=new ei(A.createdAt||void 0,A.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,f.Z)(function*(){const _=yield Dt(p,p.stsTokenManager.getToken(p.auth,d));return Oe(_,p.auth,"internal-error"),p.accessToken!==_&&(p.accessToken=_,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),_})()}getIdTokenResult(d){return function Rt(y){return St.apply(this,arguments)}(this,d)}reload(){return function Te(y){return ue.apply(this,arguments)}(this)}_assign(d){this!==d&&(Oe(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const p=new zt(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(d){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,p=!1){var _=this;return(0,f.Z)(function*(){let b=!1;d.idToken&&d.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(d),b=!0),p&&(yield ne(_)),yield _.auth._persistUserIfCurrent(_),b&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var d=this;return(0,f.Z)(function*(){const p=yield d.getIdToken();return yield Dt(d,function Ui(y,d){return Jr.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var _,b,A,L,H,me,de,Re;const He=null!==(_=p.displayName)&&void 0!==_?_:void 0,Ot=null!==(b=p.email)&&void 0!==b?b:void 0,kn=null!==(A=p.phoneNumber)&&void 0!==A?A:void 0,xi=null!==(L=p.photoURL)&&void 0!==L?L:void 0,us=null!==(H=p.tenantId)&&void 0!==H?H:void 0,gt=null!==(me=p._redirectEventId)&&void 0!==me?me:void 0,no=null!==(de=p.createdAt)&&void 0!==de?de:void 0,sh=null!==(Re=p.lastLoginAt)&&void 0!==Re?Re:void 0,{uid:Aa,emailVerified:Il,isAnonymous:Wi,providerData:Zc,stsTokenManager:ep}=p;Oe(Aa&&ep,d,"internal-error");const tp=Lt.fromJSON(this.name,ep);Oe("string"==typeof Aa,d,"internal-error"),Dn(He,d.name),Dn(Ot,d.name),Oe("boolean"==typeof Il,d,"internal-error"),Oe("boolean"==typeof Wi,d,"internal-error"),Dn(kn,d.name),Dn(xi,d.name),Dn(us,d.name),Dn(gt,d.name),Dn(no,d.name),Dn(sh,d.name);const ls=new zt({uid:Aa,auth:d,email:Ot,emailVerified:Il,displayName:He,isAnonymous:Wi,photoURL:xi,phoneNumber:kn,tenantId:us,stsTokenManager:tp,createdAt:no,lastLoginAt:sh});return Zc&&Array.isArray(Zc)&&(ls.providerData=Zc.map(oh=>Object.assign({},oh))),gt&&(ls._redirectEventId=gt),ls}static _fromIdTokenResponse(d,p,_=!1){return(0,f.Z)(function*(){const b=new Lt;b.updateFromServerResponse(p);const A=new zt({uid:p.localId,auth:d,stsTokenManager:b,isAnonymous:_});return yield ne(A),A})()}}const Is=new Map;function ir(y){pn(y instanceof Function,"Expected a class definition");let d=Is.get(y);return d?(pn(d instanceof y,"Instance stored in cache mismatched with class"),d):(d=new y,Is.set(y,d),d)}const Cs=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(p,_){var b=this;return(0,f.Z)(function*(){b.storage[p]=_})()}_get(p){var _=this;return(0,f.Z)(function*(){const b=_.storage[p];return void 0===b?null:b})()}_remove(p){var _=this;return(0,f.Z)(function*(){delete _.storage[p]})()}_addListener(p,_){}_removeListener(p,_){}}return y.type="NONE",y})();function Vr(y,d,p){return`firebase:${y}:${d}:${p}`}class $s{constructor(d,p,_){this.persistence=d,this.auth=p,this.userKey=_;const{config:b,name:A}=this.auth;this.fullUserKey=Vr(this.userKey,b.apiKey,A),this.fullPersistenceKey=Vr("persistence",b.apiKey,A),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,f.Z)(function*(){const p=yield d.persistence._get(d.fullUserKey);return p?zt._fromJSON(d.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,f.Z)(function*(){if(p.persistence===d)return;const _=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,_?p.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p,_="authUser"){return(0,f.Z)(function*(){if(!p.length)return new $s(ir(Cs),d,_);const b=(yield Promise.all(p.map(function(){var de=(0,f.Z)(function*(Re){if(yield Re._isAvailable())return Re});return function(Re){return de.apply(this,arguments)}}()))).filter(de=>de);let A=b[0]||ir(Cs);const L=Vr(_,d.config.apiKey,d.name);let H=null;for(const de of p)try{const Re=yield de._get(L);if(Re){const He=zt._fromJSON(d,Re);de!==A&&(H=He),A=de;break}}catch(Re){}const me=b.filter(de=>de._shouldAllowMigration);return A._shouldAllowMigration&&me.length?(A=me[0],H&&(yield A._set(L,H.toJSON())),yield Promise.all(p.map(function(){var de=(0,f.Z)(function*(Re){if(Re!==A)try{yield Re._remove(L)}catch(He){}});return function(Re){return de.apply(this,arguments)}}())),new $s(A,d,_)):new $s(A,d,_)})()}}function Ds(y){const d=y.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(gi(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(xr(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(nc(d))return"Blackberry";if(zo(d))return"Webos";if(po(d))return"Safari";if((d.includes("chrome/")||Hs(d))&&!d.includes("edge/"))return"Chrome";if(en(d))return"Android";{const _=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==_?void 0:_.length))return _[1]}return"Other"}function xr(y=(0,k.z$)()){return/firefox\//i.test(y)}function po(y=(0,k.z$)()){const d=y.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Hs(y=(0,k.z$)()){return/crios\//i.test(y)}function gi(y=(0,k.z$)()){return/iemobile/i.test(y)}function en(y=(0,k.z$)()){return/android/i.test(y)}function nc(y=(0,k.z$)()){return/blackberry/i.test(y)}function zo(y=(0,k.z$)()){return/webos/i.test(y)}function sr(y=(0,k.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Wo(y=(0,k.z$)()){return sr(y)||en(y)||zo(y)||nc(y)||/windows phone/i.test(y)||gi(y)}function sc(y,d=[]){let p;switch(y){case"Browser":p=Ds((0,k.z$)());break;case"Worker":p=`${Ds((0,k.z$)())}-${y}`;break;default:p=y}const _=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${ie.SDK_VERSION}/${_}`}function oc(){return(oc=(0,f.Z)(function*(y){return(yield Xe(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function mi(y,d){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,f.Z)(function*(y,d){return Xe(y,"GET","/v2/recaptchaConfig",Wt(y,d))})).apply(this,arguments)}function ff(y){return void 0!==y&&void 0!==y.getResponse}function pf(y){return void 0!==y&&void 0!==y.enterprise}class gf{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function Ed(y){return new Promise((d,p)=>{const _=document.createElement("script");_.setAttribute("src",y),_.onload=d,_.onerror=b=>{const A=On("internal-error");A.customData=b,p(A)},_.type="text/javascript",_.charset="UTF-8",function mf(){var y,d;return null!==(d=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==d?d:document}().appendChild(_)})}function ac(y){return`__${y}${Math.floor(1e6*Math.random())}`}class yf{constructor(d){this.type="recaptcha-enterprise",this.auth=bn(d)}verify(d="verify",p=!1){var _=this;return(0,f.Z)(function*(){function A(){return A=(0,f.Z)(function*(H){if(!p){if(null==H.tenantId&&null!=H._agentRecaptchaConfig)return H._agentRecaptchaConfig.siteKey;if(null!=H.tenantId&&void 0!==H._tenantRecaptchaConfigs[H.tenantId])return H._tenantRecaptchaConfigs[H.tenantId].siteKey}return new Promise(function(){var me=(0,f.Z)(function*(de,Re){mi(H,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(He=>{if(void 0!==He.recaptchaKey){const Ot=new gf(He);return null==H.tenantId?H._agentRecaptchaConfig=Ot:H._tenantRecaptchaConfigs[H.tenantId]=Ot,de(Ot.siteKey)}Re(new Error("recaptcha Enterprise site key undefined"))}).catch(He=>{Re(He)})});return function(de,Re){return me.apply(this,arguments)}}())}),A.apply(this,arguments)}function L(H,me,de){const Re=window.grecaptcha;pf(Re)?Re.enterprise.ready(()=>{Re.enterprise.execute(H,{action:d}).then(He=>{me(He)}).catch(()=>{me("NO_RECAPTCHA")})}):de(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((H,me)=>{(function b(H){return A.apply(this,arguments)})(_.auth).then(de=>{if(!p&&pf(window.grecaptcha))L(de,H,me);else{if("undefined"==typeof window)return void me(new Error("RecaptchaVerifier is only supported in browser"));Ed("https://www.google.com/recaptcha/enterprise.js?render="+de).then(()=>{L(de,H,me)}).catch(Re=>{me(Re)})}}).catch(de=>{me(de)})})})()}}function go(y,d,p){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,f.Z)(function*(y,d,p,_=!1){const b=new yf(y);let A;try{A=yield b.verify(p)}catch(H){A=yield b.verify(p,!0)}const L=Object.assign({},d);return Object.assign(L,_?{captchaResp:A}:{captchaResponse:A}),Object.assign(L,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(L,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),L})).apply(this,arguments)}class a_{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,p){const _=A=>new Promise((L,H)=>{try{L(d(A))}catch(me){H(me)}});_.onAbort=p,this.queue.push(_);const b=this.queue.length-1;return()=>{this.queue[b]=()=>Promise.resolve()}}runMiddleware(d){var p=this;return(0,f.Z)(function*(){if(p.auth.currentUser===d)return;const _=[];try{for(const b of p.queue)yield b(d),b.onAbort&&_.push(b.onAbort)}catch(b){_.reverse();for(const A of _)try{A()}catch(L){}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null==b?void 0:b.message})}})()}}class _f{constructor(d,p,_,b){this.app=d,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=_,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pg(this),this.idTokenSubscription=new Pg(this),this.beforeStateQueue=new a_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zo,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(d,p){var _=this;return p&&(this._popupRedirectResolver=ir(p)),this._initializationPromise=this.queue((0,f.Z)(function*(){var b,A;if(!_._deleted&&(_.persistenceManager=yield $s.create(_,d),!_._deleted)){if(null===(b=_._popupRedirectResolver)||void 0===b?void 0:b._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch(L){}yield _.initializeCurrentUser(p),_.lastNotifiedUid=(null===(A=_.currentUser)||void 0===A?void 0:A.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,f.Z)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p,!0)}})()}initializeCurrentUser(d){var p=this;return(0,f.Z)(function*(){var _;const b=yield p.assertedPersistence.getCurrentUser();let A=b,L=!1;if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const H=null===(_=p.redirectUser)||void 0===_?void 0:_._redirectEventId,me=null==A?void 0:A._redirectEventId,de=yield p.tryRedirectSignIn(d);(!H||H===me)&&(null==de?void 0:de.user)&&(A=de.user,L=!0)}if(!A)return p.directlySetCurrentUser(null);if(!A._redirectEventId){if(L)try{yield p.beforeStateQueue.runMiddleware(A)}catch(H){A=b,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(H))}return A?p.reloadAndSetCurrentUserOrClear(A):p.directlySetCurrentUser(null)}return Oe(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===A._redirectEventId?p.directlySetCurrentUser(A):p.reloadAndSetCurrentUserOrClear(A)})()}tryRedirectSignIn(d){var p=this;return(0,f.Z)(function*(){let _=null;try{_=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch(b){yield p._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,f.Z)(function*(){try{yield ne(d)}catch(_){if("auth/network-request-failed"!==(null==_?void 0:_.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Ct(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var d=this;return(0,f.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,f.Z)(function*(){const _=d?(0,k.m9)(d):null;return _&&Oe(_.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(_&&_._clone(p))})()}_updateCurrentUser(d,p=!1){var _=this;return(0,f.Z)(function*(){if(!_._deleted)return d&&Oe(_.tenantId===d.tenantId,_,"tenant-id-mismatch"),p||(yield _.beforeStateQueue.runMiddleware(d)),_.queue((0,f.Z)(function*(){yield _.directlySetCurrentUser(d),_.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,f.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var p=this;return this.queue((0,f.Z)(function*(){yield p.assertedPersistence.setPersistence(ir(d))}))}initializeRecaptchaConfig(){var d=this;return(0,f.Z)(function*(){const p=yield mi(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),_=new gf(p);null==d.tenantId?d._agentRecaptchaConfig=_:d._tenantRecaptchaConfigs[d.tenantId]=_,_.emailPasswordEnabled&&new yf(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new k.LL("auth","Firebase",d())}onAuthStateChanged(d,p,_){return this.registerStateListener(this.authStateSubscription,d,p,_)}beforeAuthStateChanged(d,p){return this.beforeStateQueue.pushCallback(d,p)}onIdTokenChanged(d,p,_){return this.registerStateListener(this.idTokenSubscription,d,p,_)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var _=this;return(0,f.Z)(function*(){const b=yield _.getOrInitRedirectPersistenceManager(p);return null===d?b.removeCurrentUser():b.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,f.Z)(function*(){if(!p.redirectPersistenceManager){const _=d&&ir(d)||p._popupRedirectResolver;Oe(_,p,"argument-error"),p.redirectPersistenceManager=yield $s.create(p,[ir(_._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,f.Z)(function*(){var _,b;return p._isInitialized&&(yield p.queue((0,f.Z)(function*(){}))),(null===(_=p._currentUser)||void 0===_?void 0:_._redirectEventId)===d?p._currentUser:(null===(b=p.redirectUser)||void 0===b?void 0:b._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,f.Z)(function*(){if(d===p.currentUser)return p.queue((0,f.Z)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,_,b){if(this._deleted)return()=>{};const A="function"==typeof p?p:p.next.bind(p),L=this._isInitialized?Promise.resolve():this._initializationPromise;return Oe(L,this,"internal-error"),L.then(()=>A(this.currentUser)),"function"==typeof p?d.addObserver(p,_,b):d.addObserver(p)}directlySetCurrentUser(d){var p=this;return(0,f.Z)(function*(){p.currentUser&&p.currentUser!==d&&p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh(),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=sc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,f.Z)(function*(){var p;const _={"X-Client-Version":d.clientVersion};d.app.options.appId&&(_["X-Firebase-gmpid"]=d.app.options.appId);const b=yield null===(p=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();b&&(_["X-Firebase-Client"]=b);const A=yield d._getAppCheckToken();return A&&(_["X-Firebase-AppCheck"]=A),_})()}_getAppCheckToken(){var d=this;return(0,f.Z)(function*(){var p;const _=yield null===(p=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return(null==_?void 0:_.error)&&function ws(y,...d){Li.logLevel<=Mt.in.WARN&&Li.warn(`Auth (${ie.SDK_VERSION}): ${y}`,...d)}(`Error while retrieving App Check token: ${_.error}`),null==_?void 0:_.token})()}}function bn(y){return(0,k.m9)(y)}class Pg{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,k.ne)(p=>this.observer=p)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Cd(y){const d=y.indexOf(":");return d<0?"":y.substr(0,d+1)}function Ha(y){if(!y)return null;const d=Number(y);return isNaN(d)?null:d}class Ga{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return un("not implemented")}_getIdTokenResponse(d){return un("not implemented")}_linkToIdToken(d,p){return un("not implemented")}_getReauthenticationResolver(d){return un("not implemented")}}function uc(y,d){return qa.apply(this,arguments)}function qa(){return(qa=(0,f.Z)(function*(y,d){return Xe(y,"POST","/v1/accounts:resetPassword",Wt(y,d))})).apply(this,arguments)}function Dd(y,d){return Za.apply(this,arguments)}function Za(){return(Za=(0,f.Z)(function*(y,d){return Xe(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Vu(y,d){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,f.Z)(function*(y,d){return Xe(y,"POST","/v1/accounts:update",Wt(y,d))})).apply(this,arguments)}function za(y,d){return lc.apply(this,arguments)}function lc(){return(lc=(0,f.Z)(function*(y,d){return zn(y,"POST","/v1/accounts:signInWithPassword",Wt(y,d))})).apply(this,arguments)}function Wa(y,d){return bd.apply(this,arguments)}function bd(){return(bd=(0,f.Z)(function*(y,d){return Xe(y,"POST","/v1/accounts:sendOobCode",Wt(y,d))})).apply(this,arguments)}function Uu(y,d){return Td.apply(this,arguments)}function Td(){return(Td=(0,f.Z)(function*(y,d){return Wa(y,d)})).apply(this,arguments)}function vn(y,d){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,f.Z)(function*(y,d){return Wa(y,d)})).apply(this,arguments)}function Ad(y,d){return wn.apply(this,arguments)}function wn(){return(wn=(0,f.Z)(function*(y,d){return Wa(y,d)})).apply(this,arguments)}function wf(y,d){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,f.Z)(function*(y,d){return Wa(y,d)})).apply(this,arguments)}function Ur(){return(Ur=(0,f.Z)(function*(y,d){return zn(y,"POST","/v1/accounts:signInWithEmailLink",Wt(y,d))})).apply(this,arguments)}function Yo(){return(Yo=(0,f.Z)(function*(y,d){return zn(y,"POST","/v1/accounts:signInWithEmailLink",Wt(y,d))})).apply(this,arguments)}class ni extends Ga{constructor(d,p,_,b=null){super("password",_),this._email=d,this._password=p,this._tenantId=b}static _fromEmailAndPassword(d,p){return new ni(d,p,"password")}static _fromEmailAndCode(d,p,_=null){return new ni(d,p,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(d){var p=this;return(0,f.Z)(function*(){var _;switch(p.signInMethod){case"password":const b={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null===(_=d._getRecaptchaConfig())||void 0===_?void 0:_.emailPasswordEnabled){const A=yield go(d,b,"signInWithPassword");return za(d,A)}return za(d,b).catch(function(){var A=(0,f.Z)(function*(L){if("auth/missing-recaptcha-token"===L.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const H=yield go(d,b,"signInWithPassword");return za(d,H)}return Promise.reject(L)});return function(L){return A.apply(this,arguments)}}());case"emailLink":return function bs(y,d){return Ur.apply(this,arguments)}(d,{email:p._email,oobCode:p._password});default:ot(d,"internal-error")}})()}_linkToIdToken(d,p){var _=this;return(0,f.Z)(function*(){switch(_.signInMethod){case"password":return Dd(d,{idToken:p,returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Bu(y,d){return Yo.apply(this,arguments)}(d,{idToken:p,email:_._email,oobCode:_._password});default:ot(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Sn(y,d){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,f.Z)(function*(y,d){return zn(y,"POST","/v1/accounts:signInWithIdp",Wt(y,d))})).apply(this,arguments)}class Xi extends Ga{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const p=new Xi(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(p.idToken=d.idToken),d.accessToken&&(p.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(p.nonce=d.nonce),d.pendingToken&&(p.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(p.accessToken=d.oauthToken,p.secret=d.oauthTokenSecret):ot("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:_,signInMethod:b}=p,A=he(p,["providerId","signInMethod"]);if(!_||!b)return null;const L=new Xi(_,b);return L.idToken=A.idToken||void 0,L.accessToken=A.accessToken||void 0,L.secret=A.secret,L.nonce=A.nonce,L.pendingToken=A.pendingToken||null,L}_getIdTokenResponse(d){return Sn(d,this.buildRequest())}_linkToIdToken(d,p){const _=this.buildRequest();return _.idToken=p,Sn(d,_)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,Sn(d,p)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),d.postBody=(0,k.xO)(p)}return d}}function ji(y,d){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,f.Z)(function*(y,d){return Xe(y,"POST","/v1/accounts:sendVerificationCode",Wt(y,d))})).apply(this,arguments)}function Et(){return(Et=(0,f.Z)(function*(y,d){return zn(y,"POST","/v1/accounts:signInWithPhoneNumber",Wt(y,d))})).apply(this,arguments)}function yi(){return(yi=(0,f.Z)(function*(y,d){const p=yield zn(y,"POST","/v1/accounts:signInWithPhoneNumber",Wt(y,d));if(p.temporaryProof)throw Qr(y,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Ya={USER_NOT_FOUND:"user-not-found"};function yo(){return(yo=(0,f.Z)(function*(y,d){return zn(y,"POST","/v1/accounts:signInWithPhoneNumber",Wt(y,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Ya)})).apply(this,arguments)}class qs extends Ga{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,p){return new qs({verificationId:d,verificationCode:p})}static _fromTokenResponse(d,p){return new qs({phoneNumber:d,temporaryProof:p})}_getIdTokenResponse(d){return function ju(y,d){return Et.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,p){return function $u(y,d){return yi.apply(this,arguments)}(d,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function Hu(y,d){return yo.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:p,verificationId:_,verificationCode:b}=this.params;return d&&p?{temporaryProof:d,phoneNumber:p}:{sessionInfo:_,code:b}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:p,verificationCode:_,phoneNumber:b,temporaryProof:A}=d;return _||p||b||A?new qs({verificationId:p,verificationCode:_,phoneNumber:b,temporaryProof:A}):null}}class Ut{constructor(d){var p,_,b,A,L,H;const me=(0,k.zd)((0,k.pd)(d)),de=null!==(p=me.apiKey)&&void 0!==p?p:null,Re=null!==(_=me.oobCode)&&void 0!==_?_:null,He=function Ef(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(b=me.mode)&&void 0!==b?b:null);Oe(de&&Re&&He,"argument-error"),this.apiKey=de,this.operation=He,this.code=Re,this.continueUrl=null!==(A=me.continueUrl)&&void 0!==A?A:null,this.languageCode=null!==(L=me.languageCode)&&void 0!==L?L:null,this.tenantId=null!==(H=me.tenantId)&&void 0!==H?H:null}static parseLink(d){const p=function Se(y){const d=(0,k.zd)((0,k.pd)(y)).link,p=d?(0,k.zd)((0,k.pd)(d)).deep_link_id:null,_=(0,k.zd)((0,k.pd)(y)).deep_link_id;return(_?(0,k.zd)((0,k.pd)(_)).link:null)||_||p||d||y}(d);try{return new Ut(p)}catch(_){return null}}}let En=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(p,_){return ni._fromEmailAndPassword(p,_)}static credentialWithLink(p,_){const b=Ut.parseLink(_);return Oe(b,"argument-error"),ni._fromEmailAndCode(p,b.code,b.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class _i{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class As extends _i{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class or extends As{static credentialFromJSON(d){const p="string"==typeof d?JSON.parse(d):d;return Oe("providerId"in p&&"signInMethod"in p,"argument-error"),Xi._fromParams(p)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return Oe(d.idToken||d.accessToken,"argument-error"),Xi._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return or.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return or.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:_,oauthTokenSecret:b,pendingToken:A,nonce:L,providerId:H}=d;if(!_&&!b&&!p&&!A||!H)return null;try{return new or(H)._credential({idToken:p,accessToken:_,nonce:L,pendingToken:A})}catch(me){return null}}}let Jo=(()=>{class y extends As{constructor(){super("facebook.com")}static credential(p){return Xi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch(_){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Gu=(()=>{class y extends As{constructor(){super("google.com"),this.addScope("profile")}static credential(p,_){return Xi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:_})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:b}=p;if(!_&&!b)return null;try{return y.credential(_,b)}catch(A){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Sd=(()=>{class y extends As{constructor(){super("github.com")}static credential(p){return Xi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch(_){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Br extends Ga{constructor(d,p){super(d,d),this.pendingToken=p}_getIdTokenResponse(d){return Sn(d,this.buildRequest())}_linkToIdToken(d,p){const _=this.buildRequest();return _.idToken=p,Sn(d,_)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,Sn(d,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:_,signInMethod:b,pendingToken:A}=p;return _&&b&&A&&_===b?new Br(_,A):null}static _create(d,p){return new Br(d,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Yn extends _i{constructor(d){Oe(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return Yn.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return Yn.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const p=Br.fromJSON(d);return Oe(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:p,providerId:_}=d;if(!p||!_)return null;try{return Br._create(_,p)}catch(b){return null}}}let wi=(()=>{class y extends As{constructor(){super("twitter.com")}static credential(p,_){return Xi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:_})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:_,oauthTokenSecret:b}=p;if(!_||!b)return null;try{return y.credential(_,b)}catch(A){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Qa(y,d){return es.apply(this,arguments)}function es(){return(es=(0,f.Z)(function*(y,d){return zn(y,"POST","/v1/accounts:signUp",Wt(y,d))})).apply(this,arguments)}class Hn{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,_,b=!1){return(0,f.Z)(function*(){const A=yield zt._fromIdTokenResponse(d,_,b),L=qu(_);return new Hn({user:A,providerId:L,_tokenResponse:_,operationType:p})})()}static _forOperation(d,p,_){return(0,f.Z)(function*(){yield d._updateTokensIfNecessary(_,!0);const b=qu(_);return new Hn({user:d,providerId:b,_tokenResponse:_,operationType:p})})()}}function qu(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function cc(){return(cc=(0,f.Z)(function*(y){var d;const p=bn(y);if(yield p._initializationPromise,null===(d=p.currentUser)||void 0===d?void 0:d.isAnonymous)return new Hn({user:p.currentUser,providerId:null,operationType:"signIn"});const _=yield Qa(p,{returnSecureToken:!0}),b=yield Hn._fromIdTokenResponse(p,"signIn",_,!0);return yield p._updateCurrentUser(b.user),b})).apply(this,arguments)}class Zu extends k.ZR{constructor(d,p,_,b){var A;super(p.code,p.message),this.operationType=_,this.user=b,Object.setPrototypeOf(this,Zu.prototype),this.customData={appName:d.name,tenantId:null!==(A=d.tenantId)&&void 0!==A?A:void 0,_serverResponse:p.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(d,p,_,b){return new Zu(d,p,_,b)}}function ts(y,d,p,_){return("reauthenticate"===d?p._getReauthenticationResolver(y):p._getIdTokenResponse(y)).catch(A=>{throw"auth/multi-factor-auth-required"===A.code?Zu._fromErrorAndOperation(y,A,d,_):A})}function Xo(y){return new Set(y.map(({providerId:d})=>d).filter(d=>!!d))}function ea(){return(ea=(0,f.Z)(function*(y,d){const p=(0,k.m9)(y);yield Ss(!0,p,d);const{providerUserInfo:_}=yield U(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[d]}),b=Xo(_||[]);return p.providerData=p.providerData.filter(A=>b.has(A.providerId)),b.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function Ja(y,d){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,f.Z)(function*(y,d,p=!1){const _=yield Dt(y,d._linkToIdToken(y.auth,yield y.getIdToken()),p);return Hn._forOperation(y,"link",_)})).apply(this,arguments)}function Ss(y,d,p){return dc.apply(this,arguments)}function dc(){return(dc=(0,f.Z)(function*(y,d,p){yield ne(d);const b=!1===y?"provider-already-linked":"no-such-provider";Oe(Xo(d.providerData).has(p)===y,d.auth,b)})).apply(this,arguments)}function Wu(y,d){return ta.apply(this,arguments)}function ta(){return(ta=(0,f.Z)(function*(y,d,p=!1){const{auth:_}=y,b="reauthenticate";try{const A=yield Dt(y,ts(_,b,d,y),p);Oe(A.idToken,_,"internal-error");const L=sn(A.idToken);Oe(L,_,"internal-error");const{sub:H}=L;return Oe(y.uid===H,_,"user-mismatch"),Hn._forOperation(y,b,A)}catch(A){throw"auth/user-not-found"===(null==A?void 0:A.code)&&ot(_,"user-mismatch"),A}})).apply(this,arguments)}function hc(y,d){return xn.apply(this,arguments)}function xn(){return(xn=(0,f.Z)(function*(y,d,p=!1){const _="signIn",b=yield ts(y,_,d),A=yield Hn._fromIdTokenResponse(y,_,b);return p||(yield y._updateCurrentUser(A.user)),A})).apply(this,arguments)}function fc(y,d){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,f.Z)(function*(y,d){return hc(bn(y),d)})).apply(this,arguments)}function gr(y,d){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,f.Z)(function*(y,d){const p=(0,k.m9)(y);return yield Ss(!1,p,d.providerId),Ja(p,d)})).apply(this,arguments)}function In(y,d){return eu.apply(this,arguments)}function eu(){return(eu=(0,f.Z)(function*(y,d){return Wu((0,k.m9)(y),d)})).apply(this,arguments)}function tu(y,d){return na.apply(this,arguments)}function na(){return(na=(0,f.Z)(function*(y,d){return zn(y,"POST","/v1/accounts:signInWithCustomToken",Wt(y,d))})).apply(this,arguments)}function pc(){return(pc=(0,f.Z)(function*(y,d){const p=bn(y),_=yield tu(p,{token:d,returnSecureToken:!0}),b=yield Hn._fromIdTokenResponse(p,"signIn",_);return yield p._updateCurrentUser(b.user),b})).apply(this,arguments)}class Yu{constructor(d,p){this.factorId=d,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(d,p){return"phoneInfo"in p?ra._fromServerResponse(d,p):"totpInfo"in p?_o._fromServerResponse(d,p):ot(d,"internal-error")}}class ra extends Yu{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,p){return new ra(p)}}class _o extends Yu{constructor(d){super("totp",d)}static _fromServerResponse(d,p){return new _o(p)}}function ns(y,d,p){var _;Oe((null===(_=p.url)||void 0===_?void 0:_.length)>0,y,"invalid-continue-uri"),Oe(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),d.continueUrl=p.url,d.dynamicLinkDomain=p.dynamicLinkDomain,d.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Oe(p.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),d.iOSBundleId=p.iOS.bundleId),p.android&&(Oe(p.android.packageName.length>0,y,"missing-android-pkg-name"),d.androidInstallApp=p.android.installApp,d.androidMinimumVersionCode=p.android.minimumVersion,d.androidPackageName=p.android.packageName)}function gc(){return gc=(0,f.Z)(function*(y,d,p){var _;const b=bn(y),A={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};if(null===(_=b._getRecaptchaConfig())||void 0===_?void 0:_.emailPasswordEnabled){const L=yield go(b,A,"getOobCode",!0);p&&ns(b,L,p),yield vn(b,L)}else p&&ns(b,A,p),yield vn(b,A).catch(function(){var L=(0,f.Z)(function*(H){if("auth/missing-recaptcha-token"!==H.code)return Promise.reject(H);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const me=yield go(b,A,"getOobCode",!0);p&&ns(b,me,p),yield vn(b,me)}});return function(H){return L.apply(this,arguments)}}())}),gc.apply(this,arguments)}function $i(){return($i=(0,f.Z)(function*(y,d,p){yield uc((0,k.m9)(y),{oobCode:d,newPassword:p})})).apply(this,arguments)}function Pd(){return(Pd=(0,f.Z)(function*(y,d){yield Vu((0,k.m9)(y),{oobCode:d})})).apply(this,arguments)}function mc(y,d){return sa.apply(this,arguments)}function sa(){return(sa=(0,f.Z)(function*(y,d){const p=(0,k.m9)(y),_=yield uc(p,{oobCode:d}),b=_.requestType;switch(Oe(b,p,"internal-error"),b){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Oe(_.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Oe(_.mfaInfo,p,"internal-error");default:Oe(_.email,p,"internal-error")}let A=null;return _.mfaInfo&&(A=Yu._fromServerResponse(bn(p),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:A},operation:b}})).apply(this,arguments)}function Od(){return(Od=(0,f.Z)(function*(y,d){const{data:p}=yield mc((0,k.m9)(y),d);return p.email})).apply(this,arguments)}function If(){return If=(0,f.Z)(function*(y,d,p){var _;const b=bn(y),A={returnSecureToken:!0,email:d,password:p,clientType:"CLIENT_TYPE_WEB"};let L;if(null===(_=b._getRecaptchaConfig())||void 0===_?void 0:_.emailPasswordEnabled){const de=yield go(b,A,"signUpPassword");L=Qa(b,de)}else L=Qa(b,A).catch(function(){var de=(0,f.Z)(function*(Re){if("auth/missing-recaptcha-token"===Re.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const He=yield go(b,A,"signUpPassword");return Qa(b,He)}return Promise.reject(Re)});return function(Re){return de.apply(this,arguments)}}());const H=yield L.catch(de=>Promise.reject(de)),me=yield Hn._fromIdTokenResponse(b,"signIn",H);return yield b._updateCurrentUser(me.user),me}),If.apply(this,arguments)}function mn(){return mn=(0,f.Z)(function*(y,d,p){var _;const b=bn(y),A={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};function L(H,me){Oe(me.handleCodeInApp,b,"argument-error"),me&&ns(b,H,me)}if(null===(_=b._getRecaptchaConfig())||void 0===_?void 0:_.emailPasswordEnabled){const H=yield go(b,A,"getOobCode",!0);L(H,p),yield Ad(b,H)}else L(A,p),yield Ad(b,A).catch(function(){var H=(0,f.Z)(function*(me){if("auth/missing-recaptcha-token"!==me.code)return Promise.reject(me);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const de=yield go(b,A,"getOobCode",!0);L(de,p),yield Ad(b,de)}});return function(me){return H.apply(this,arguments)}}())}),mn.apply(this,arguments)}function Ei(){return(Ei=(0,f.Z)(function*(y,d,p){const _=(0,k.m9)(y),b=En.credentialWithLink(d,p||nr());return Oe(b._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),fc(_,b)})).apply(this,arguments)}function jr(y,d){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,f.Z)(function*(y,d){return Xe(y,"POST","/v1/accounts:createAuthUri",Wt(y,d))})).apply(this,arguments)}function Zs(){return(Zs=(0,f.Z)(function*(y,d){const _={identifier:d,continueUri:Sr()?nr():"http://localhost"},{signinMethods:b}=yield jr((0,k.m9)(y),_);return b||[]})).apply(this,arguments)}function vo(){return(vo=(0,f.Z)(function*(y,d){const p=(0,k.m9)(y),b={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};d&&ns(p.auth,b,d);const{email:A}=yield Uu(p.auth,b);A!==y.email&&(yield y.reload())})).apply(this,arguments)}function Xu(){return(Xu=(0,f.Z)(function*(y,d,p){const _=(0,k.m9)(y),A={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:d};p&&ns(_.auth,A,p);const{email:L}=yield wf(_.auth,A);L!==y.email&&(yield y.reload())})).apply(this,arguments)}function zs(y,d){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,f.Z)(function*(y,d){return Xe(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function xs(){return(xs=(0,f.Z)(function*(y,{displayName:d,photoURL:p}){if(void 0===d&&void 0===p)return;const _=(0,k.m9)(y),A={idToken:yield _.getIdToken(),displayName:d,photoUrl:p,returnSecureToken:!0},L=yield Dt(_,zs(_.auth,A));_.displayName=L.displayName||null,_.photoURL=L.photoUrl||null;const H=_.providerData.find(({providerId:me})=>"password"===me);H&&(H.displayName=_.displayName,H.photoURL=_.photoURL),yield _._updateTokensIfNecessary(L)})).apply(this,arguments)}function ar(y,d,p){return oa.apply(this,arguments)}function oa(){return(oa=(0,f.Z)(function*(y,d,p){const{auth:_}=y,A={idToken:yield y.getIdToken(),returnSecureToken:!0};d&&(A.email=d),p&&(A.password=p);const L=yield Dt(y,Dd(_,A));yield y._updateTokensIfNecessary(L,!0)})).apply(this,arguments)}class Ws{constructor(d,p,_={}){this.isNewUser=d,this.providerId=p,this.profile=_}}class aa extends Ws{constructor(d,p,_,b){super(d,p,_),this.username=b}}class Nd extends Ws{constructor(d,p){super(d,"facebook.com",p)}}class wo extends aa{constructor(d,p){super(d,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class el extends Ws{constructor(d,p){super(d,"google.com",p)}}class Lg extends aa{constructor(d,p,_){super(d,"twitter.com",p,_)}}function su(y){const{user:d,_tokenResponse:p}=y;return d.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Df(y){var d,p;if(!y)return null;const{providerId:_}=y,b=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},A=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!_&&(null==y?void 0:y.idToken)){const L=null===(p=null===(d=sn(y.idToken))||void 0===d?void 0:d.firebase)||void 0===p?void 0:p.sign_in_provider;if(L)return new Ws(A,"anonymous"!==L&&"custom"!==L?L:null)}if(!_)return null;switch(_){case"facebook.com":return new Nd(A,b);case"github.com":return new wo(A,b);case"google.com":return new el(A,b);case"twitter.com":return new Lg(A,b,y.screenName||null);case"custom":case"anonymous":return new Ws(A,null);default:return new Ws(A,_,b)}}(p)}class Ii{constructor(d,p,_){this.type=d,this.credential=p,this.auth=_}static _fromIdtoken(d,p){return new Ii("enroll",d,p)}static _fromMfaPendingCredential(d){return new Ii("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var p,_;if(null==d?void 0:d.multiFactorSession){if(null===(p=d.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return Ii._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(_=d.multiFactorSession)||void 0===_?void 0:_.idToken)return Ii._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Mn{constructor(d,p,_){this.session=d,this.hints=p,this.signInResolver=_}static _fromError(d,p){const _=bn(d),b=p.customData._serverResponse,A=(b.mfaInfo||[]).map(H=>Yu._fromServerResponse(_,H));Oe(b.mfaPendingCredential,_,"internal-error");const L=Ii._fromMfaPendingCredential(b.mfaPendingCredential);return new Mn(L,A,function(){var H=(0,f.Z)(function*(me){const de=yield me._process(_,L);delete b.mfaInfo,delete b.mfaPendingCredential;const Re=Object.assign(Object.assign({},b),{idToken:de.idToken,refreshToken:de.refreshToken});switch(p.operationType){case"signIn":const He=yield Hn._fromIdTokenResponse(_,p.operationType,Re);return yield _._updateCurrentUser(He.user),He;case"reauthenticate":return Oe(p.user,_,"internal-error"),Hn._forOperation(p.user,p.operationType,Re);default:ot(_,"internal-error")}});return function(me){return H.apply(this,arguments)}}())}resolveSignIn(d){var p=this;return(0,f.Z)(function*(){return p.signInResolver(d)})()}}function $r(y,d){return Xe(y,"POST","/v2/accounts/mfaEnrollment:start",Wt(y,d))}class ou{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(_=>Yu._fromServerResponse(d.auth,_)))})}static _fromUser(d){return new ou(d)}getSession(){var d=this;return(0,f.Z)(function*(){return Ii._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,p){var _=this;return(0,f.Z)(function*(){const b=d,A=yield _.getSession(),L=yield Dt(_.user,b._process(_.user.auth,A,p));return yield _.user._updateTokensIfNecessary(L),_.user.reload()})()}unenroll(d){var p=this;return(0,f.Z)(function*(){const _="string"==typeof d?d:d.uid,b=yield p.user.getIdToken();try{const A=yield Dt(p.user,function wc(y,d){return Xe(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Wt(y,d))}(p.user.auth,{idToken:b,mfaEnrollmentId:_}));p.enrolledFactors=p.enrolledFactors.filter(({uid:L})=>L!==_),yield p.user._updateTokensIfNecessary(A),yield p.user.reload()}catch(A){throw A}})()}}const Ld=new WeakMap,Ic="__sak";class Eo{constructor(d,p){this.storageRetriever=d,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Ic,"1"),this.storage.removeItem(Ic),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,p){return this.storage.setItem(d,JSON.stringify(p)),Promise.resolve()}_get(d){const p=this.storage.getItem(d);return Promise.resolve(p?JSON.parse(p):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gi=(()=>{class y extends Eo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,_)=>this.onStorageEvent(p,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ci(){const y=(0,k.z$)();return po(y)||sr(y)}()&&function ti(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Wo(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const _ of Object.keys(this.listeners)){const b=this.storage.getItem(_),A=this.localCache[_];b!==A&&p(_,A,b)}}onStorageEvent(p,_=!1){if(!p.key)return void this.forAllChangedKeys((H,me,de)=>{this.notifyListeners(H,de)});const b=p.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const H=this.storage.getItem(b);if(p.newValue!==H)null!==p.newValue?this.storage.setItem(b,p.newValue):this.storage.removeItem(b);else if(this.localCache[b]===p.newValue&&!_)return}const A=()=>{const H=this.storage.getItem(b);!_&&this.localCache[b]===H||this.notifyListeners(b,H)},L=this.storage.getItem(b);!function ic(){return(0,k.w1)()&&10===document.documentMode}()||L===p.newValue||p.newValue===p.oldValue?A():setTimeout(A,10)}notifyListeners(p,_){this.localCache[p]=_;const b=this.listeners[p];if(b)for(const A of Array.from(b))A(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,_,b)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:_,newValue:b}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(_)}_removeListener(p,_){this.listeners[p]&&(this.listeners[p].delete(_),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,_){var b=()=>super._set,A=this;return(0,f.Z)(function*(){yield b().call(A,p,_),A.localCache[p]=JSON.stringify(_)})()}_get(p){var _=()=>super._get,b=this;return(0,f.Z)(function*(){const A=yield _().call(b,p);return b.localCache[p]=JSON.stringify(A),A})()}_remove(p){var _=()=>super._remove,b=this;return(0,f.Z)(function*(){yield _().call(b,p),delete b.localCache[p]})()}}return y.type="LOCAL",y})(),Io=(()=>{class y extends Eo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,_){}_removeListener(p,_){}}return y.type="SESSION",y})();let Di=(()=>{class y{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const _=this.receivers.find(A=>A.isListeningto(p));if(_)return _;const b=new y(p);return this.receivers.push(b),b}isListeningto(p){return this.eventTarget===p}handleEvent(p){var _=this;return(0,f.Z)(function*(){const b=p,{eventId:A,eventType:L,data:H}=b.data,me=_.handlersMap[L];if(!(null==me?void 0:me.size))return;b.ports[0].postMessage({status:"ack",eventId:A,eventType:L});const de=Array.from(me).map(function(){var He=(0,f.Z)(function*(Ot){return Ot(b.origin,H)});return function(Ot){return He.apply(this,arguments)}}()),Re=yield function Cc(y){return Promise.all(y.map(function(){var d=(0,f.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(_){return{fulfilled:!1,reason:_}}});return function(p){return d.apply(this,arguments)}}()))}(de);b.ports[0].postMessage({status:"done",eventId:A,eventType:L,response:Re})})()}_subscribe(p,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(_)}_unsubscribe(p,_){this.handlersMap[p]&&_&&this.handlersMap[p].delete(_),(!_||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ir(y="",d=10){let p="";for(let _=0;_<d;_++)p+=Math.floor(10*Math.random());return y+p}class Dc{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p,_=50){var b=this;return(0,f.Z)(function*(){const A="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!A)throw new Error("connection_unavailable");let L,H;return new Promise((me,de)=>{const Re=Ir("",20);A.port1.start();const He=setTimeout(()=>{de(new Error("unsupported_event"))},_);H={messageChannel:A,onMessage(Ot){const kn=Ot;if(kn.data.eventId===Re)switch(kn.data.status){case"ack":clearTimeout(He),L=setTimeout(()=>{de(new Error("timeout"))},3e3);break;case"done":clearTimeout(L),me(kn.data.response);break;default:clearTimeout(He),clearTimeout(L),de(new Error("invalid_response"))}}},b.handlers.add(H),A.port1.addEventListener("message",H.onMessage),b.target.postMessage({eventType:d,eventId:Re,data:p},[A.port2])}).finally(()=>{H&&b.removeMessageHandler(H)})})()}}function yn(){return window}function lu(){return void 0!==yn().WorkerGlobalScope&&"function"==typeof yn().importScripts}function cu(){return(cu=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const tl="firebaseLocalStorageDb",da="firebaseLocalStorage",Hr="fbase_key";class du{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Ps(y,d){return y.transaction([da],d?"readwrite":"readonly").objectStore(da)}function hu(){const y=indexedDB.open(tl,1);return new Promise((d,p)=>{y.addEventListener("error",()=>{p(y.error)}),y.addEventListener("upgradeneeded",()=>{const _=y.result;try{_.createObjectStore(da,{keyPath:Hr})}catch(b){p(b)}}),y.addEventListener("success",(0,f.Z)(function*(){const _=y.result;_.objectStoreNames.contains(da)?d(_):(_.close(),yield function Af(){const y=indexedDB.deleteDatabase(tl);return new du(y).toPromise()}(),d(yield hu()))}))})}function Ud(y,d,p){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,f.Z)(function*(y,d,p){const _=Ps(y,!0).put({[Hr]:d,value:p});return new du(_).toPromise()})).apply(this,arguments)}function ha(){return(ha=(0,f.Z)(function*(y,d){const p=Ps(y,!1).get(d),_=yield new du(p).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function fa(y,d){const p=Ps(y,!0).delete(d);return new du(p).toPromise()}const is=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,f.Z)(function*(){return p.db||(p.db=yield hu()),p.db})()}_withRetries(p){var _=this;return(0,f.Z)(function*(){let b=0;for(;;)try{const A=yield _._openDb();return yield p(A)}catch(A){if(b++>3)throw A;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,f.Z)(function*(){return lu()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,f.Z)(function*(){p.receiver=Di._getInstance(function Vd(){return lu()?self:null}()),p.receiver._subscribe("keyChanged",function(){var _=(0,f.Z)(function*(b,A){return{keyProcessed:(yield p._poll()).includes(A.key)}});return function(b,A){return _.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var _=(0,f.Z)(function*(b,A){return["keyChanged"]});return function(b,A){return _.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,f.Z)(function*(){var _,b;if(p.activeServiceWorker=yield function Tf(){return cu.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Dc(p.activeServiceWorker);const A=yield p.sender._send("ping",{},800);!A||(null===(_=A[0])||void 0===_?void 0:_.fulfilled)&&(null===(b=A[0])||void 0===b?void 0:b.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var _=this;return(0,f.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function Ug(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:p},_.serviceWorkerReceiverAvailable?800:50)}catch(b){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const p=yield hu();return yield Ud(p,Ic,"1"),yield fa(p,Ic),!0}catch(p){}return!1})()}_withPendingWrite(p){var _=this;return(0,f.Z)(function*(){_.pendingWrites++;try{yield p()}finally{_.pendingWrites--}})()}_set(p,_){var b=this;return(0,f.Z)(function*(){return b._withPendingWrite((0,f.Z)(function*(){return yield b._withRetries(A=>Ud(A,p,_)),b.localCache[p]=_,b.notifyServiceWorker(p)}))})()}_get(p){var _=this;return(0,f.Z)(function*(){const b=yield _._withRetries(A=>function nl(y,d){return ha.apply(this,arguments)}(A,p));return _.localCache[p]=b,b})()}_remove(p){var _=this;return(0,f.Z)(function*(){return _._withPendingWrite((0,f.Z)(function*(){return yield _._withRetries(b=>fa(b,p)),delete _.localCache[p],_.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,f.Z)(function*(){const _=yield p._withRetries(L=>{const H=Ps(L,!1).getAll();return new du(H).toPromise()});if(!_)return[];if(0!==p.pendingWrites)return[];const b=[],A=new Set;for(const{fbase_key:L,value:H}of _)A.add(L),JSON.stringify(p.localCache[L])!==JSON.stringify(H)&&(p.notifyListeners(L,H),b.push(L));for(const L of Object.keys(p.localCache))p.localCache[L]&&!A.has(L)&&(p.notifyListeners(L,null),b.push(L));return b})()}notifyListeners(p,_){this.localCache[p]=_;const b=this.listeners[p];if(b)for(const A of Array.from(b))A(_)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(_)}_removeListener(p,_){this.listeners[p]&&(this.listeners[p].delete(_),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function rl(y,d){return Xe(y,"POST","/v2/accounts/mfaSignIn:start",Wt(y,d))}const fu=1e12;class Co{constructor(d){this.auth=d,this.counter=fu,this._widgets=new Map}render(d,p){const _=this.counter;return this._widgets.set(_,new bi(d,this.auth.name,p||{})),this.counter++,_}reset(d){var p;const _=d||fu;null===(p=this._widgets.get(_))||void 0===p||p.delete(),this._widgets.delete(_)}getResponse(d){var p;return(null===(p=this._widgets.get(d||fu))||void 0===p?void 0:p.getResponse())||""}execute(d){var p=this;return(0,f.Z)(function*(){var _;return null===(_=p._widgets.get(d||fu))||void 0===_||_.execute(),""})()}}class bi{constructor(d,p,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const b="string"==typeof d?document.getElementById(d):d;Oe(b,"argument-error",{appName:p}),this.container=b,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ga(y){const d=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<y;_++)d.push(p.charAt(Math.floor(Math.random()*p.length)));return d.join("")}(50);const{callback:d,"expired-callback":p}=this.params;if(d)try{d(this.responseToken)}catch(_){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(_){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Cn=ac("rcb"),Ht=new hi(3e4,6e4);class jd{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(d=yn().grecaptcha)||void 0===d?void 0:d.render)}load(d,p=""){return Oe(function Zi(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(p),d,"argument-error"),this.shouldResolveImmediately(p)&&ff(yn().grecaptcha)?Promise.resolve(yn().grecaptcha):new Promise((_,b)=>{const A=yn().setTimeout(()=>{b(On(d,"network-request-failed"))},Ht.get());yn()[Cn]=()=>{yn().clearTimeout(A),delete yn()[Cn];const H=yn().grecaptcha;if(!H||!ff(H))return void b(On(d,"internal-error"));const me=H.render;H.render=(de,Re)=>{const He=me(de,Re);return this.counter++,He},this.hostLanguage=p,_(H)},Ed(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:Cn,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(A),b(On(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var p;return!!(null===(p=yn().grecaptcha)||void 0===p?void 0:p.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Sf{load(d){return(0,f.Z)(function*(){return new Co(d)})()}clearedOneInstance(){}}const pu="recaptcha",xf={theme:"light",type:"image"};class sl{constructor(d,p=Object.assign({},xf),_){this.parameters=p,this.type=pu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bn(_),this.isInvisible="invisible"===this.parameters.size,Oe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const b="string"==typeof d?document.getElementById(d):d;Oe(b,this.auth,"argument-error"),this.container=b,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Sf:new jd,this.validateStartingState()}verify(){var d=this;return(0,f.Z)(function*(){d.assertNotDestroyed();const p=yield d.render(),_=d.getAssertedRecaptcha();return _.getResponse(p)||new Promise(A=>{const L=H=>{!H||(d.tokenChangeListeners.delete(L),A(H))};d.tokenChangeListeners.add(L),d.isInvisible&&_.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){Oe(!this.parameters.sitekey,this.auth,"argument-error"),Oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Oe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return p=>{if(this.tokenChangeListeners.forEach(_=>_(p)),"function"==typeof d)d(p);else if("string"==typeof d){const _=yn()[d];"function"==typeof _&&_(p)}}}assertNotDestroyed(){Oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,f.Z)(function*(){if(yield d.init(),!d.widgetId){let p=d.container;if(!d.isInvisible){const _=document.createElement("div");p.appendChild(_),p=_}d.widgetId=d.getAssertedRecaptcha().render(p,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,f.Z)(function*(){Oe(Sr()&&!lu(),d.auth,"internal-error"),yield function Ti(){let y=null;return new Promise(d=>{"complete"!==document.readyState?(y=()=>d(),window.addEventListener("load",y)):d()}).catch(d=>{throw y&&window.removeEventListener("load",y),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const p=yield function Mg(y){return oc.apply(this,arguments)}(d.auth);Oe(p,d.auth,"internal-error"),d.parameters.sitekey=p})()}getAssertedRecaptcha(){return Oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Do{constructor(d,p){this.verificationId=d,this.onConfirmation=p}confirm(d){const p=qs._fromVerification(this.verificationId,d);return this.onConfirmation(p)}}function gu(){return(gu=(0,f.Z)(function*(y,d,p){const _=bn(y),b=yield va(_,d,(0,k.m9)(p));return new Do(b,A=>fc(_,A))})).apply(this,arguments)}function bo(){return(bo=(0,f.Z)(function*(y,d,p){const _=(0,k.m9)(y);yield Ss(!1,_,"phone");const b=yield va(_.auth,d,(0,k.m9)(p));return new Do(b,A=>gr(_,A))})).apply(this,arguments)}function _a(){return(_a=(0,f.Z)(function*(y,d,p){const _=(0,k.m9)(y),b=yield va(_.auth,d,(0,k.m9)(p));return new Do(b,A=>In(_,A))})).apply(this,arguments)}function va(y,d,p){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,f.Z)(function*(y,d,p){var _;const b=yield p.verify();try{let A;if(Oe("string"==typeof b,y,"argument-error"),Oe(p.type===pu,y,"argument-error"),A="string"==typeof d?{phoneNumber:d}:d,"session"in A){const L=A.session;if("phoneNumber"in A)return Oe("enroll"===L.type,y,"internal-error"),(yield $r(y,{idToken:L.credential,phoneEnrollmentInfo:{phoneNumber:A.phoneNumber,recaptchaToken:b}})).phoneSessionInfo.sessionInfo;{Oe("signin"===L.type,y,"internal-error");const H=(null===(_=A.multiFactorHint)||void 0===_?void 0:_.uid)||A.multiFactorUid;return Oe(H,y,"missing-multi-factor-info"),(yield rl(y,{mfaPendingCredential:L.credential,mfaEnrollmentId:H,phoneSignInInfo:{recaptchaToken:b}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:L}=yield ji(y,{phoneNumber:A.phoneNumber,recaptchaToken:b});return L}}finally{p._reset()}})).apply(this,arguments)}function To(){return(To=(0,f.Z)(function*(y,d){yield Ja((0,k.m9)(y),d)})).apply(this,arguments)}let Ys=(()=>{class y{constructor(p){this.providerId=y.PROVIDER_ID,this.auth=bn(p)}verifyPhoneNumber(p,_){return va(this.auth,p,(0,k.m9)(_))}static credential(p,_){return qs._fromVerification(p,_)}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:_,temporaryProof:b}=p;return _&&b?qs._fromTokenResponse(_,b):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Ea(y,d){return d?ir(d):(Oe(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class ol extends Ga{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Sn(d,this._buildIdpRequest())}_linkToIdToken(d,p){return Sn(d,this._buildIdpRequest(p))}_getReauthenticationResolver(d){return Sn(d,this._buildIdpRequest())}_buildIdpRequest(d){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(p.idToken=d),p}}function Bg(y){return hc(y.auth,new ol(y),y.bypassAuthState)}function jg(y){const{auth:d,user:p}=y;return Oe(p,d,"internal-error"),Wu(p,new ol(y),y.bypassAuthState)}function Rf(y){return al.apply(this,arguments)}function al(){return(al=(0,f.Z)(function*(y){const{auth:d,user:p}=y;return Oe(p,d,"internal-error"),Ja(p,new ol(y),y.bypassAuthState)})).apply(this,arguments)}class ul{constructor(d,p,_,b,A=!1){this.auth=d,this.resolver=_,this.user=b,this.bypassAuthState=A,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var d=this;return new Promise(function(){var p=(0,f.Z)(function*(_,b){d.pendingPromise={resolve:_,reject:b};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(A){d.reject(A)}});return function(_,b){return p.apply(this,arguments)}}())}onAuthEvent(d){var p=this;return(0,f.Z)(function*(){const{urlResponse:_,sessionId:b,postBody:A,tenantId:L,error:H,type:me}=d;if(H)return void p.reject(H);const de={auth:p.auth,requestUri:_,sessionId:b,tenantId:L||void 0,postBody:A||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(me)(de))}catch(Re){p.reject(Re)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return Bg;case"linkViaPopup":case"linkViaRedirect":return Rf;case"reauthViaPopup":case"reauthViaRedirect":return jg;default:ot(this.auth,"internal-error")}}resolve(d){pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ia=new hi(2e3,1e4);function Pr(){return(Pr=(0,f.Z)(function*(y,d,p){const _=bn(y);Nn(y,d,_i);const b=Ea(_,p);return new Qs(_,"signInViaPopup",d,b).executeNotNull()})).apply(this,arguments)}function Ca(){return(Ca=(0,f.Z)(function*(y,d,p){const _=(0,k.m9)(y);Nn(_.auth,d,_i);const b=Ea(_.auth,p);return new Qs(_.auth,"reauthViaPopup",d,b,_).executeNotNull()})).apply(this,arguments)}function si(){return(si=(0,f.Z)(function*(y,d,p){const _=(0,k.m9)(y);Nn(_.auth,d,_i);const b=Ea(_.auth,p);return new Qs(_.auth,"linkViaPopup",d,b,_).executeNotNull()})).apply(this,arguments)}let Qs=(()=>{class y extends ul{constructor(p,_,b,A,L){super(p,_,A,L),this.provider=b,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var p=this;return(0,f.Z)(function*(){const _=yield p.execute();return Oe(_,p.auth,"internal-error"),_})()}onExecution(){var p=this;return(0,f.Z)(function*(){pn(1===p.filter.length,"Popup operations only handle one event");const _=Ir();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],_),p.authWindow.associatedEvent=_,p.resolver._originValidation(p.auth).catch(b=>{p.reject(b)}),p.resolver._isIframeWebStorageSupported(p.auth,b=>{b||p.reject(On(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(On(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const p=()=>{var _,b;this.pollId=(null===(b=null===(_=this.authWindow)||void 0===_?void 0:_.window)||void 0===b?void 0:b.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(On(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,Ia.get())};p()}}return y.currentPopupAction=null,y})();const Js=new Map;class Hd extends ul{constructor(d,p,_=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,_),this.eventId=null}execute(){var d=()=>super.execute,p=this;return(0,f.Z)(function*(){let _=Js.get(p.auth._key());if(!_){try{const A=(yield function cl(y,d){return dl.apply(this,arguments)}(p.resolver,p.auth))?yield d().call(p):null;_=()=>Promise.resolve(A)}catch(b){_=()=>Promise.reject(b)}Js.set(p.auth._key(),_)}return p.bypassAuthState||Js.set(p.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(d){var p=()=>super.onAuthEvent,_=this;return(0,f.Z)(function*(){if("signInViaRedirect"===d.type)return p().call(_,d);if("unknown"!==d.type){if(d.eventId){const b=yield _.auth._redirectUserForId(d.eventId);if(b)return _.user=b,p().call(_,d);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function dl(){return(dl=(0,f.Z)(function*(y,d){const p=ba(d),_=Or(y);if(!(yield _._isAvailable()))return!1;const b="true"===(yield _._get(p));return yield _._remove(p),b})).apply(this,arguments)}function ss(y,d){return Da.apply(this,arguments)}function Da(){return(Da=(0,f.Z)(function*(y,d){return Or(y)._set(ba(d),"true")})).apply(this,arguments)}function Ao(y,d){Js.set(y._key(),d)}function Or(y){return ir(y._redirectPersistence)}function ba(y){return Vr("pendingRedirect",y.config.apiKey,y.name)}function mu(){return(mu=(0,f.Z)(function*(y,d,p){const _=bn(y);Nn(y,d,_i),yield _._initializationPromise;const b=Ea(_,p);return yield ss(b,_),b._openRedirect(_,d,"signInViaRedirect")})).apply(this,arguments)}function xc(){return(xc=(0,f.Z)(function*(y,d,p){const _=(0,k.m9)(y);Nn(_.auth,d,_i),yield _.auth._initializationPromise;const b=Ea(_.auth,p);yield ss(b,_.auth);const A=yield se(_);return b._openRedirect(_.auth,d,"reauthViaRedirect",A)})).apply(this,arguments)}function C(){return(C=(0,f.Z)(function*(y,d,p){const _=(0,k.m9)(y);Nn(_.auth,d,_i),yield _.auth._initializationPromise;const b=Ea(_.auth,p);yield Ss(!1,_,d.providerId),yield ss(b,_.auth);const A=yield se(_);return b._openRedirect(_.auth,d,"linkViaRedirect",A)})).apply(this,arguments)}function O(){return(O=(0,f.Z)(function*(y,d){return yield bn(y)._initializationPromise,$(y,d,!1)})).apply(this,arguments)}function $(y,d){return W.apply(this,arguments)}function W(){return(W=(0,f.Z)(function*(y,d,p=!1){const _=bn(y),b=Ea(_,d),L=yield new Hd(_,b,p).execute();return L&&!p&&(delete L.user._redirectEventId,yield _._persistUserIfCurrent(L.user),yield _._setRedirectUser(null,d)),L})).apply(this,arguments)}function se(y){return qe.apply(this,arguments)}function qe(){return(qe=(0,f.Z)(function*(y){const d=Ir(`${y.uid}:::`);return y._redirectEventId=d,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),d})).apply(this,arguments)}class et{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let p=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(d,_)&&(p=!0,this.sendToConsumer(d,_),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function oi(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tt(y);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=d,p=!0)),p}sendToConsumer(d,p){var _;if(d.error&&!Tt(d)){const b=(null===(_=d.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";p.onError(On(this.auth,b))}else p.onAuthEvent(d)}isEventForConsumer(d,p){const _=null===p.eventId||!!d.eventId&&d.eventId===p.eventId;return p.filter.includes(d.type)&&_}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(It(d))}saveEventToCache(d){this.cachedEventUids.add(It(d)),this.lastProcessedEventTime=Date.now()}}function It(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(d=>d).join("-")}function Tt({type:y,error:d}){return"unknown"===y&&"auth/no-auth-event"===(null==d?void 0:d.code)}function yr(y){return xo.apply(this,arguments)}function xo(){return(xo=(0,f.Z)(function*(y,d={}){return Xe(y,"GET","/v1/projects",d)})).apply(this,arguments)}const Os=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mo=/^https?/;function Ai(){return(Ai=(0,f.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:d}=yield yr(y);for(const p of d)try{if(Ff(p))return}catch(_){}ot(y,"unauthorized-domain")})).apply(this,arguments)}function Ff(y){const d=nr(),{protocol:p,hostname:_}=new URL(d);if(y.startsWith("chrome-extension://")){const L=new URL(y);return""===L.hostname&&""===_?"chrome-extension:"===p&&y.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===p&&L.hostname===_}if(!Mo.test(p))return!1;if(Os.test(y))return _===y;const b=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+b+"|"+b+")$","i").test(_)}const Cw=new hi(3e4,6e4);function Lf(){const y=yn().___jsl;if(null==y?void 0:y.H)for(const d of Object.keys(y.H))if(y.H[d].r=y.H[d].r||[],y.H[d].L=y.H[d].L||[],y.H[d].r=[...y.H[d].L],y.CP)for(let p=0;p<y.CP.length;p++)y.CP[p]=null}let Ta=null;function l_(y){return Ta=Ta||function Mc(y){return new Promise((d,p)=>{var _,b,A;function L(){Lf(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Lf(),p(On(y,"network-request-failed"))},timeout:Cw.get()})}if(null===(b=null===(_=yn().gapi)||void 0===_?void 0:_.iframes)||void 0===b?void 0:b.Iframe)d(gapi.iframes.getContext());else{if(!(null===(A=yn().gapi)||void 0===A?void 0:A.load)){const H=ac("iframefcb");return yn()[H]=()=>{gapi.load?L():p(On(y,"network-request-failed"))},Ed(`https://apis.google.com/js/api.js?onload=${H}`).catch(me=>p(me))}L()}}).catch(d=>{throw Ta=null,d})}(y),Ta}const Rc=new hi(5e3,15e3),$g={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c_(y){const d=y.config;Oe(d.authDomain,y,"auth-domain-config-required");const p=d.emulator?Es(d,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,_={apiKey:d.apiKey,appName:y.name,v:ie.SDK_VERSION},b=Zd.get(y.config.apiHost);b&&(_.eid=b);const A=y._getFrameworks();return A.length&&(_.fw=A.join(",")),`${p}?${(0,k.xO)(_).slice(1)}`}function Pc(){return Pc=(0,f.Z)(function*(y){const d=yield l_(y),p=yn().gapi;return Oe(p,y,"internal-error"),d.open({where:document.body,url:c_(y),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$g,dontclear:!0},_=>new Promise(function(){var b=(0,f.Z)(function*(A,L){yield _.restyle({setHideOnLeave:!1});const H=On(y,"network-request-failed"),me=yn().setTimeout(()=>{L(H)},Rc.get());function de(){yn().clearTimeout(me),A(_)}_.ping(de).then(de,()=>{L(H)})});return function(A,L){return b.apply(this,arguments)}}()))}),Pc.apply(this,arguments)}const os={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Hg{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}const hl=encodeURIComponent("fac");function Cr(y,d,p,_,b,A){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,f.Z)(function*(y,d,p,_,b,A){Oe(y.config.authDomain,y,"auth-domain-config-required"),Oe(y.config.apiKey,y,"invalid-api-key");const L={apiKey:y.config.apiKey,appName:y.name,authType:p,redirectUrl:_,v:ie.SDK_VERSION,eventId:b};if(d instanceof _i){d.setDefaultLanguage(y.languageCode),L.providerId=d.providerId||"",(0,k.xb)(d.getCustomParameters())||(L.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Re,He]of Object.entries(A||{}))L[Re]=He}if(d instanceof As){const Re=d.getScopes().filter(He=>""!==He);Re.length>0&&(L.scopes=Re.join(","))}y.tenantId&&(L.tid=y.tenantId);const H=L;for(const Re of Object.keys(H))void 0===H[Re]&&delete H[Re];const me=yield y._getAppCheckToken(),de=me?`#${hl}=${encodeURIComponent(me)}`:"";return`${jf(y)}?${(0,k.xO)(H).slice(1)}${de}`})).apply(this,arguments)}function jf({config:y}){return y.emulator?Es(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}const yu="webStorageSupport";class Hf extends class $f{constructor(d){this.factorId=d}_process(d,p,_){switch(p.type){case"enroll":return this._finalizeEnroll(d,p.credential,_);case"signin":return this._finalizeSignIn(d,p.credential);default:return un("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Hf(d)}_finalizeEnroll(d,p,_){return function Rr(y,d){return Xe(y,"POST","/v2/accounts/mfaEnrollment:finalize",Wt(y,d))}(d,{idToken:p,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,p){return function qi(y,d){return Xe(y,"POST","/v2/accounts/mfaSignIn:finalize",Wt(y,d))}(d,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let f_=(()=>{class y{constructor(){}static assertion(p){return Hf._fromCredential(p)}}return y.FACTOR_ID="phone",y})();var pl="@firebase/auth";class g_{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,f.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(_=>{d((null==_?void 0:_.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);!p||(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function _u(){return window}function Zf(){return(Zf=(0,f.Z)(function*(y,d,p){var _;const{BuildInfo:b}=_u();pn(d.sessionId,"AuthEvent did not contain a session ID");const A=yield Zg(d.sessionId),L={};return sr()?L.ibi=b.packageName:en()?L.apn=b.packageName:ot(y,"operation-not-supported-in-this-environment"),b.displayName&&(L.appDisplayName=b.displayName),L.sessionId=A,Cr(y,p,d.type,void 0,null!==(_=d.eventId)&&void 0!==_?_:void 0,L)})).apply(this,arguments)}function Qd(){return(Qd=(0,f.Z)(function*(y){const{BuildInfo:d}=_u(),p={};sr()?p.iosBundleId=d.packageName:en()?p.androidPackageName=d.packageName:ot(y,"operation-not-supported-in-this-environment"),yield yr(y,p)})).apply(this,arguments)}function Jd(){return(Jd=(0,f.Z)(function*(y,d,p){const{cordova:_}=_u();let b=()=>{};try{yield new Promise((A,L)=>{let H=null;function me(){var He;A();const Ot=null===(He=_.plugins.browsertab)||void 0===He?void 0:He.close;"function"==typeof Ot&&Ot(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function de(){H||(H=window.setTimeout(()=>{L(On(y,"redirect-cancelled-by-user"))},2e3))}function Re(){"visible"===(null==document?void 0:document.visibilityState)&&de()}d.addPassiveListener(me),document.addEventListener("resume",de,!1),en()&&document.addEventListener("visibilitychange",Re,!1),b=()=>{d.removePassiveListener(me),document.removeEventListener("resume",de,!1),document.removeEventListener("visibilitychange",Re,!1),H&&window.clearTimeout(H)}})}finally{b()}})).apply(this,arguments)}function Zg(y){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,f.Z)(function*(y){const d=C_(y),p=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(p)).map(b=>b.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function C_(y){if(pn(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const d=new ArrayBuffer(y.length),p=new Uint8Array(d);for(let _=0;_<y.length;_++)p[_]=y.charCodeAt(_);return p}(0,k.Pz)("authIdTokenMaxAge"),function m_(y){(0,ie._registerComponent)(new Yr.wA("auth",(d,{options:p})=>{const _=d.getProvider("app").getImmediate(),b=d.getProvider("heartbeat"),A=d.getProvider("app-check-internal"),{apiKey:L,authDomain:H}=_.options;Oe(L&&!L.includes(":"),"invalid-api-key",{appName:_.name});const me={apiKey:L,authDomain:H,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sc(y)},de=new _f(_,b,A,me);return function u_(y,d){const p=(null==d?void 0:d.persistence)||[],_=(Array.isArray(p)?p:[p]).map(ir);(null==d?void 0:d.errorMap)&&y._updateErrorMap(d.errorMap),y._initializeWithPersistence(_,null==d?void 0:d.popupRedirectResolver)}(de,p),de},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,_)=>{d.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new Yr.wA("auth-internal",d=>{const p=bn(d.getProvider("auth").getImmediate());return new g_(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(pl,"0.23.2",function gl(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ie.registerVersion)(pl,"0.23.2","esm2017")}("Browser");class vu extends et{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(d)),super.onEvent(d)}initialized(){var d=this;return(0,f.Z)(function*(){yield d.initPromise})()}}function zg(y){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,f.Z)(function*(y){const d=yield Vc()._get(Uc(y));return d&&(yield Vc()._remove(Uc(y))),d})).apply(this,arguments)}function Xs(){const y=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const _=Math.floor(Math.random()*d.length);y.push(d.charAt(_))}return y.join("")}function Vc(){return ir(Gi)}function Uc(y){return Vr("authEvent",y.config.apiKey,y.name)}function eo(y){if(!(null==y?void 0:y.includes("?")))return{};const[d,...p]=y.split("?");return(0,k.zd)(p.join("?"))}function ml(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:On("no-auth-event")}}function _l(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function eh(y=(0,k.z$)()){return!("file:"!==_l()&&"ionic:"!==_l()&&"capacitor:"!==_l()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function nh(){try{const y=self.localStorage,d=Ir();if(y)return y.setItem(d,"1"),y.removeItem(d),!function th(y=(0,k.z$)()){return function zi(){return(0,k.w1)()&&11===(null==document?void 0:document.documentMode)}()||function x_(y=(0,k.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,k.hl)()}catch(y){return Bc()&&(0,k.hl)()}return!1}function Bc(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Oo(){return(function Qg(){return"http:"===_l()||"https:"===_l()}()||(0,k.ru)()||eh())&&!function S_(){return(0,k.b$)()||(0,k.UG)()}()&&nh()&&!Bc()}function rh(){return eh()&&"undefined"!=typeof document}function vl(){return(vl=(0,f.Z)(function*(){return!!rh()&&new Promise(y=>{const d=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),y(!0)})})})).apply(this,arguments)}const Si={LOCAL:"local",NONE:"none",SESSION:"session"},wu=Oe,jc="persistence";function to(y){return $c.apply(this,arguments)}function $c(){return($c=(0,f.Z)(function*(y){yield y._initializationPromise;const d=Hc(),p=Vr(jc,y.config.apiKey,y.name);d&&d.setItem(p,y._getPersistence())})).apply(this,arguments)}function Hc(){var y;try{return(null===(y=function M_(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(d){return null}}const Xg=Oe;class No{constructor(){this.browserResolver=ir(class Nr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Io,this._completeRedirectFn=$,this._overrideRedirectResult=Ao}_openPopup(d,p,_,b){var A=this;return(0,f.Z)(function*(){var L;pn(null===(L=A.eventManagers[d._key()])||void 0===L?void 0:L.manager,"_initialize() not called before _openPopup()");const H=yield Cr(d,p,_,nr(),b);return function d_(y,d,p,_=500,b=600){const A=Math.max((window.screen.availHeight-b)/2,0).toString(),L=Math.max((window.screen.availWidth-_)/2,0).toString();let H="";const me=Object.assign(Object.assign({},os),{width:_.toString(),height:b.toString(),top:A,left:L}),de=(0,k.z$)().toLowerCase();p&&(H=Hs(de)?"_blank":p),xr(de)&&(d=d||"http://localhost",me.scrollbars="yes");const Re=Object.entries(me).reduce((Ot,[kn,xi])=>`${Ot}${kn}=${xi},`,"");if(function rc(y=(0,k.z$)()){var d;return sr(y)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(de)&&"_self"!==H)return function h_(y,d){const p=document.createElement("a");p.href=y,p.target=d;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(_)}(d||"",H),new Hg(null);const He=window.open(d||"",H,Re);Oe(He,y,"popup-blocked");try{He.focus()}catch(Ot){}return new Hg(He)}(d,H,Ir())})()}_openRedirect(d,p,_,b){var A=this;return(0,f.Z)(function*(){return yield A._originValidation(d),function ca(y){yn().location.href=y}(yield Cr(d,p,_,nr(),b)),new Promise(()=>{})})()}_initialize(d){const p=d._key();if(this.eventManagers[p]){const{manager:b,promise:A}=this.eventManagers[p];return b?Promise.resolve(b):(pn(A,"If manager is not set, promise should be"),A)}const _=this.initAndGetManager(d);return this.eventManagers[p]={promise:_},_.catch(()=>{delete this.eventManagers[p]}),_}initAndGetManager(d){var p=this;return(0,f.Z)(function*(){const _=yield function lr(y){return Pc.apply(this,arguments)}(d),b=new et(d);return _.register("authEvent",A=>(Oe(null==A?void 0:A.authEvent,d,"invalid-auth-event"),{status:b.onEvent(A.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[d._key()]={manager:b},p.iframes[d._key()]=_,b})()}_isIframeWebStorageSupported(d,p){this.iframes[d._key()].send(yu,{type:yu},b=>{var A;const L=null===(A=null==b?void 0:b[0])||void 0===A?void 0:A[yu];void 0!==L&&p(!!L),ot(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Xn(y){return Ai.apply(this,arguments)}(d)),this.originValidationPromises[p]}get _shouldInitProactively(){return Wo()||po()||sr()}}),this.cordovaResolver=ir(class Yg{constructor(){this._redirectPersistence=Io,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$,this._overrideRedirectResult=Ao}_initialize(d){var p=this;return(0,f.Z)(function*(){const _=d._key();let b=p.eventManagers.get(_);return b||(b=new vu(d),p.eventManagers.set(_,b),p.attachCallbackListeners(d,b)),b})()}_openPopup(d){ot(d,"operation-not-supported-in-this-environment")}_openRedirect(d,p,_,b){var A=this;return(0,f.Z)(function*(){!function I_(y){var d,p,_,b,A,L,H,me,de,Re;const He=_u();Oe("function"==typeof(null===(d=null==He?void 0:He.universalLinks)||void 0===d?void 0:d.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Oe(void 0!==(null===(p=null==He?void 0:He.BuildInfo)||void 0===p?void 0:p.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Oe("function"==typeof(null===(A=null===(b=null===(_=null==He?void 0:He.cordova)||void 0===_?void 0:_.plugins)||void 0===b?void 0:b.browsertab)||void 0===A?void 0:A.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Oe("function"==typeof(null===(me=null===(H=null===(L=null==He?void 0:He.cordova)||void 0===L?void 0:L.plugins)||void 0===H?void 0:H.browsertab)||void 0===me?void 0:me.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Oe("function"==typeof(null===(Re=null===(de=null==He?void 0:He.cordova)||void 0===de?void 0:de.InAppBrowser)||void 0===Re?void 0:Re.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const L=yield A._initialize(d);yield L.initialized(),L.resetRedirect(),function Of(){Js.clear()}(),yield A._originValidation(d);const H=function Po(y,d,p=null){return{type:d,eventId:p,urlResponse:null,sessionId:Xs(),postBody:null,tenantId:y.tenantId,error:On(y,"no-auth-event")}}(d,_,b);yield function b_(y,d){return Vc()._set(Uc(y),d)}(d,H);const me=yield function __(y,d,p){return Zf.apply(this,arguments)}(d,H,p),de=yield function w_(y){const{cordova:d}=_u();return new Promise(p=>{d.plugins.browsertab.isAvailable(_=>{let b=null;_?d.plugins.browsertab.openUrl(y):b=d.InAppBrowser.open(y,function Bi(y=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),p(b)})})}(me);return function E_(y,d,p){return Jd.apply(this,arguments)}(d,L,de)})()}_isIframeWebStorageSupported(d,p){throw new Error("Method not implemented.")}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function v_(y){return Qd.apply(this,arguments)}(d)),this.originValidationPromises[p]}attachCallbackListeners(d,p){const{universalLinks:_,handleOpenURL:b,BuildInfo:A}=_u(),L=setTimeout((0,f.Z)(function*(){yield zg(d),p.onEvent(ml())}),500),H=function(){var Re=(0,f.Z)(function*(He){clearTimeout(L);const Ot=yield zg(d);let kn=null;Ot&&(null==He?void 0:He.url)&&(kn=function T_(y,d){var p,_;const b=function Wg(y){const d=eo(y),p=d.link?decodeURIComponent(d.link):void 0,_=eo(p).link,b=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return eo(b).link||b||_||p||y}(d);if(b.includes("/__/auth/callback")){const A=eo(b),L=A.firebaseError?function A_(y){try{return JSON.parse(y)}catch(d){return null}}(decodeURIComponent(A.firebaseError)):null,H=null===(_=null===(p=null==L?void 0:L.code)||void 0===p?void 0:p.split("auth/"))||void 0===_?void 0:_[1],me=H?On(H):null;return me?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:me,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:b,postBody:null}}return null}(Ot,He.url)),p.onEvent(kn||ml())});return function(Ot){return Re.apply(this,arguments)}}();void 0!==_&&"function"==typeof _.subscribe&&_.subscribe(null,H);const me=b,de=`${A.packageName.toLowerCase()}://`;_u().handleOpenURL=function(){var Re=(0,f.Z)(function*(He){if(He.toLowerCase().startsWith(de)&&H({url:He}),"function"==typeof me)try{me(He)}catch(Ot){console.error(Ot)}});return function(He){return Re.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Io,this._completeRedirectFn=$,this._overrideRedirectResult=Ao}_initialize(d){var p=this;return(0,f.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,p,_,b){var A=this;return(0,f.Z)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._openPopup(d,p,_,b)})()}_openRedirect(d,p,_,b){var A=this;return(0,f.Z)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._openRedirect(d,p,_,b)})()}_isIframeWebStorageSupported(d,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,p)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return rh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xg(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,f.Z)(function*(){if(d.underlyingResolver)return;const p=yield function Jg(){return vl.apply(this,arguments)}();d.underlyingResolver=p?d.cordovaResolver:d.browserResolver})()}}function Yf(y){return y.unwrap()}function ih(y){return Gc(y)}function Gc(y){const{_tokenResponse:d}=y instanceof k.ZR?y.customData:y;if(!d)return null;if(!(y instanceof k.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return Ys.credentialFromResult(y);const p=d.providerId;if(!p||"password"===p)return null;let _;switch(p){case"google.com":_=Gu;break;case"facebook.com":_=Jo;break;case"github.com":_=Sd;break;case"twitter.com":_=wi;break;default:const{oauthIdToken:b,oauthAccessToken:A,oauthTokenSecret:L,pendingToken:H,nonce:me}=d;return A||L||b||H?H?p.startsWith("saml.")?Br._create(p,H):Xi._fromParams({providerId:p,signInMethod:p,pendingToken:H,idToken:b,accessToken:A}):new or(p).credential({idToken:b,accessToken:A,rawNonce:me}):null}return y instanceof k.ZR?_.credentialFromError(y):_.credentialFromResult(y)}function kr(y,d){return d.catch(p=>{throw p instanceof k.ZR&&function tm(y,d){var p;const _=null===(p=d.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===(null==d?void 0:d.code))d.resolver=new nm(y,function Hi(y,d){var p;const _=(0,k.m9)(y),b=d;return Oe(d.customData.operationType,_,"argument-error"),Oe(null===(p=b.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,_,"argument-error"),Mn._fromError(_,b)}(y,d));else if(_){const b=Gc(d),A=d;b&&(A.credential=b,A.tenantId=_.tenantId||void 0,A.email=_.email||void 0,A.phoneNumber=_.phoneNumber||void 0)}}(y,p),p}).then(p=>{const b=p.user;return{operationType:p.operationType,credential:ih(p),additionalUserInfo:su(p),user:as.getOrCreate(b)}})}function El(y,d){return qc.apply(this,arguments)}function qc(){return(qc=(0,f.Z)(function*(y,d){const p=yield d;return{verificationId:p.verificationId,confirm:_=>kr(y,p.confirm(_))}})).apply(this,arguments)}class nm{constructor(d,p){this.resolver=p,this.auth=function em(y){return y.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return kr(Yf(this.auth),this.resolver.resolveSignIn(d))}}class as{constructor(d){this._delegate=d,this.multiFactor=function Ec(y){const d=(0,k.m9)(y);return Ld.has(d)||Ld.set(d,ou._fromUser(d)),Ld.get(d)}(d)}static getOrCreate(d){return as.USER_MAP.has(d)||as.USER_MAP.set(d,new as(d)),as.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var p=this;return(0,f.Z)(function*(){return kr(p.auth,gr(p._delegate,d))})()}linkWithPhoneNumber(d,p){var _=this;return(0,f.Z)(function*(){return El(_.auth,function Mf(y,d,p){return bo.apply(this,arguments)}(_._delegate,d,p))})()}linkWithPopup(d){var p=this;return(0,f.Z)(function*(){return kr(p.auth,function $d(y,d,p){return si.apply(this,arguments)}(p._delegate,d,No))})()}linkWithRedirect(d){var p=this;return(0,f.Z)(function*(){return yield to(bn(p.auth)),function kf(y,d,p){return function E(y,d,p){return C.apply(this,arguments)}(y,d,p)}(p._delegate,d,No)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var p=this;return(0,f.Z)(function*(){return kr(p.auth,In(p._delegate,d))})()}reauthenticateWithPhoneNumber(d,p){return El(this.auth,function ya(y,d,p){return _a.apply(this,arguments)}(this._delegate,d,p))}reauthenticateWithPopup(d){return kr(this.auth,function ll(y,d,p){return Ca.apply(this,arguments)}(this._delegate,d,No))}reauthenticateWithRedirect(d){var p=this;return(0,f.Z)(function*(){return yield to(bn(p.auth)),function Sc(y,d,p){return function Nf(y,d,p){return xc.apply(this,arguments)}(y,d,p)}(p._delegate,d,No)})()}sendEmailVerification(d){return function nu(y,d){return vo.apply(this,arguments)}(this._delegate,d)}unlink(d){var p=this;return(0,f.Z)(function*(){return yield function zu(y,d){return ea.apply(this,arguments)}(p._delegate,d),p})()}updateEmail(d){return function ru(y,d){return ar((0,k.m9)(y),d,null)}(this._delegate,d)}updatePassword(d){return function iu(y,d){return ar((0,k.m9)(y),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function wa(y,d){return To.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function Cf(y,d){return xs.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,p){return function vc(y,d,p){return Xu.apply(this,arguments)}(this._delegate,d,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}as.USER_MAP=new WeakMap;const ko=Oe;let P_=(()=>{class y{constructor(p,_){if(this.app=p,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:b}=p.options;ko(b,"invalid-api-key",{appName:p.name}),ko(b,"invalid-api-key",{appName:p.name});const A="undefined"!=typeof window?No:void 0;this._delegate=_.initialize({options:{persistence:O_(b,p.name),popupRedirectResolver:A}}),this._delegate._updateErrorMap(vs),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?as.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,_){!function Gs(y,d,p){const _=bn(y);Oe(_._canInitEmulator,_,"emulator-config-failed"),Oe(/^https?:\/\//.test(d),_,"invalid-emulator-scheme");const b=!!(null==p?void 0:p.disableWarnings),A=Cd(d),{host:L,port:H}=function $a(y){const d=Cd(y),p=/(\/\/)?([^?#/]+)/.exec(y.substr(d.length));if(!p)return{host:"",port:null};const _=p[2].split("@").pop()||"",b=/^(\[[^\]]+\])(:|$)/.exec(_);if(b){const A=b[1];return{host:A,port:Ha(_.substr(A.length+1))}}{const[A,L]=_.split(":");return{host:A,port:Ha(L)}}}(d);_.config.emulator={url:`${A}//${L}${null===H?"":`:${H}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:L,port:H,protocol:A.replace(":",""),options:Object.freeze({disableWarnings:b})}),b||function vf(){function y(){const d=document.createElement("p"),p=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,p,_)}applyActionCode(p){return function ia(y,d){return Pd.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return mc(this._delegate,p)}confirmPasswordReset(p,_){return function Rd(y,d,p){return $i.apply(this,arguments)}(this._delegate,p,_)}createUserWithEmailAndPassword(p,_){var b=this;return(0,f.Z)(function*(){return kr(b._delegate,function kg(y,d,p){return If.apply(this,arguments)}(b._delegate,p,_))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function _c(y,d){return Zs.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function rs(y,d){const p=Ut.parseLink(d);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,f.Z)(function*(){ko(Oo(),p._delegate,"operation-not-supported-in-this-environment");const _=yield function x(y,d){return O.apply(this,arguments)}(p._delegate,No);return _?kr(p._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function Wf(y,d){bn(y)._logFramework(d)}(this._delegate,p)}onAuthStateChanged(p,_,b){const{next:A,error:L,complete:H}=Qf(p,_,b);return this._delegate.onAuthStateChanged(A,L,H)}onIdTokenChanged(p,_,b){const{next:A,error:L,complete:H}=Qf(p,_,b);return this._delegate.onIdTokenChanged(A,L,H)}sendSignInLinkToEmail(p,_){return function Ju(y,d,p){return mn.apply(this,arguments)}(this._delegate,p,_)}sendPasswordResetEmail(p,_){return function Qu(y,d,p){return gc.apply(this,arguments)}(this._delegate,p,_||void 0)}setPersistence(p){var _=this;return(0,f.Z)(function*(){let b;switch(function wl(y,d){wu(Object.values(Si).includes(d),y,"invalid-persistence-type"),(0,k.b$)()?wu(d!==Si.SESSION,y,"unsupported-persistence-type"):(0,k.UG)()?wu(d===Si.NONE,y,"unsupported-persistence-type"):Bc()?wu(d===Si.NONE||d===Si.LOCAL&&(0,k.hl)(),y,"unsupported-persistence-type"):wu(d===Si.NONE||nh(),y,"unsupported-persistence-type")}(_._delegate,p),p){case Si.SESSION:b=Io;break;case Si.LOCAL:b=(yield ir(is)._isAvailable())?is:Gi;break;case Si.NONE:b=Cs;break;default:return ot("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(b)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return kr(this._delegate,function xd(y){return cc.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return kr(this._delegate,fc(this._delegate,p))}signInWithCustomToken(p){return kr(this._delegate,function Md(y,d){return pc.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,_){return kr(this._delegate,function Fg(y,d,p){return fc((0,k.m9)(y),En.credential(d,p))}(this._delegate,p,_))}signInWithEmailLink(p,_){return kr(this._delegate,function vt(y,d,p){return Ei.apply(this,arguments)}(this._delegate,p,_))}signInWithPhoneNumber(p,_){return El(this._delegate,function ma(y,d,p){return gu.apply(this,arguments)}(this._delegate,p,_))}signInWithPopup(p){var _=this;return(0,f.Z)(function*(){return ko(Oo(),_._delegate,"operation-not-supported-in-this-environment"),kr(_._delegate,function ii(y,d,p){return Pr.apply(this,arguments)}(_._delegate,p,No))})()}signInWithRedirect(p){var _=this;return(0,f.Z)(function*(){return ko(Oo(),_._delegate,"operation-not-supported-in-this-environment"),yield to(_._delegate),function So(y,d,p){return function Gd(y,d,p){return mu.apply(this,arguments)}(y,d,p)}(_._delegate,p,No)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function yc(y,d){return Od.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Si,y})();function Qf(y,d,p){let _=y;"function"!=typeof y&&({next:_,error:d,complete:p}=y);const b=_;return{next:L=>b(L&&as.getOrCreate(L)),error:d,complete:p}}function O_(y,d){const p=function R_(y,d){const p=Hc();if(!p)return[];const _=Vr(jc,y,d);switch(p.getItem(_)){case Si.NONE:return[Cs];case Si.LOCAL:return[is,Io];case Si.SESSION:return[Io];default:return[]}}(y,d);if("undefined"!=typeof self&&!p.includes(is)&&p.push(is),"undefined"!=typeof window)for(const _ of[Gi,Io])p.includes(_)||p.push(_);return p.includes(Cs)||p.push(Cs),p}class Jf{constructor(){this.providerId="phone",this._delegate=new Ys(Yf(Q.Z.auth()))}static credential(d,p){return Ys.credential(d,p)}verifyPhoneNumber(d,p){return this._delegate.verifyPhoneNumber(d,p)}unwrap(){return this._delegate}}Jf.PHONE_SIGN_IN_METHOD=Ys.PHONE_SIGN_IN_METHOD,Jf.PROVIDER_ID=Ys.PROVIDER_ID;const Xf=Oe;class Fo{constructor(d,p,_=Q.Z.app()){var b;Xf(null===(b=_.options)||void 0===b?void 0:b.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new sl(d,p,_.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Tw(y){y.INTERNAL.registerComponent(new Yr.wA("auth-compat",d=>{const p=d.getProvider("app-compat").getImmediate(),_=d.getProvider("auth");return new P_(p,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:En,FacebookAuthProvider:Jo,GithubAuthProvider:Sd,GoogleAuthProvider:Gu,OAuthProvider:or,SAMLAuthProvider:Yn,PhoneAuthProvider:Jf,PhoneMultiFactorGenerator:f_,RecaptchaVerifier:Fo,TwitterAuthProvider:wi,Auth:P_,AuthCredential:Ga,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.4.2")}(Q.Z)},5861:(nt,Ee,N)=>{function f(k,ie,oe,ge,ae,he,fe){try{var j=k[he](fe),q=j.value}catch(te){return void oe(te)}j.done?ie(q):Promise.resolve(q).then(ge,ae)}function Q(k){return function(){var ie=this,oe=arguments;return new Promise(function(ge,ae){var he=k.apply(ie,oe);function fe(q){f(he,ge,ae,fe,j,"next",q)}function j(q){f(he,ge,ae,fe,j,"throw",q)}fe(void 0)})}}N.d(Ee,{Z:()=>Q})}},nt=>{nt(nt.s=3083)}]);